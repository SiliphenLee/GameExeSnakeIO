System.register("chunks:///_virtual/Ability.ts",["cc","./ResMgr2.ts"],(function(t){var e,r,i;return{setters:[function(t){e=t.cclegacy,r=t.Sprite},function(t){i=t.ResMgr}],execute:function(){e._RF.push({},"387d3ZdxsxGv7eHEs8lLfef","Ability",void 0);t("AbilityType",function(t){return t.ScoreAdd="ScoreAdd",t.LookFar="LookFar",t.Shield="Shield",t.Attract="Attract",t}({})),t("AbilityIcon",function(){function t(){}return t.getSpriteFrame=function(t){var e="Prop/"+t.toString();return i.ins.ui.getChildByPath(e).getComponent(r).spriteFrame},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Account.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,r;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,n=t.sys,r=t.randomRangeInt}],execute:function(){var c;o._RF.push({},"0dbfftPZDBP6rpqhSY7fxn7","Account",void 0);var l=t("Account",(function(){this.money=50,this.resurrectionCard=0,this.propLookFar=2,this.propAttract=2,this.propShield=2,this.nickname=void 0,this.roleUsing="004",this.rolesOwned=new Set(["004"]),this.tailUsing="003",this.tailsOwned=new Set(["003"]),this.scoreBest=0}));c=l,l.ins=new c;t("AccountPersist",function(){function t(){}return t.load=function(){var t=l.ins,o=null;if(null!=(o=n.localStorage.getItem("Account_Nickname"))&&""!=o?l.ins.nickname=o:(l.ins.nickname="玩家"+r(1e5,999999),n.localStorage.setItem("Account_Nickname",t.nickname)),null!=(o=n.localStorage.getItem("Account_RoleUsing"))&&""!=o&&(l.ins.roleUsing=o),null!=(o=n.localStorage.getItem("Account_RolesOwned"))&&""!=o)for(var c,a=o.split(","),i=e(a);!(c=i()).done;){var s=c.value;t.rolesOwned.add(s)}if(null!=(o=n.localStorage.getItem("Account_TailUsing"))&&""!=o&&(l.ins.tailUsing=o),null!=(o=n.localStorage.getItem("Account_TailsOwned"))&&""!=o)for(var u,g=o.split(","),m=e(g);!(u=m()).done;){var S=u.value;t.tailsOwned.add(S)}null!=(o=n.localStorage.getItem("Account_Money"))&&""!=o&&(l.ins.money=Number(o)),null!=(o=n.localStorage.getItem("Account_ScoreBest"))&&""!=o&&(l.ins.scoreBest=Number(o)),null!=(o=n.localStorage.getItem("Account_ResurrectionCard"))&&""!=o&&(l.ins.resurrectionCard=Number(o)),null!=(o=n.localStorage.getItem("Account_PropLookFar"))&&""!=o&&(l.ins.propLookFar=Number(o)),null!=(o=n.localStorage.getItem("Account_PropAttract"))&&""!=o&&(l.ins.propAttract=Number(o)),null!=(o=n.localStorage.getItem("Account_PropShield"))&&""!=o&&(l.ins.propShield=Number(o))},t.save=function(){var t=l.ins;n.localStorage.setItem("Account_Nickname",t.nickname),n.localStorage.setItem("Account_RoleUsing",t.roleUsing);for(var o,r="",c=e(t.rolesOwned);!(o=c()).done;){r+=o.value+","}n.localStorage.setItem("Account_RolesOwned",r),n.localStorage.setItem("Account_TailUsing",t.tailUsing),r="";for(var a,i=e(t.tailsOwned);!(a=i()).done;){r+=a.value+","}n.localStorage.setItem("Account_TailsOwned",r),n.localStorage.setItem("Account_Money",t.money.toString()),n.localStorage.setItem("Account_ScoreBest",t.scoreBest.toString()),n.localStorage.setItem("Account_ResurrectionCard",t.resurrectionCard.toString()),n.localStorage.setItem("Account_PropLookFar",t.propLookFar.toString()),n.localStorage.setItem("Account_PropAttract",t.propAttract.toString()),n.localStorage.setItem("Account_PropShield",t.propShield.toString())},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ActiveCulling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Food.ts","./RoleMgr.ts","./GameMap.ts","./Article.ts","./RoleMove.ts","./Role.ts"],(function(t){var o,i,e,n,s,a,r,v;return{setters:[function(t){o=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){e=t.FoodMgr},function(t){n=t.RoleMgr},function(t){s=t.GameMap},function(t){a=t.ArticleMgr},function(t){r=t.RoleMoveEffect},function(t){v=t.RoleMoveType}],execute:function(){i._RF.push({},"3c573VOpxdAn5cE3BgEFo7S","ActiveCulling",void 0),t("ActiveCulling",function(){function t(){this.h=void 0,this.top=void 0,this.bottom=void 0}var i=t.prototype;return i.setMode1=function(){this.h=35,this.top=30,this.bottom=13},i.setMode2=function(){this.setMode1(),this.h*=1.5,this.top*=1.5,this.bottom*=1.8},i.update=function(){this.food(),this.role(),this.decoration(),this.ground(),this.article()},i.test=function(t,o,i,e,n){void 0===i&&(i=this.h),void 0===e&&(e=this.top),void 0===n&&(n=this.bottom);var s=t.worldPosition,a=Math.abs(s.x-o.x);return!(a>i)&&(!((a=s.z-o.z)<-e)&&!(a>n))},i.showChildren=function(t,o){for(var i=0;i<t.children.length;++i){var e=t.children[i];switch(e.name){case"RoleCollision":case"RoleCollisionEat":continue}e.active=o}},i.article=function(){for(var t,i=n.ins.local.view.main.worldPosition,e=o(a.data);!(t=e()).done;){var s=t.value,r=this.test(s.view.root,i,this.h+10,this.top+10,this.bottom+10);s.view.main.active=r,s.view.shadow.active=r}},i.ground=function(){for(var t,i=n.ins.local.view.main.worldPosition,e=o(s.ins.view.ground);!(t=e()).done;){var a=t.value,r=this.test(a,i,this.h+2,this.top+-3,this.bottom+1);a.active=r}},i.decoration=function(){for(var t,i=n.ins.local.view.main.worldPosition,e=o(s.ins.view.decorations);!(t=e()).done;){var a=t.value,r=this.test(a,i,this.h+5,this.top+5,this.bottom+5);a.active=r}},i.role=function(){for(var t,i=n.ins.local.view.main.worldPosition,e=o(n.ins.all);!(t=e()).done;){var s=t.value,a=this.test(s.view.root,i);s.view.main.active=a,s.view.shadow.active=a,s.move.moveType==v.Run&&(1==a?r.showRunEffect(s):r.hideRunEffect(s));for(var c,l=o(s.tail.tails);!(c=l()).done;){var h=c.value;a=this.test(h.view.root,i),h.view.main.active=a,h.view.shadow.active=a}}},i.food=function(){for(var t,i=n.ins.local.view.main.worldPosition,s=o(e.data);!(t=s()).done;){var a=t.value,r=this.test(a.view.root,i);a.view.main.active=r,a.view.shadow.active=r}},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/Ad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBase.ts","./AdWx.ts","./AdTt.ts"],(function(t){var n,i,s,e,c,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,s=t.sys},function(t){e=t.AdBase},function(t){c=t.AdWx},function(t){u=t.AdTt}],execute:function(){i._RF.push({},"0f6d4FJCLJMtKXNsYSzMJMX","Ad",void 0),t("Ad",function(t){function i(){return t.apply(this,arguments)||this}return n(i,t),i.createIns=function(){switch(s.platform){case s.Platform.WECHAT_GAME:this.ins=new c,this.ins.init();break;case s.Platform.BYTEDANCE_MINI_GAME:this.ins=new u,this.ins.init();break;default:this.ins=new e,this.ins.init()}},i}(e)).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AdBase.ts",["cc","./AdRewardVideoFailHandler.ts"],(function(n){var e,o;return{setters:[function(n){e=n.cclegacy,o=n.tween},function(n){n.AdRewardVideoFailHandler}],execute:function(){e._RF.push({},"ad190Cfj8ZGaLn8BJkOAfFt","AdBase",void 0);n("AdBase",function(){function n(){}var e=n.prototype;return e.init=function(){console.log("AdBase.init")},e.showBanner=function(){console.log("AdBase.showBanner")},e.hideBanner=function(){console.log("AdBase.hideBanner")},e.showInterstitial=function(){console.log("AdBase.showInterstitial")},e.showRewardedVideo=function(n,e){void 0===e&&(e=null),console.log("AdBase.showRewardedVideo"),o(this).delay(.5).call((function(){null==n||n()})).start()},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AdForegroundSwitch.ts",["cc","./Ad.ts"],(function(n){var t,i,o,c;return{setters:[function(n){t=n.cclegacy,i=n.game,o=n.Game},function(n){c=n.Ad}],execute:function(){t._RF.push({},"6a94dii8uZIv5GgNK3HEnkq","AdForegroundSwitch",void 0);n("AdForegroundSwitch",function(){function n(){}return n.init=function(){i.on(o.EVENT_SHOW,(function(){console.log("切换到前台"),c.ins.showInterstitial()}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AdRewardVideoFailHandler.ts",["cc","./UiDialog.ts"],(function(n){var e,i,r;return{setters:[function(n){e=n.cclegacy,i=n.find},function(n){r=n.UiDialog}],execute:function(){e._RF.push({},"9758eIZORpL6bz8ToP1RHi4","AdRewardVideoFailHandler",void 0);n("AdRewardVideoFailHandler",function(){function n(){}return n.exe=function(n){var e=i("Canvas");if(null!=n){var t="广告播放错误："+n;r.show(t,e);return!0}if(null==n){r.show("要播完广告才行哦",e);return!0}return!1},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AdStartup.ts",["cc","./Ad.ts"],(function(t){var n,u,o;return{setters:[function(t){n=t.cclegacy,u=t.sys},function(t){o=t.Ad}],execute:function(){var e;n._RF.push({},"812afhBS5NGJZmzj3xpFr6g","AdStartup",void 0),t("AdStartup",function(){function t(){}return t.exe=function(){i.ins.load();var t=i.ins.count;i.ins.count++,i.ins.save(),t>=this.times&&o.ins.showInterstitial()},t}()).times=2;var i=function(){function t(){this.count=0}var n=t.prototype;return n.load=function(){var t=u.localStorage.getItem("AdStartupCount");null!=t&&""!=t&&(this.count=Number(t))},n.save=function(){u.localStorage.setItem("AdStartupCount",this.count)},t}();e=i,i.ins=new e,n._RF.pop()}}}));

System.register("chunks:///_virtual/AdTt.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBase.ts","./AdRewardVideoFailHandler.ts","./Bgm.ts"],(function(n){var t,i,e,o,r,s,d;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n.tween,o=n.director},function(n){r=n.AdBase},function(n){s=n.AdRewardVideoFailHandler},function(n){d=n.Bgm}],execute:function(){i._RF.push({},"635b21IY4dKx5f9uw+uP4LI","AdTt",void 0);n("AdTt",function(n){function i(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).banner=void 0,t.interstitial=void 0,t.rewardedVideo=void 0,t}t(i,n);var r=i.prototype;return r.init=function(){"devtools"!=tt.getSystemInfoSync().platform&&(this.banner=new a,this.banner.init(),this.interstitial=new l,this.interstitial.init(),this.rewardedVideo=new c,this.rewardedVideo.init())},r.showBanner=function(){var n;null==(n=this.banner)||n.show()},r.hideBanner=function(){var n;null==(n=this.banner)||n.hide()},r.showInterstitial=function(){var n;null==(n=this.interstitial)||n.show()},r.showRewardedVideo=function(n,t){var i=this;if(void 0===t&&(t=null),null!=this.rewardedVideo){this.rewardedVideo.onSuccess=function(){i.resumeBgm(),e(i).delay(.5).call((function(){n()})).start()},this.rewardedVideo.onFailed=function(n){i.resumeBgm(),s.exe(n),null==t||t(n)},this.rewardedVideo.show()}else null==n||n()},r.resumeBgm=function(){var n=o.getScene().name;"Game"==n?d.ins.game():"Home"==n&&d.ins.home()},i}(r));var a=function(){function n(){this.bannerAd=null}var t=n.prototype;return t.init=function(){var n=tt.getSystemInfoSync(),t=n.windowWidth,i=n.windowHeight,e=tt.createBannerAd({adUnitId:"a6ft3e47brr871dcpj",adIntervals:60,style:{width:50,top:i-28.125}});this.bannerAd=e,e.style.left=(t-50)/2,e.onResize((function(n){console.log(n.width,n.height),e.style.top=i-n.height,e.style.left=(t-n.width)/2})),e.onError((function(n){console.log("广告错误:"+n)})),e.onLoad((function(){console.log("banner 广告加载成功")}))},t.show=function(){var n;null==(n=this.bannerAd)||n.show()},t.hide=function(){var n;null==(n=this.bannerAd)||n.hide()},n}(),l=function(){function n(){this.interstitialAd=void 0}var t=n.prototype;return t.init=function(){if(tt.createInterstitialAd){var n=tt.createInterstitialAd({adUnitId:"o6pi3pnaarn6l3oonk"});this.interstitialAd=n,n.onLoad((function(){console.log("插屏 广告加载成功")})),n.onError((function(n){console.log(n)}))}},t.show=function(){var n=this.interstitialAd;n&&n.show().catch((function(n){console.error(n)}))},n}(),c=function(){function n(){this.onSuccess=null,this.onFailed=null,this.videoAd=void 0}var t=n.prototype;return t.init=function(){var n=this,t=tt.createRewardedVideoAd({adUnitId:"2ps8qqjv7s71faigie"});this.videoAd=t,t.onLoad((function(){console.log("激励视频 广告加载成功")})),t.onError((function(t){console.log(t),null==n.onFailed||n.onFailed(t.toString())})),t.onClose((function(t){t&&t.isEnded||void 0===t?null==n.onSuccess||n.onSuccess():null==n.onFailed||n.onFailed(null)}))},t.show=function(){var n=this.videoAd;n&&n.show().catch((function(){n.load().then((function(){return n.show()})).catch((function(t){console.log("激励视频 广告显示失败"),n.load().then((function(){return n.show()}))}))}))},n}();i._RF.pop()}}}));

System.register("chunks:///_virtual/AdWx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AdBase.ts","./AdRewardVideoFailHandler.ts","./Bgm.ts"],(function(n){var t,i,e,o,r,s,a;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n.tween,o=n.director},function(n){r=n.AdBase},function(n){s=n.AdRewardVideoFailHandler},function(n){a=n.Bgm}],execute:function(){i._RF.push({},"161ddZNsi9FU7Tsc0BdZ4Ga","AdWx",void 0);n("AdWx",function(n){function i(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).banner=void 0,t.interstitial=void 0,t.rewardedVideo=void 0,t}t(i,n);var r=i.prototype;return r.init=function(){this.banner=new d,this.banner.init(),this.interstitial=new l,this.interstitial.init(),this.rewardedVideo=new c,this.rewardedVideo.init()},r.showBanner=function(){var n;null==(n=this.banner)||n.show()},r.hideBanner=function(){var n;null==(n=this.banner)||n.hide()},r.showInterstitial=function(){var n;null==(n=this.interstitial)||n.show()},r.showRewardedVideo=function(n,t){var i=this;void 0===t&&(t=null);this.rewardedVideo.onSuccess=function(){i.resumeBgm(),e(i).delay(.5).call((function(){n()})).start()},this.rewardedVideo.onFailed=function(n){i.resumeBgm(),s.exe(n),null==t||t(n)},this.rewardedVideo.show()},r.resumeBgm=function(){var n=o.getScene().name;"Game"==n?a.ins.game():"Home"==n&&a.ins.home()},i}(r));var d=function(){function n(){this.bannerAd=null}var t=n.prototype;return t.init=function(){var n=wx.getSystemInfoSync();console.log(n);var t=n.screenWidth/2,i=n.screenHeight,e=wx.createBannerAd({adUnitId:"adunit-b62b6090adf8cc30",adIntervals:60,style:{left:0,top:0,width:100,height:100}});this.bannerAd=e,e.onError((function(n){console.log("广告错误:"+n)})),e.onLoad((function(){console.log("banner 广告加载成功")})),e.onResize((function(){e.style.left=t-e.style.realWidth/2+.1,e.style.top=i-e.style.realHeight+.1,console.log(e.style.top)}))},t.show=function(){var n;null==(n=this.bannerAd)||n.show()},t.hide=function(){var n;null==(n=this.bannerAd)||n.hide()},n}(),l=function(){function n(){this.interstitialAd=void 0}var t=n.prototype;return t.init=function(){if(wx.createInterstitialAd){var n=wx.createInterstitialAd({adUnitId:"adunit-80d3487be241a86f"});this.interstitialAd=n,n.onLoad((function(){console.log("插屏 广告加载成功")})),n.onError((function(n){console.log(n)}))}},t.show=function(){var n=this.interstitialAd;n&&n.show().catch((function(n){console.error(n)}))},n}(),c=function(){function n(){this.onSuccess=null,this.onFailed=null,this.videoAd=void 0}var t=n.prototype;return t.init=function(){var n=this,t=wx.createRewardedVideoAd({adUnitId:"adunit-f47d3a388fc51ea9"});this.videoAd=t,t.onLoad((function(){console.log("激励视频 广告加载成功")})),t.onError((function(t){console.log(t),null==n.onFailed||n.onFailed(t.toString())})),t.onClose((function(t){t&&t.isEnded||void 0===t?null==n.onSuccess||n.onSuccess():null==n.onFailed||n.onFailed(null)}))},t.show=function(){var n=this.videoAd;n&&n.show().catch((function(){n.load().then((function(){return n.show()})).catch((function(t){console.log("激励视频 广告显示失败"),n.load().then((function(){return n.show()}))}))}))},n}();i._RF.pop()}}}));

System.register("chunks:///_virtual/Ai_1.ts",["cc","./Ai_Transect.ts","./CounterDecrease.ts","./Ai_Wander.ts","./AiState.ts","./Ai_Eat.ts","./CtrlMoveMode.ts"],(function(t){var e,n,a,i,c,r,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Ai_Transect},function(t){a=t.CounterDecrease},function(t){i=t.Ai_Wander},function(t){c=t.AiState},function(t){r=t.Ai_Eat},function(t){s=t.CtrlMoveMode}],execute:function(){e._RF.push({},"05a835t+L1IWYTMExKY7k65","Ai_1",void 0);t("Ai_1",function(){function t(){}return t.exe=function(t){switch(t.ai.state){case c.Init:i.rndPos(t),t.ai.state=c.Wander;break;case c.Wander:i.state1(t);break;case c.Eat:r.stateEat(t);break;default:n.exe(t)}t.ai.attackCd.current=a.untilZero(t.ai.attackCd.current),s.updateMode(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Ai_Eat.ts",["cc","./RoleCollisionTest.ts","./AiArticle.ts","./AiFace.ts","./AiState.ts","./Ai_Transect.ts","./Ai_Wander.ts","./CtrlMove.ts","./CtrlMoveMode.ts"],(function(t){var e,i,n,o,a,r,c,s,u;return{setters:[function(t){e=t.cclegacy},function(t){i=t.RoleCollisionTest},function(t){n=t.AiArticle},function(t){o=t.AiFace},function(t){a=t.AiState},function(t){r=t.Ai_Transect},function(t){c=t.Ai_Wander},function(t){s=t.CtrlMove},function(t){u=t.CtrlMoveMode}],execute:function(){e._RF.push({},"ee1caBeSC9G85/LpIj02EAS","Ai_Eat",void 0);t("Ai_Eat",function(){function t(){}return t.tryEnter=function(t){var e=n.find(t);return null!=e&&(this.eat(t,e),t.ai.state=a.Eat,u.set(t,t.ai.eatEnterMoveMode),!0)},t.eat=function(t,e){var i=e.view.root.position;s.moveTo(t,i),t.ai.articleTarget=e},t.stateEat=function(t){if(1!=r.tryEnter(t)){if(1==n.existTarget(t)){var e=t.move.direction.clone().multiplyScalar(9);if(e.add(t.view.root.position),0==i.testDistance(t,e)){var a=t.ai.articleTarget.view.root.position;return void s.moveTo(t,a)}u.set(t,t.ai.eatDangerMoveMode),o.rnd(t,t.ai.faceDanger)}var l=n.find(t);null==l?c.enter(t):this.eat(t,l)}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Ai_Transect.ts",["cc","./RoleCollisionTest.ts","./RoleMove.ts","./AiState.ts","./CtrlMove.ts","./AiTransect.ts","./GameMapCollisionTest.ts","./Fps.ts","./AiFace.ts"],(function(t){var e,n,a,i,r,o,s,c,u,l,T;return{setters:[function(t){e=t.cclegacy,n=t.Vec3,a=t.randomRangeInt},function(t){i=t.RoleCollisionTest},function(t){r=t.RoleMove},function(t){o=t.AiState},function(t){s=t.CtrlMove},function(t){c=t.AiTransect},function(t){u=t.GameMapCollisionTest},function(t){l=t.Fps},function(t){T=t.AiFace}],execute:function(){e._RF.push({},"77ad4dNWoFGG6JslQH91r57","Ai_Transect",void 0);t("Ai_Transect",function(){function t(){}return t.exe=function(t){switch(t.ai.state){case o.Transect1:this.stateTransect(t);break;case o.Transect2:this.stateTransect2(t)}},t.tryEnter=function(t){if(0==t.ai.attackEnabled)return!1;if(t.ai.attackCd.current>0)return!1;var e=i.findRoleRange(t.view.root.position,15,t);if(null==e)return!1;var o=new n,c=this.getTransectStartPos(t,e,null,o);return null!=c&&1!=u.testCircle(c,t.boundingShape.circleRadius)&&1!=u.testCircle(o,t.boundingShape.circleRadius)?(t.ai.state=3,s.moveTo(t,c),t.ai.TransectPos2=o,t.ai.roleAttackTarget=e,T.rnd(t,t.ai.faceAttackEnter),r.setModeRun(t),t.ai.attackDurationCounter=l.secondToFrame(a(5,10)),!0):void 0},t.getTransectStartPos=function(t,e,a,r){null==a?a=e.move.direction:a.normalize();var o=new n;c.getPos(e.view.root.position,a,e.boundingShape.circleRadius+8,8,o,r);var s=o.clone().subtract(t.view.root.position),u=r.clone().subtract(t.view.root.position);return s.lengthSqr()>u.lengthSqr()&&(this.vec3Swap(o,r),s=u),1==i.testDistance(t,o)?null:o},t.vec3Swap=function(t,e){var n=t.clone();t.x=e.x,t.y=e.y,t.z=e.z,e.x=n.x,e.y=n.y,e.z=n.z},t.stateTransect=function(t){t.ai.attackDurationCounter--;var e=t.ai.roleAttackTarget;if(0==e.life.isAlive||t.ai.attackDurationCounter<=0)return t.ai.roleAttackTarget=null,void this.exitTransect(t);if(s.isReach(t)){t.ai.posTarget=t.ai.TransectPos2;var a=t.ai.TransectPos2.clone().subtract(t.view.root.position);return r.cmdMoveTransition(t,a),void(t.ai.state=4)}var i=new n,o=this.getTransectStartPos(t,e,null,i);return null==o||1==u.testCircle(o,t.boundingShape.circleRadius)||1==u.testCircle(i,t.boundingShape.circleRadius)?(t.ai.roleAttackTarget=null,void this.exitTransect(t)):(s.moveTo(t,o),void(t.ai.TransectPos2=i))},t.stateTransect2=function(t){if(1==i.testDistance(t,t.ai.TransectPos2))return this.exitTransect(t),null;s.correct(t),s.isReach(t)&&this.exitTransect(t)},t.exitTransect=function(t){t.ai.state=o.Init,r.setModeWalk(t),t.ai.attackCd.max=l.secondToFrame(a(2,5)),t.ai.attackCd.setCurrentAsMax(),T.rnd(t,t.ai.faceAttackExit)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Ai_Wander.ts",["cc","./GameMap.ts","./RoleMove.ts","./RoleCollisionTest.ts","./CtrlMove.ts","./AiElude.ts","./Ai_Eat.ts","./AiState.ts"],(function(i){var t,e,n,o,a,r,c,s,u,l;return{setters:[function(i){t=i.cclegacy,e=i.Vec3,n=i.randomRange},function(i){o=i.GameMap},function(i){a=i.RoleMove},function(i){r=i.RoleCollisionTest},function(i){c=i.CtrlMove},function(i){s=i.AiElude},function(i){u=i.Ai_Eat},function(i){l=i.AiState}],execute:function(){t._RF.push({},"bf996R8ry9JoIHtahiP9Otg","Ai_Wander",void 0);i("Ai_Wander",function(){function i(){}return i.enter=function(i){i.ai.state=l.Wander,this.rndPos(i),this.state1(i)},i.state1=function(i){if(c.correct(i),1!=c.isReach(i)){if(1!=u.tryEnter(i)){var t=i.boundingShape.circleRadius+4*i.boundingShape.circleDia,e=i.move.direction.clone().multiplyScalar(t);e.add(i.view.root.position),1!=r.testDistance(i,e)||this.elude(i)}}else this.rndPos(i)},i.elude=function(i){var t=new e,n=s.safeDir(i,45,15,t);null==n&&(n=s.safeDir(i,45,5,t)),null!=n&&(a.cmdMoveTransition(i,n),i.ai.posTarget=t)},i.rndPos=function(i){for(var t=new e,c=null,s=0;s<10;++s){t.x=n(o.ins.rect.xMin+10,o.ins.rect.xMax-10),t.z=n(o.ins.rect.yMin+10,o.ins.rect.yMax-10);var u=i.boundingShape.circleRadius+3*i.boundingShape.circleDia,l=(c=t.clone().subtract(i.view.root.position)).clone().multiplyScalar(u);if(l.add(i.view.root.position),0==r.testDistance(i,l))break}a.cmdMoveTransition(i,c),i.ai.posTarget=t},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AiArticle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Food.ts","./RoleCollisionTest.ts","./Article.ts","./ComAi.ts"],(function(t){var e,r,i,n,o,a,s;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,i=t.isValid},function(t){n=t.FoodMgr},function(t){o=t.RoleCollisionTest},function(t){a=t.ArticleMgr},function(t){s=t.AiEatMode}],execute:function(){r._RF.push({},"41552JdbBNMZ7tb/qAo+Fwk","AiArticle",void 0);t("AiArticle",function(){function t(){}return t.find=function(t){var r=new Array,i=null;switch(t.ai.eatMove){case s.Food:r.splice(0,r.length);for(var o,l=e(n.data);!(o=l()).done;){var u=o.value;r.push(u)}i=this.findList(t,r,20,!1);break;case s.Food2:r.splice(0,r.length);for(var c,f=e(n.data);!(c=f()).done;){var v=c.value;r.push(v)}i=this.findList(t,r,20,!0);break;case s.BuffFood:for(var d,h=e(a.data);!(d=h()).done;){var p=d.value;r.push(p)}if(null!=(i=this.findList(t,r,20,!1)))return i;r.splice(0,r.length);for(var g,A=e(n.data);!(g=A()).done;){var L=g.value;r.push(L)}i=this.findList(t,r,20,!1);break;case s.BuffFood2:for(var b,F=e(a.data);!(b=F()).done;){var w=b.value;r.push(w)}if(null!=(i=this.findList(t,r,20,!1)))return i;r.splice(0,r.length);for(var M,k=e(n.data);!(M=k()).done;){var _=M.value;r.push(_)}i=this.findList(t,r,20,!0)}return i},t.findList=function(t,e,r,i){for(;e.length>0;){var n=null;if(null==(n=1==i?this.nearest2(e,t.view.root.position,r):this.nearest(e,t.view.root.position,r)))return null;if(!o.testDistance(t,n.view.root.position))return n;e.splice(e.indexOf(n),1)}return null},t.nearest=function(t,e,r){r*=r;for(var i=null,n=Number.MAX_VALUE,o=0;o<t.length;++o){var a=t[o],s=a.view.root.position.clone().subtract(e).lengthSqr();s<r&&s<n&&(n=s,i=a)}return i},t.nearest2=function(t,e,r){var i=0;r*=r;for(var n=null,o=Number.MAX_VALUE,a=0;a<t.length;++a){var s=t[a];if(s.cfg.score>i)i=s.cfg.score,n=s;else if(s.cfg.score==i){var l=s.view.root.position.clone().subtract(e).lengthSqr();l<r&&l<o&&(o=l,n=s)}}return n},t.existTarget=function(t){var e=t.ai.articleTarget;return null!=e&&i(e.view.root,!0)},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/AiElude.ts",["cc","./DirTable.ts","./GameMapCollisionTest.ts","./RoleCollisionTest.ts"],(function(i){var n,t,e,o;return{setters:[function(i){n=i.cclegacy},function(i){t=i.DirTable},function(i){e=i.GameMapCollisionTest},function(i){o=i.RoleCollisionTest}],execute:function(){n._RF.push({},"5bf4fohowtCC5gQO+2IvJjn","AiElude",void 0);i("AiElude",function(){function i(){}return i.safeDir=function(i,n,l,u){void 0===n&&(n=45),void 0===l&&(l=5),void 0===u&&(u=null);for(var s=t.ins.data,c=0;c<s.length;c+=n){var r=s[c],a=r.clone().multiplyScalar(l);if(a.add(i.view.root.position),1!=e.testCircle(a,i.boundingShape.circleRadius)&&0==o.testDistance(i,a))return null!=u&&(u.x=a.x,u.y=a.y,u.z=a.z),r.clone()}return null},i}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AiFace.ts",["cc","./RoleFace.ts"],(function(n){var e,c,t;return{setters:[function(n){e=n.cclegacy,c=n.randomRangeInt},function(n){t=n.RoleFace}],execute:function(){e._RF.push({},"b5ac1LagHdJa4+oLQ1ypXd3","AiFace",void 0);n("AiFace",function(){function n(){}return n.rnd=function(n,e){if(0!=e.length){var a=e[c(0,e.length)];null!=a&&""!=a&&t.face(n,a)}},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AiState.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"56ba7MT8NhFV6nj0ZeHwRTi","AiState",void 0);t("AiState",function(t){return t[t.Init=0]="Init",t[t.Wander=1]="Wander",t[t.Eat=2]="Eat",t[t.Transect1=3]="Transect1",t[t.Transect2=4]="Transect2",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/AiSys.ts",["cc","./RoleMgr.ts","./Ai_1.ts"],(function(e){var i,t,n;return{setters:[function(e){i=e.cclegacy},function(e){t=e.RoleMgr},function(e){n=e.Ai_1}],execute:function(){i._RF.push({},"5f0a9YErwVKX5b8U0CrCm+W","AiSys",void 0);e("AiSys",function(){function e(){}return e.update=function(){for(var e=t.ins.all,i=e.length-1;i>=0;--i){var n=e[i];null!=n.ai&&0!=n.life.isAlive&&this.exe(n)}},e.exe=function(e){switch(e.ai.type){case 1:n.exe(e)}},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AiTransect.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e46683qUmxMAYlUJ2wP+L+x","AiTransect",void 0);t("AiTransect",function(){function t(){}return t.getPos=function(t,e,c,n,i,r){var a=e.clone().multiplyScalar(c);(t=t.clone()).add(a),this.getVerticalSeg(e,n,i,r),i.add(t),r.add(t)},t.getVerticalSeg=function(t,e,c,n){var i=e/2;this.rotate90Anticlockwise(t,c),c.multiplyScalar(i),this.rotate90Clockwise(t,n),n.multiplyScalar(i)},t.rotate90Anticlockwise=function(t,e){return e.x=-1*t.z,e.z=t.x,e},t.rotate90Clockwise=function(t,e){return e.x=t.z,e.z=-1*t.x,e},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Article.ts",["cc","./Role.ts"],(function(t){var i,n,e;return{setters:[function(t){i=t.cclegacy,n=t.Vec3},function(t){e=t.BoundingShape}],execute:function(){i._RF.push({},"7b867q8kktGxZvRQa+h4ssv","Article",void 0);t("Article",(function(){this.id=void 0,this.move=null,this.ai=null,this.view=new o,this.boundingShape=new e})),t("ComArticleAi",(function(){this.state=0,this.posTarget=new n,this.count=0}));var o=function(){this.root=void 0,this.main=void 0,this.shadow=void 0};t("ArticleMgr",(function(){})).data=new Array,i._RF.pop()}}}));

System.register("chunks:///_virtual/ArticleFactory.ts",["cc","./ResMgr2.ts","./Article.ts","./Role.ts","./EngineCollision.ts"],(function(e){var i,t,n,o,r,c,a,s;return{setters:[function(e){i=e.cclegacy,t=e.instantiate,n=e.Sorting},function(e){o=e.ResMgr},function(e){r=e.ComArticleAi,c=e.Article},function(e){a=e.ComMove},function(e){s=e.EngineCollision}],execute:function(){i._RF.push({},"a0b81+jtcdGhrB0I+wB0dsf","ArticleFactory",void 0);e("ArticleFactory",function(){function e(){}return e.create=function(e){var i=new c;return i.id=e,i.ai=new r,i.move=new a,i.move.enabled=!0,i.move.speed=.1,i.boundingShape.circleRadius=1,this.view(i),s.setArticle(i),i},e.view=function(e){var i=o.ins.article.getChildByPath(e.id),r=t(i);e.view.root=r,e.view.main=r.getChildByName("Main"),e.view.shadow=r.getChildByName("Shadow"),e.view.main.addComponent(n).sortingOrder=101,e.view.shadow.addComponent(n).sortingOrder=101},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ArticleSys.ts",["cc","./GameMapRndPos.ts","./Article.ts","./BuffGen.ts","./MoneyGen.ts"],(function(t){var e,n,i,o,r,a;return{setters:[function(t){e=t.cclegacy,n=t.Vec3},function(t){i=t.GameMapRndPos},function(t){o=t.ArticleMgr},function(t){r=t.BuffGen},function(t){a=t.MoneyGen}],execute:function(){e._RF.push({},"2d3eeG0E/tO7r25US/hpzNb","ArticleSys",void 0);t("ArticleSys",function(){function t(){}return t.update=function(){r.update(),a.update();for(var t=o.data,e=0;e<t.length;++e){var n=t[e];u.update(n),c.exe(n)}},t}());var c=t("ArticleMove",function(){function t(){}return t.exe=function(t){var e=t.move;if(null!=e&&0!=e.enabled){var n=t.view.root.position.add(e.offset);t.view.root.position=n}},t.cmdMove=function(t,e){var i=t.move;n.normalize(i.direction,e)},t.updateOffset=function(t){n.multiplyScalar(t.offset,t.direction,t.speed)},t}()),u=t("ArticleAi",function(){function t(){}return t.update=function(t){if(null!=t.ai)switch(t.ai.state){case 0:this.rndTarget(t),t.ai.state=1;break;case 1:this.move(t)}},t.rndTarget=function(t){var e=i.get(10);t.ai.posTarget.set(e);var n=e.subtract(t.view.root.position);c.cmdMove(t,n),c.updateOffset(t.move)},t.move=function(t){var e=t.ai.posTarget;t.view.root.position.clone().subtract(e).lengthSqr()<=1&&this.rndTarget(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSettingsPersist.ts",["cc","./Sound.ts","./Bgm.ts"],(function(n){var t,e,i,o;return{setters:[function(n){t=n.cclegacy,e=n.sys},function(n){i=n.Sound},function(n){o=n.Bgm}],execute:function(){t._RF.push({},"eadc82pbdRNtIJWVflpEerg","AudioSettingsPersist",void 0);n("AudioSettingsPersist",function(){function n(){}return n.load=function(){this.loadMusic(),this.loadSound()},n.save=function(){this.saveMusic(),this.saveSound()},n.loadMusic=function(){var n=e.localStorage.getItem("AudioMusicEnabled");null!=n&&""!=n&&(o.ins.enabled="1"==n)},n.saveMusic=function(){e.localStorage.setItem("AudioMusicEnabled",1==o.ins.enabled?"1":"0")},n.loadSound=function(){var n=e.localStorage.getItem("AudioSoundEnabled");null!=n&&""!=n&&(i.ins.enabled="1"==n)},n.saveSound=function(){e.localStorage.setItem("AudioSoundEnabled",1==i.ins.enabled?"1":"0")},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Bgm.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Music.ts"],(function(n){var t,i,o;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy},function(n){o=n.Music}],execute:function(){var u;i._RF.push({},"3c666Y4uo9IgoP/F16wqnYX","Bgm",void 0);var e=n("Bgm",function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var o=i.prototype;return o.home=function(){this.play("Audio/Bgm/Wellspring")},o.game=function(){this.play("Audio/Bgm/开心的节奏")},i}(o));u=e,e.ins=new u,i._RF.pop()}}}));

System.register("chunks:///_virtual/Buff.ts",["cc","./CurrentMax.ts","./Fps.ts","./Ability.ts"],(function(t){var n,e,i,u;return{setters:[function(t){n=t.cclegacy},function(t){e=t.CurrentMax},function(t){i=t.Fps},function(t){u=t.AbilityType}],execute:function(){n._RF.push({},"ae181iRu7tDoZrgId/NFlO3","Buff",void 0);t("BuffCom",(function(){this.buffs=new Array}));var c=t("Buff",(function(){this.lifecycle=new e,this.ability=void 0}));t("BuffFactory",function(){function t(){}return t.create=function(t){var n=new c;return n.ability=u[t],n.lifecycle.setCurrentAndMax(i.secondToFrame(60)),n},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffAdd.ts",["cc","./UiPropPrompt.ts","./CameraLook.ts","./RoleMgr.ts","./Ability.ts","./Buff.ts","./ResMgr2.ts","./Fps.ts","./ActiveCulling.ts"],(function(t){var e,i,a,c,o,n,r,s,l,u,f,d,h,p;return{setters:[function(t){e=t.cclegacy,i=t.instantiate,a=t.Vec3,c=t.tween,o=t.Tween,n=t.ParticleSystem},function(t){r=t.UiPropPrompt},function(t){s=t.CameraLook},function(t){l=t.RoleMgr},function(t){u=t.AbilityType},function(t){f=t.BuffFactory},function(t){d=t.ResMgr},function(t){h=t.Fps},function(t){p=t.ActiveCulling}],execute:function(){e._RF.push({},"d996bxi6DREaJEbEti6KeR5","BuffAdd",void 0);t("BuffAdd",function(){function t(){}return t.add=function(t,e){if(this.localUiPrompt(t,e),1!=this.updateBuff(t,e)){var i=f.create(e);switch(i.ability=e,this.setLifecycle(t,i),t.buff.buffs.push(i),i.ability){case u.Attract:this.addAttract(t);break;case u.LookFar:this.addLookFar(t);break;case u.Shield:this.addShield(t)}}},t.updateBuff=function(t,e){var i=t.buff.buffs.find((function(t){return t.ability==e}));if(null==i)return!1;switch(this.setLifecycle(t,i),i.ability){case u.Shield:this.addShieldOverlay(t)}return!0},t.setLifecycle=function(t,e){var i=0;switch(e.ability){case u.Attract:i=t.cfg.AttractDuration;break;case u.Shield:i=t.cfg.ShieldDuration;break;case u.LookFar:i=h.secondToFrame(20);break;case u.ScoreAdd:i=t.cfg.scoreAddDuration;break;default:i=h.secondToFrame(20)}e.lifecycle.max=i,e.lifecycle.setCurrentAsMax()},t.addShield=function(t){var e=d.ins.effect.getChildByPath("Shield"),o=i(e);o.active=!0,o.setParent(t.view.root,!1),o.position=new a(0,2,0),t.view.shield=o;var n=o.scale.clone();o.scale=new a(.2,.2,.2),c(o).sequence(c(o).to(.5,{scale:n.clone().multiplyScalar(1.4)}),c(o).to(.3,{scale:n})).start()},t.addShieldOverlay=function(t){var e=t.view.shield,i=e.scale.clone();c(e).sequence(c(e).to(.3,{scale:i.clone().multiplyScalar(1.4)}),c(e).to(.3,{scale:i})).start()},t.addLookFar=function(t){if(t==l.ins.local){o.stopAllByTarget(s);var e=s.posLookOrig.clone().multiplyScalar(1.5);c(s).to(1,{posLook:e}).start(),p.ins.setMode2()}},t.addAttract=function(t){var e=t.cfg;t.eat.radius=e.EatRadius*e.AttractRadiusMultiple,null!=t.view.eatCollider&&(t.view.eatCollider.radius=t.eat.radius);var c=d.ins.effect.getChildByPath("Attract"),o=i(c);o.active=!0;var r=o.getComponent(n);t.view.attract.push(r),o.parent=t.view.root,o.position=new a(0,0,0)},t.localUiPrompt=function(t,e){t==l.ins.local&&(r.ins.refresh(e),r.ins.show())},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BuffGen.ts",["cc","./Ability.ts","./GameMapRndPos.ts","./WorldNode.ts","./Article.ts","./ArticleFactory.ts","./CounterDecrease.ts","./Fps.ts","./WeightProbability.ts","./CurrentMax.ts"],(function(t){var n,i,e,r,o,s,u,c,a,l,f;return{setters:[function(t){n=t.cclegacy,i=t.randomRangeInt},function(t){e=t.AbilityType},function(t){r=t.GameMapRndPos},function(t){o=t.WorldNode},function(t){s=t.ArticleMgr},function(t){u=t.ArticleFactory},function(t){c=t.CounterDecrease},function(t){a=t.Fps},function(t){l=t.WeightProbability},function(t){f=t.CurrentMax}],execute:function(){n._RF.push({},"6c149L/cidMEai77Howy/lg","BuffGen",void 0);var h=t("BuffGen",function(){function t(){}return t.init=function(){this.counter=new f,this.counter.max=a.secondToFrame(3),this.w=new l,this.w.add(e.Shield,5),this.w.add(e.Attract,10),this.w.add(e.LookFar,10),this.w.add(e.ScoreAdd,10)},t.update=function(){(this.counter.current=c.untilZero(this.counter.current),this.counter.current>0)||s.data.length<20&&(this.genOne(),this.counter.setCurrentAsMax())},t.genOne=function(){var t=this.w.get();if(null!=t){var n=u.create(t);n.view.root.parent=o.ins.entity;var i=r.get(10);n.view.root.position=i,s.data.push(n)}},t.rndId=function(){if(null==this.list)for(var t in this.list=new Array,e)this.list.push(t);return this.list[i(0,this.list.length)]},t}());h.counter=null,h.w=null,h.list=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffRemove.ts",["cc","./CameraLook.ts","./Ability.ts","./RoleMgr.ts","./ActiveCulling.ts"],(function(e){var t,i,o,n,r,a,s;return{setters:[function(e){t=e.cclegacy,i=e.Tween,o=e.tween},function(e){n=e.CameraLook},function(e){r=e.AbilityType},function(e){a=e.RoleMgr},function(e){s=e.ActiveCulling}],execute:function(){t._RF.push({},"6bfad2s0DBOl5w/TKcQkH5O","BuffRemove",void 0);e("BuffRemove",function(){function e(){}return e.exeIdx=function(e,t){var i=e.buff.buffs[t];switch(e.buff.buffs.splice(t,1),i.ability){case r.Attract:this.removeAttract(e);break;case r.LookFar:this.removeLookFar(e);break;case r.Shield:this.removeShield(e)}},e.removeShield=function(e){var t=e.view.shield;e.view.shield=null,null!=t&&t.destroy()},e.removeLookFar=function(e){e==a.ins.local&&(i.stopAllByTarget(n),o(n).to(2.1,{posLook:n.posLookOrig}).call((function(){s.ins.setMode1()})).start())},e.removeAttract=function(e){e.eat.radius=e.cfg.EatRadius,null!=e.view.eatCollider&&(e.view.eatCollider.radius=e.eat.radius);for(var t=e.view.attract,i=0;i<t.length;++i){var n=t[i];n.stopEmitting(),o(n.node).delay(3).destroySelf().start()}t.splice(0,t.length)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/BuffSys.ts",["cc","./CounterDecrease.ts","./BuffRemove.ts"],(function(e){var f,u,c;return{setters:[function(e){f=e.cclegacy},function(e){u=e.CounterDecrease},function(e){c=e.BuffRemove}],execute:function(){f._RF.push({},"a397cHDCqdC84IwolWRHa60","BuffSys",void 0);e("BuffSys",function(){function e(){}return e.updateRole=function(e){for(var f=e.buff.buffs.length-1;f>=0;--f){var t=e.buff.buffs[f];t.lifecycle.current=u.untilZero(t.lifecycle.current),0==t.lifecycle.current&&c.exeIdx(e,f)}},e}());f._RF.pop()}}}));

System.register("chunks:///_virtual/CameraLook.ts",["cc"],(function(o){var n,t,e,i;return{setters:[function(o){n=o.cclegacy,t=o.Vec3,e=o.find,i=o.Camera}],execute:function(){n._RF.push({},"fc758UG9wVFepBlp4oxEKdz","CameraLook",void 0);var a=o("CameraLook",function(){function o(){}return o.look=function(o){this.target=o},o.update=function(){null!=this.target&&null!=this.mainCamera&&(t.add(this.posTemp,this.target.worldPosition,this.posLook),this.mainCamera.node.worldPosition=this.posTemp)},o}());a.mainCamera=void 0,a.target=null,a.posLook=null,a.posLookOrig=null,a.posTemp=new t;o("CameraInit",function(){function o(){}return o.exe=function(){var o=e("Main Camera").getComponent(i);a.mainCamera=o,a.posLookOrig=o.node.position.clone(),a.posLook=o.node.position.clone()},o}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgDailyCheckin.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"8c7a82BJk5HV588x3+C/5fB","CfgDailyCheckin",void 0),e("CfgDailyCheckin",(function(){this.data=new Array;var e=new a;this.data.push(e),e.rewardId="Money",e.rewardCount=100,e=new a,this.data.push(e),e.rewardId="Money",e.rewardCount=150,e=new a,this.data.push(e),e.rewardId="Money",e.rewardCount=300,e=new a,this.data.push(e),e.rewardId="Money",e.rewardCount=500,e=new a,this.data.push(e),e.rewardId="Money",e.rewardCount=750,e=new a,this.data.push(e),e.rewardId="Money",e.rewardCount=1e3,e=new a,this.data.push(e),e.rewardId="Role",e.rewardArg="019",e.rewardCount=1;var r=new a;this.data.push(r),r.rewardId="Money",r.rewardCount=100,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=150,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=300,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=500,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=750,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=1e3,r=new a,this.data.push(r),r.rewardId="Money",r.rewardCount=1300})).ins=null;var a=e("CfgDailyCheckinItem",(function(){this.rewardId="",this.rewardCount=0,this.rewardArg="",this.taskType=0,this.taskArg1=void 0}));r._RF.pop()}}}));

System.register("chunks:///_virtual/CfgDailyTask.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b6be8UtHetK1Zkv9+FOcTa5","CfgDailyTask",void 0),t("CfgDailyTask",(function(){this.data=new Map;var t=new a(s.Kill,5,!0,"Money",70);this.data.set(this.data.size.toString(),t),t=new a(s.Score,3e4,!0,"Money",70),this.data.set(this.data.size.toString(),t),t=new a(s.Score,5e4,!0,"Money",100),this.data.set(this.data.size.toString(),t),t=new a(s.Money,3,!0,"Money",50),this.data.set(this.data.size.toString(),t),t=new a(s.Money,15,!1,"Money",70),this.data.set(this.data.size.toString(),t),t=new a(s.Score,1e5,!1,"Money",150),this.data.set(this.data.size.toString(),t),t=new a(s.Food,1500,!1,"Money",200),this.data.set(this.data.size.toString(),t),t=new a(s.Food,1e3,!1,"Money",150),this.data.set(this.data.size.toString(),t),t=new a(s.Kill,20,!1,"Money",150),this.data.set(this.data.size.toString(),t),t=new a,this.data.set("Test_SingleKill",t),t.taskType=s.Kill,t.taskTarget=5,t.rewardId="Money",t.rewardCount=150,t=new a,this.data.set("Test_SingleMoney",t),t.taskType=s.Money,t.taskTarget=5,t.rewardId="Money",t.rewardCount=150,t=new a,this.data.set("Test_SingleScore",t),t.taskType=s.Score,t.taskTarget=1e3,t.rewardId="Money",t.rewardCount=150,t=new a,this.data.set("Test_TotalFood",t),t.taskType=s.Food,t.taskTarget=10,t.isSingle=!1,t.rewardId="Money",t.rewardCount=150,t=new a,this.data.set("Test_TotalScore",t),t.taskType=s.Score,t.taskTarget=10,t.isSingle=!1,t.rewardId="Money",t.rewardCount=150})).ins=null;var a=t("CfgDailyTaskItem",(function(t,e,a,i,n){void 0===t&&(t=s.None),void 0===e&&(e=0),void 0===a&&(a=!0),void 0===i&&(i=null),void 0===n&&(n=0),this.taskType=s.None,this.taskTarget=0,this.isSingle=!0,this.rewardId=void 0,this.rewardCount=0,this.taskType=t,this.taskTarget=e,this.isSingle=a,this.rewardId=i,this.rewardCount=n})),s=t("TaskType",function(t){return t.None="",t.Kill="Kill",t.Score="Score",t.Live="Live",t.Money="Money",t.Food="Food",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CfgFood.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"6d7fffNGNNAboY0X8CDJGkz","CfgFood",void 0);var i=o("CfgFood",(function(){}));i.data=new Map,i.normal=new Array,i.drop=new Array;o("CfgFoodItem",(function(){this.id=void 0,this.radius=void 0,this.score=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CfgGameplayTip.ts",["cc"],(function(a){var n;return{setters:[function(a){n=a.cclegacy}],execute:function(){n._RF.push({},"c4a94EiadFHOLTmwILeMNHo","CfgGameplayTip",void 0);var e=a("CfgGameplayTip",(function(){}));e.data=new Array;a("CfgGameplayTipLoader",function(){function a(){}return a.load=function(){var a=e.data;null!=a&&0!=a.length||(a.push("凭借自身长度优势可以把其他蛇围住，慢慢缩圈绞杀"),a.push("两条蛇蛇头部正面相撞时,长度较短的会死亡"),a.push("死亡后不要气馁,抓住机遇随时翻盘"),a.push("蛇蛇死亡时会变成食物,多吃食物才能变长"))},a}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CfgLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgFood.ts","./CfgRoleGrowth.ts","./CfgPlayerNickname.ts","./CfgRole.ts","./Fps.ts","./CfgTailStore.ts","./CfgRoleStore.ts","./CfgGameplayTip.ts"],(function(e){var n,r,t,a,o,u,s,i,l,c,d,f,p,m,h,g,S;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){t=e.cclegacy,a=e.resources},function(e){o=e.CfgFood,u=e.CfgFoodItem},function(e){s=e.CfgRoleGrowth,i=e.CfgRoleGrowthItem},function(e){l=e.CfgPlayerNickname},function(e){c=e.CfgRole,d=e.CfgRoleItem},function(e){f=e.Fps},function(e){p=e.CfgTailStore,m=e.CfgTailStoreItem},function(e){h=e.CfgRoleStore,g=e.CfgRoleStoreItem},function(e){S=e.CfgGameplayTipLoader}],execute:function(){t._RF.push({},"efaba7Mm9tKyavNlHNDnhDQ","CfgLoader",void 0),e("CfgLoader",function(){function e(){}return e.exe=function(){var e=n(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.isLoaded){e.next=3;break}return null==n||n(),e.abrupt("return");case 3:return this.isLoaded=!0,e.next=6,this.loadAsync("Cfg/RoleGrowth");case 6:return t=e.sent,this.parseRoleGrowth(t),e.next=10,this.loadAsync("Cfg/Role");case 10:return t=e.sent,this.parseRole(t),e.next=14,this.loadAsync("Cfg/Food");case 14:return t=e.sent,this.parseFood(t),e.next=18,this.loadAsync("Cfg/PlayerNickname");case 18:return t=e.sent,this.parsePlayerNickname(t),e.next=22,this.loadAsync("Cfg/TailStore");case 22:return t=e.sent,this.parseTailStore(t),e.next=26,this.loadAsync("Cfg/RoleStore");case 26:return t=e.sent,this.parseRoleStore(t),e.next=30,S.load();case 30:n();case 31:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.loadAsync=function(){var e=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){a.load(n,(function(n,r){e(r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.parseRole=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r];if("true"==t.Enabled){var a=t.Id;if(null!=a&&""!=a){var o=new d;o.id=a,c.data.set(a,o),o.name=t.Name,o.WalkSpeed=Number(t.WalkSpeed),o.WalkSpeed=f.speedPerSecondToSpeedPerFrame(o.WalkSpeed),o.RunSpeed=Number(t.RunSpeed),o.RunSpeed=f.speedPerSecondToSpeedPerFrame(o.RunSpeed),o.WalkAnimSpeed=Number(t.WalkAnimSpeed),o.RunAnimSpeed=Number(t.RunAnimSpeed),o.EatRadius=Number(t.EatRadius),o.BoundingShapeCircleRadius=Number(t.BoundingShapeCircleRadius),o.InitialLen=Number(t.InitialLen),o.ShieldDuration=f.secondToFrame(Number(t.ShieldDuration)),o.AttractDuration=f.secondToFrame(Number(t.AttractDuration)),o.AttractRadiusMultiple=Number(t.AttractRadiusMultiple),o.scoreAddDuration=f.secondToFrame(Number(t.ScoreAddDuration)),o.TurnSensitivity=Number(t.TurnSensitivity)}}}},e.parseRoleGrowth=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r],a=t.Id,o=new i;s.data.push(o),o.id=a,o.len=Number(t.Len);var u=t.Len2;o.len2=null==u||""==u?o.len:Number(t.Len2),o.score=Number(t.Score)}},e.parseFood=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r],a=t.Id,s=new u;o.data.set(a,s),s.id=a,s.radius=Number(t.Radius),s.score=Number(t.Score);var i=String(t.Type);"Normal"==(i=i.trim())?o.normal.push(s):"Drop"==i&&o.drop.push(s)}},e.parsePlayerNickname=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r].Nickname;l.data.push(t)}},e.parseTailStore=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r],a=t.Id;if(null!=a&&""!=a){var o=new m;p.data.push(o),o.id=a;var u=t.CostMoney;null!=u&&""!=u&&(o.costMoney=Number(u)),null!=(u=t.Way)&&""!=u&&(o.way=u)}}},e.parseRoleStore=function(e){for(var n=e.json,r=0;r<n.length;++r){var t=n[r];if("true"==t.Enabled){var a=t.Id;if(null!=a&&""!=a){var o=new g;h.data.push(o),o.id=a;var u=t.CostMoney;null!=u&&""!=u&&(o.costMoney=Number(u)),null!=(u=t.Way)&&""!=u&&(o.way=u)}}}},e}()).isLoaded=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/CfgLottery.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"596c8iluCpHibcRtXwaaOw4","CfgLottery",void 0),t("CfgLottery",(function(){this.data=new Array;var t=new a;t.rewardId="Money",t.count=100,t.w=10,this.data.push(t),(t=new a).rewardId="ResurrectionCard",t.count=1,t.w=3,this.data.push(t),(t=new a).rewardId="Money",t.count=200,t.w=10,this.data.push(t),(t=new a).rewardId="LookFar",t.count=1,t.w=5,this.data.push(t),(t=new a).rewardId="Money",t.count=400,t.w=10,this.data.push(t),(t=new a).rewardId="Attract",t.count=1,t.w=5,this.data.push(t),(t=new a).rewardId="Money",t.count=600,t.w=10,this.data.push(t),(t=new a).rewardId="Shield",t.count=1,t.w=2,this.data.push(t)})).ins=null;var a=t("CfgLotteryItem",(function(){this.rewardId="",this.count=0,this.w=0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CfgPlayerNickname.ts",["cc"],(function(e){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"94e35BjPNVMf7miTfApjQVM","CfgPlayerNickname",void 0),e("CfgPlayerNickname",(function(){})).data=new Array,c._RF.pop()}}}));

System.register("chunks:///_virtual/CfgRole.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"677acrnY6RPSKp5AtUA286C","CfgRole",void 0),i("CfgRole",(function(){})).data=new Map;i("CfgRoleItem",(function(){this.id=void 0,this.name=void 0,this.WalkSpeed=void 0,this.RunSpeed=void 0,this.WalkAnimSpeed=void 0,this.RunAnimSpeed=void 0,this.EatRadius=void 0,this.BoundingShapeCircleRadius=void 0,this.InitialLen=void 0,this.ShieldDuration=void 0,this.AttractDuration=void 0,this.AttractRadiusMultiple=void 0,this.scoreAddDuration=void 0,this.TurnSensitivity=void 0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CfgRoleGrowth.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"2011f3xfVdIYbm/vG/NjRU/","CfgRoleGrowth",void 0),t("CfgRoleGrowth",(function(){})).data=new Array;t("CfgRoleGrowthItem",(function(){this.id=void 0,this.len=void 0,this.len2=void 0,this.score=void 0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/CfgRoleStore.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"765a0mLOndKL7lR4Z6rvUaq","CfgRoleStore",void 0),t("CfgRoleStore",(function(){})).data=new Array;t("CfgRoleStoreItem",(function(){this.id=void 0,this.way="",this.costMoney=-1}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CfgShop.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"2eec0Rw6IJPm6bVw1XlEeGy","CfgShop",void 0),t("CfgShop",(function(){this.data=new Array;var t=new e;t.id="LookFar",t.count=1,t.price=300,this.data.push(t),(t=new e).id="Attract",t.count=1,t.price=300,this.data.push(t),(t=new e).id="Shield",t.count=1,t.price=300,this.data.push(t),(t=new e).id="ResurrectionCard",t.count=1,t.price=300,this.data.push(t)})).ins=null;var e=t("CfgShopItem",(function(){this.id="",this.count=0,this.price=0}));i._RF.pop()}}}));

System.register("chunks:///_virtual/CfgTailStore.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"f9f7btNTWdBOa1ipoKFbEuk","CfgTailStore",void 0),t("CfgTailStore",(function(){})).data=new Array;t("CfgTailStoreItem",(function(){this.id=void 0,this.way=null,this.costMoney=-1}));i._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionEat.ts",["cc","./Food.ts","./RoleEat.ts","./PartitionCollisionMgr.ts"],(function(o){var t,i,n,e,r;return{setters:[function(o){t=o.cclegacy,i=o.Rect},function(o){n=o.FoodMgr},function(o){e=o.RoleEat},function(o){r=o.PartitionCollisionMgr}],execute:function(){t._RF.push({},"09e4du6zWZEA7tA7nOXOjej","CollisionEat",void 0);o("CollisionEat",function(){function o(){}return o.eat=function(o){},o.eat2=function(o){var t=o.view.root.position.clone();t.y=0;for(var n=o.view.root.position,a=2*o.boundingShape.circleRadius,s=new i(n.x,n.z,a,a),c=r.ins.food.getPartitions(s),u=0;u<c.length;++u)for(var l=c[u],f=l.elems.length-1;f>=0;--f){var d=l.elems[f],v=d.view.root.position.clone();v.y=0;var g=t.clone().subtract(v),p=d.cfg.radius*d.cfg.radius+o.eat.radius*o.eat.radius;g.lengthSqr()<=p&&e.eatFood(o,d)}},o.eat1=function(o){var t=o.view.root.position.clone();t.y=0;for(var i=n.data,r=i.length-1;r>=0;--r){var a=i[r],s=a.view.root.position.clone();s.y=0;var c=t.clone().subtract(s),u=a.cfg.radius*a.cfg.radius+o.eat.radius*o.eat.radius;c.lengthSqr()<=u&&e.eatFood(o,a)}},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionGetArticle.ts",["cc","./Article.ts","./RoleGetArticle.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},null,null],execute:function(){e._RF.push({},"8ef72o9WNlLiooCEcQqLTkG","CollisionGetArticle",void 0);t("CollisionGetArticle",function(){function t(){}return t.exe=function(t){},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionSys.ts",["cc","./Ability.ts","./RoleMgr.ts","./Fps.ts","./RoleCollisionTest.ts","./RoleCollistionHandle.ts","./CollisionEat.ts","./CollisionGetArticle.ts"],(function(i){var n,t,l,o;return{setters:[function(i){n=i.cclegacy},function(i){t=i.AbilityType},null,null,function(i){l=i.RoleCollisionTest},function(i){o=i.RoleCollistionHandle},null,null],execute:function(){n._RF.push({},"f6339RUEglBB6Ft11GBWbI9","CollisionSys",void 0),i("CollisionSys",function(){function i(){}return i.update=function(){},i.handle=function(i,n){var e=i.buff.buffs.find((function(i){return i.ability==t.Shield}));null==e&&1==this.touchTail(i,n)||(null==(e=n.buff.buffs.find((function(i){return i.ability==t.Shield})))&&1==this.touchTail(n,i)||0==l.testRole(n,i.view.root.position,i.boundingShape.circleRadius)&&o.headAndHead(i,n))},i.touchTail=function(i,n){return 0!=l.testTail(n,i.view.root.position,i.boundingShape.circleRadius)&&(o.kill(n,i),!0)},i}()).counter=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/ComAi.ts",["cc","./CurrentMax.ts"],(function(t){var e,o;return{setters:[function(t){e=t.cclegacy},function(t){o=t.CurrentMax}],execute:function(){e._RF.push({},"15769/CeMNMs5UW1YY1B58W","ComAi",void 0);t("ComAi",(function(){this.type=0,this.state=0,this.posTarget=void 0,this.dirCorrectInterval=new o,this.eatMove=a.BuffFood2,this.articleTarget=null,this.eatEnterMoveMode=n.Walk,this.eatDangerMoveMode=n.Walk,this.CounterWalkToRun=new o(0,60),this.attackEnabled=!0,this.TransectPos2=null,this.roleAttackTarget=null,this.roleDirList=null,this.attackDurationCounter=0,this.attackCd=new o,this.faceAttackEnter=Array(),this.faceAttackExit=Array(),this.faceDanger=Array()}));var n=t("AiMoveMode",function(t){return t[t.None=0]="None",t[t.Walk=1]="Walk",t[t.Run=2]="Run",t[t.RndWalkRun=3]="RndWalkRun",t[t.WalkToRun=4]="WalkToRun",t}({})),a=t("AiEatMode",function(t){return t[t.Food=0]="Food",t[t.Food2=1]="Food2",t[t.BuffFood=2]="BuffFood",t[t.BuffFood2=3]="BuffFood2",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/CounterDecrease.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"fe5f6KpZMRDh43m89vuburz","CounterDecrease",void 0);e("CounterDecrease",function(){function e(){}return e.untilZero=function(e){return e<=0?e:--e},e.untilNegativeOne=function(e){return e<=-1?e:--e},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CtrlMove.ts",["cc","./RoleMove.ts","./CounterDecrease.ts"],(function(e){var t,o,r;return{setters:[function(e){t=e.cclegacy},function(e){o=e.RoleMove},function(e){r=e.CounterDecrease}],execute:function(){t._RF.push({},"5e038JkfV9B3Ls+aeoERuJH","CtrlMove",void 0);e("CtrlMove",function(){function e(){}return e.moveTo=function(e,t){var r=t.clone().subtract(e.view.root.position);e.ai.posTarget=t,o.cmdMoveTransition(e,r)},e.correct=function(e){var t=e.ai.dirCorrectInterval;if(t.current=r.untilZero(t.current),!(t.current>0)){t.setCurrentAsMax();var n=e.ai.posTarget.clone().subtract(e.view.root.position);o.cmdMoveTransition(e,n)}},e.isReach=function(e){var t=e.ai.posTarget.clone().subtract(e.view.root.position),o=e.move.speed,r=o*o+1;return t.lengthSqr()<=r},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CtrlMoveMode.ts",["cc","./CounterDecrease.ts","./Role.ts","./RoleMove.ts","./ComAi.ts"],(function(e){var n,o,t,u,a,r;return{setters:[function(e){n=e.cclegacy,o=e.randomRangeInt},function(e){t=e.CounterDecrease},function(e){u=e.RoleMoveType},function(e){a=e.RoleMove},function(e){r=e.AiMoveMode}],execute:function(){n._RF.push({},"5a121uTRQ9NXpA3zf6NsNDn","CtrlMoveMode",void 0);e("CtrlMoveMode",function(){function e(){}return e.set=function(e,n){switch(n){case r.None:break;case r.Walk:a.setModeWalk(e);break;case r.Run:a.setModeRun(e);break;case r.RndWalkRun:var t=o(0,2);0==t?a.setModeWalk(e):1==t&&a.setModeRun(e);break;case r.WalkToRun:a.setModeWalk(e),e.ai.CounterWalkToRun.setCurrentAsMax()}},e.updateMode=function(e){if(e.move.moveType==u.Walk){var n=e.ai.CounterWalkToRun.current;if(n<0)return;n=t.untilNegativeOne(n),e.ai.CounterWalkToRun.current=n,0==n&&a.setModeRun(e)}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/CurrentMax.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"3f334UWL1RMx6eNuwa6AHx8","CurrentMax",void 0);t("CurrentMax",function(){function t(t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.current=void 0,this.max=void 0,this.current=t,this.max=r}var r=t.prototype;return r.setCurrentAsMax=function(){this.current=this.max},r.setCurrentAndMax=function(t){this.current=this.max=t},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/DailyCheckinData.ts",["cc","./DateTimeMgr.ts","./DateTimeUtil.ts"],(function(t){var e,a,n,i;return{setters:[function(t){e=t.cclegacy,a=t.sys},function(t){n=t.DateTimeMgr},function(t){i=t.DateTimeUtil}],execute:function(){var c;e._RF.push({},"8bd57fMi9VPf7UccCiXhvr0","DailyCheckinData",void 0);var r=t("DailyCheckinData",function(){function t(){this.lastDate=new Date(0),this.count=0}var e=t.prototype;return e.checkin=function(){this.lastDate=n.ins.getNowDateTime(),this.count++},e.isTodayCheckin=function(){var t=n.ins.getNowDateTime();return i.dateEquals(this.lastDate,t)},t}());c=r,r.ins=new c;t("DailyCheckinDataPersist",function(){function t(){}return t.load=function(){var t=a.localStorage.getItem("DailyCheckin");if(null!=t&&""!=t){var e=null;try{e=JSON.parse(t)}catch(t){return}if(null!=e.Date){var n=new Date(Date.parse(e.Date));r.ins.lastDate=n,r.ins.count=Number(e.Count)}}},t.save=function(){var t={};t.Date=i.toDateString(r.ins.lastDate),t.Count=r.ins.count;var e=JSON.stringify(t);a.localStorage.setItem("DailyCheckin",e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDailyTask.ts","./DateTimeMgr.ts","./DateTimeUtil.ts"],(function(a){var t,e,i,s,r,n;return{setters:[function(a){t=a.createForOfIteratorHelperLoose},function(a){e=a.cclegacy,i=a.sys},function(a){s=a.CfgDailyTask},function(a){r=a.DateTimeMgr},function(a){n=a.DateTimeUtil}],execute:function(){var o;e._RF.push({},"2a8c4KAYeBCD45TbzGJG5La","DailyTaskData",void 0);var l=a("DailyTaskData",(function(){this.items=new Array}));o=l,l.ins=new o;var u=a("DailyTaskDataItem",(function(){this.taskId=null,this.rewardGet=!1}));a("DailyTaskDataPersist",function(){function a(){}return a.load=function(){var a=i.localStorage.getItem("DailyTask");if(null!=a&&""!=a){var t=JSON.parse(a),e=new Date(Date.parse(t.Date));if(0!=n.dateEquals(e,r.ins.getNowDateTime()))for(var o=t.Items,D=0;D<o.length;++D){var c=o[D],f=new u;l.ins.items.push(f);var v=c.TaskId;if(0==s.ins.data.has(v)){var T=l.ins.items;return void T.splice(0,T.length)}f.taskId=v,f.rewardGet=c.RewardGet}}},a.save=function(){var a={};a.Date=n.toDateString(r.ins.getNowDateTime());var e=Array();a.Items=e;for(var s,o=t(l.ins.items);!(s=o()).done;){var u=s.value,D={};e.push(D),D.TaskId=u.taskId,D.RewardGet=u.rewardGet}var c=JSON.stringify(a);i.localStorage.setItem("DailyTask",c)},a}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskDataGen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgDailyTask.ts","./DailyTaskData.ts"],(function(a){var t,e,s,n,i,r,o,l;return{setters:[function(a){t=a.createForOfIteratorHelperLoose},function(a){e=a.cclegacy,s=a.randomRangeInt},function(a){n=a.CfgDailyTask,i=a.TaskType},function(a){r=a.DailyTaskData,o=a.DailyTaskDataPersist,l=a.DailyTaskDataItem}],execute:function(){e._RF.push({},"8d374rGJXNPM7lztO826iOC","DailyTaskDataGen",void 0);a("DailyTaskDataGen",function(){function a(){}return a.todayGen=function(){null==n.ins&&(n.ins=new n);var a=r.ins.items;a.length>0||(o.load(),(a=r.ins.items).length>0||(this.exe(),o.save()))},a.exe=function(){var a=r.ins.items;a.splice(0,a.length);for(var t=0;t<3;++t){var e=new l;a.push(e)}this.exe1()},a.exe1=function(){for(var a,e=new Array,o=t(n.ins.data);!(a=o()).done;){var l=a.value,c=l[0],u=l[1];c.startsWith("Test_")||u.taskType!=i.Live&&e.push(c)}for(var f=0;f<3;++f){var T=s(0,e.length),v=e[T];e.splice(T,1),r.ins.items[f].taskId=v}},a.test=function(){var a=r.ins.items;a.splice(0,a.length);for(var t=0;t<3;++t){var e=new l;a.push(e)}a[0].taskId="Test_TotalScore",a[1].taskId="Test_TotalFood",a[2].taskId="Test_SingleScore"},a}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DailyTaskHelper.ts",["cc","./StringMgr.ts","./StatToday.ts","./CfgDailyTask.ts"],(function(e){var t,n,s,i,a;return{setters:[function(e){t=e.cclegacy},function(e){n=e.StringMgr},function(e){s=e.StatToday},function(e){i=e.CfgDailyTask,a=e.TaskType}],execute:function(){t._RF.push({},"9ea2e22tqVDrJXb7YFzm0J7","DailyTaskHelper",void 0);e("DailyTaskHelper",function(){function e(){}return e.getProgressPercent=function(e){var t=0,n=i.ins.data.get(e);switch(n.taskType){case a.Kill:t=(n.isSingle?s.ins.singleMax.killCount:s.ins.total.killCount)/n.taskTarget;break;case a.Money:t=(n.isSingle?s.ins.singleMax.moneyCount:s.ins.total.moneyCount)/n.taskTarget;break;case a.Score:t=(n.isSingle?s.ins.singleMax.score:s.ins.total.score)/n.taskTarget;break;case a.Live:n.isSingle?s.ins.singleMax.moneyCount:s.ins.total.moneyCount;break;case a.Food:t=(n.isSingle?s.ins.singleMax.foodCount:s.ins.total.foodCount)/n.taskTarget}return t},e.getProgressPercent2=function(e){var t=0,n=i.ins.data.get(e);switch(n.taskType){case a.Kill:t=(n.isSingle?s.ins.single.killCount:s.ins.total.killCount)/n.taskTarget;break;case a.Money:t=(n.isSingle?s.ins.single.moneyCount:s.ins.total.moneyCount)/n.taskTarget;break;case a.Score:t=(n.isSingle?s.ins.single.score:s.ins.total.score)/n.taskTarget;break;case a.Live:n.isSingle?s.ins.single.moneyCount:s.ins.total.moneyCount;break;case a.Food:t=(n.isSingle?s.ins.single.foodCount:s.ins.total.foodCount)/n.taskTarget}return t},e.getDescr=function(e){var t=i.ins.data.get(e),s="TaskDescr"+(1==t.isSingle?"Single":"Total"),a=n.get(s);return s="TaskDescr"+t.taskType,a=(a+=n.get(s)).replace("{n}",t.taskTarget.toString())},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/DateTimeMgr.ts",["cc"],(function(t){var n,e,o,u;return{setters:[function(t){n=t.cclegacy,e=t.game,o=t.tween,u=t.sys}],execute:function(){n._RF.push({},"2ab5e0YHXdLsrlHHduHfrz2","DateTimeMgr",void 0),t("DateTimeSync",function(){function t(){}return t.exe=function(t){var n=this;i.getFromSuNing((function(e,u){if(0==e)return console.log("时间同步失败,1秒后重试"),n.count--,n.count<=0?void t(!1):void o(n).delay(1).call((function(){n.exe(t)})).start();s.ins=new s,s.ins.dtStart=u,t(!0)}))},t}()).count=20;var i=t("DateTimeRequest",function(){function t(){}return t.getFromSuNing=function(t){u.platform!=u.Platform.WECHAT_GAME?u.platform==u.Platform.BYTEDANCE_MINI_GAME?this.ttRequest(t):this.fetch(t):this.wxRequest(t)},t.fetch=function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t){fetch("https://quan.suning.com/getSysTime.do").then((function(t){return t.json()})).then((function(n){var e=new Date(n.sysTime2);console.log("获取服务器时间完成："+e.toString()),t(!0,e)})).catch((function(n){console.log("获取服务器时间出错"),t(!1,null)}))})),t.wxRequest=function(t){wx.request({url:"https://quan.suning.com/getSysTime.do",success:function(n){console.log(n.data);var e=new Date(n.data.sysTime2);t(!0,e)},fail:function(){t(!1,null)}})},t.ttRequest=function(t){tt.request({url:"https://quan.suning.com/getSysTime.do",success:function(n){console.log(n.data);var e=new Date(n.data.sysTime2);t(!0,e)},fail:function(){t(!1,null)}})},t}()),s=t("DateTimeMgr",function(){function t(){this.dtStart=null}return t.prototype.getNowDateTime=function(){var t=Math.floor(e.totalTime/1e3),n=new Date(this.dtStart);return n.setSeconds(this.dtStart.getSeconds()+t),n},t}());s.ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/DateTimeUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"caaf91qaDJJ5oynNzvvqKRt","DateTimeUtil",void 0);t("DateTimeUtil",function(){function t(){}return t.dateEquals=function(t,e){var n=t.getFullYear(),u=e.getFullYear(),r=t.getMonth(),a=e.getMonth(),i=t.getDate(),g=e.getDate();return n==u&&r==a&&i==g},t.toString=function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},t.toDateString=function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DirTable.ts",["cc","./VectorCalc.ts"],(function(t){var n,e,i,c;return{setters:[function(t){n=t.cclegacy,e=t.Vec3,i=t.math},function(t){c=t.VectorCalc}],execute:function(){n._RF.push({},"156c6C8kBVDvJ0/6t3JGfdg","DirTable",void 0),t("DirTable",function(){function t(){this.data=new Array}return t.createIns=function(){if(null==this.ins){this.ins=new t;for(var n=this.ins.data,r=new e(1,0,0),a=0;a<=360;++a){var s=i.toRadian(a),u=c.rotate(r,s);n.push(u)}}},t}()).ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/DurationString.ts",["cc","./StringUtil.ts"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.StringUtil}],execute:function(){n._RF.push({},"1bb94MwKlFGM5ECLkzkhGVe","DurationString",void 0);t("DurationString",function(){function t(){}return t.secondToString=function(t){var n=Math.floor(t%60),i=Math.floor(t/60),o=Math.floor(t/60/60),e="";return o>0&&(e=r.fillZero(o,2)+":"),e=e+r.fillZero(i,2)+":"+r.fillZero(n,2)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/EffectFactory.ts",["cc","./ResMgr2.ts"],(function(t){var e,n,r,c,o;return{setters:[function(t){e=t.cclegacy,n=t.instantiate,r=t.Vec3,c=t.tween},function(t){o=t.ResMgr}],execute:function(){e._RF.push({},"4d019/Y1HFDxL/Rg9pZeRNs","EffectFactory",void 0);t("EffectMaker",function(){function t(){}return t.roleBorn=function(t){var e=o.ins.effect.getChildByPath("Born"),i=n(e);i.setParent(t.view.root),i.position=r.ZERO,c(i).delay(5).destroySelf().start()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/EngineCollision.ts",["cc","./ResMgrRole.ts","./ResMgr2.ts","./RoleEat.ts","./RoleGetArticle.ts","./RoleCollistionHandle.ts","./Ability.ts","./CameraLook.ts","./UiRoleFollowed.ts","./Follow.ts"],(function(e){var o,i,t,n,l,r,s,a,f,c,u,d,g,R,C;return{setters:[function(e){o=e.cclegacy,i=e.instantiate,t=e.Vec3,n=e.SphereCollider,l=e.randomRangeInt,r=e.tween},function(e){s=e.ResMgrRole},function(e){a=e.ResMgr},function(e){f=e.RoleEat},function(e){c=e.RoleGetArticle},function(e){u=e.RoleCollistionHandle},function(e){d=e.AbilityType},function(e){g=e.CameraLook},function(e){R=e.UiRoleFollowedLayer},function(e){C=e.FollowSys}],execute:function(){o._RF.push({},"51000++O+9FR6KCQiu410Ho","EngineCollision",void 0);e("EngineCollision",function(){function e(){}return e.setRole=function(e){var o=e.view.root,l=i(s.ins.RoleCollision);l.setParent(o),l.position=t.ZERO;var r=l.getComponent(n);r.on("onTriggerEnter",this.onTriggerEnter_Role.bind(this)),r.Role=e,r.radius=e.cfg.BoundingShapeCircleRadius,(l=i(s.ins.RoleCollisionEat)).setParent(o),l.position=t.ZERO,r=l.getComponent(n),e.view.eatCollider=l.getComponent(n),r.radius=e.cfg.EatRadius,r.on("onTriggerEnter",this.onTriggerEnter_RoleEat.bind(this,e))},e.onTriggerEnter_Role=function(e){var o=e.selfCollider.Role,i=e.otherCollider.Role;if(1==(null!=e.otherCollider.Tail)){if(o==i)return;if(null!=o.buff.buffs.find((function(e){return e.ability==d.Shield})))return;1==o.life.isAlive&&(u.kill(i,o),this.effect(o))}else null!=i&&1==o.life.isAlive&&1==i.life.isAlive&&(u.headAndHead(o,i),0==o.life.isAlive&&this.effect(o),0==i.life.isAlive&&this.effect(i))},e.effect=function(e){var o=e.view.root.worldPosition.clone();o.y+=1;var n=R.ins.root,s=new t;if(g.mainCamera.convertToUINode(o,n,s),!(Math.abs(s.x)>2e3||Math.abs(s.y)>1500)){var f=a.ins.ui.getChildByPath("Effect/BoomEffect"),c=i(f);c.setParent(n),c.position=s,C.ins.add2(c,o),c.eulerAngles=new t(0,0,l(0,360)),c.scale=new t(.5,.5,.5),r(c).sequence(r(c).to(.1,{scale:new t(5,5,5)}),r(c).delay(.2),r(c).to(.1,{scale:new t(1,1,1)})).start(),r(this).delay(.4).call((function(){c.destroy()})).start()}},e.onTriggerEnter_RoleEat=function(e,o){var i=o.otherCollider.Food;if(null!=i)return o.otherCollider.enabled=!1,void f.eatFood(e,i);var t=o.otherCollider.Article;return null!=t?(o.otherCollider.enabled=!1,void c.get(e,t)):void 0},e.setFood=function(e){var o=e.view.root,l=i(a.ins.food.getChildByPath("Collision"));l.setParent(o),l.position=t.ZERO;var r=l.getComponent(n);r.radius=e.cfg.radius,r.Food=e},e.setArticle=function(e){var o=e.view.root,l=i(a.ins.food.getChildByPath("Collision"));l.setParent(o),l.position=t.ZERO;var r=l.getComponent(n);r.radius=e.boundingShape.circleRadius,r.Article=e},e.setTail=function(e,o){var l=i(s.ins.TailCollision);l.setParent(o),l.position=t.ZERO;var r=l.getComponent(n);r.Tail=!0,r.Role=e},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Entry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Init3.ts"],(function(t){var n,e,r,o,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,o=t.Component},function(t){i=t.Init,c=t.Deinit}],execute:function(){var s;e._RF.push({},"b9773a/eBtGFIyZ165wIp5N","Entry",void 0);var u=r.ccclass;r.property,t("Entry",u("Entry")(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.start=function(){i.exe()},r.onDestroy=function(){c.exe()},e}(o))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/Entry2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Init.ts"],(function(t){var n,r,o,e,c;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,e=t.Component},function(t){c=t.Init}],execute:function(){var i;r._RF.push({},"f1dd9rshxhO37PItSaVEc9m","Entry",void 0);var u=o.ccclass;o.property,t("Entry",u("Entry")(i=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var o=r.prototype;return o.onLoad=function(){c.exe()},o.start=function(){},o.update=function(t){},r}(e))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/Follow.ts",["cc","./CameraLook.ts"],(function(t){var o,e,i,n,a;return{setters:[function(t){o=t.cclegacy,e=t.isValid,i=t.Vec3,n=t.Vec2},function(t){a=t.CameraLook}],execute:function(){o._RF.push({},"0c355WxbRxFMYNqXAawsafI","Follow",void 0),t("FollowSys",function(){function t(){this.data=new Array}var o=t.prototype;return o.add=function(t,o,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new s;n.target=o,n.follower=t,null!=e&&(n.offset3d=e),null!=i&&(n.offset2d=i),this.data.push(n),this.updateItem(n)},o.add2=function(t,o){var e=new s;e.pos=o,e.follower=t,this.data.push(e),this.updateItem(e)},o.remove=function(t){var o=this.data.findIndex((function(o){return o.follower==t}));-1!=o&&this.data.splice(o,1)},o.update=function(){for(var t=this.data.length-1;t>=0;--t){var o=this.data[t];0!=e(o.follower,!0)?this.updateItem(o):this.data.splice(t,1)}},o.updateItem=function(t){if(null!=t.target)r.setUiPos(t.target,t.follower,t.offset3d.x,t.offset3d.y,t.offset2d.x,t.offset2d.y);else{var o=new i;a.mainCamera.convertToUINode(t.pos,t.follower.parent,o),t.follower.position=o}},t}()).ins=null;var s=t("FollowItem",(function(){this.follower=void 0,this.target=void 0,this.pos=void 0,this.offset3d=new i,this.offset2d=new n})),r=t("FollowUiCalc",function(){function t(){}return t.setUiPos=function(t,o,e,n,s,r){void 0===e&&(e=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0);var l=t.worldPosition.clone();l.y+=n,l.x+=e;var f=o.parent,d=new i;a.mainCamera.convertToUINode(l,f,d),d.x+=s,d.y+=r,Math.abs(d.x)>1500||Math.abs(l.y)>1500?o.active=!1:(o.active=!0,o.position=d)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Food.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResMgr2.ts","./CfgFood.ts","./Article.ts","./EngineCollision.ts"],(function(n){var o,t,i,e,r,c,a;return{setters:[function(n){o=n.inheritsLoose},function(n){t=n.cclegacy,i=n.instantiate},function(n){e=n.ResMgr},function(n){r=n.CfgFood},function(n){c=n.Article},function(n){a=n.EngineCollision}],execute:function(){t._RF.push({},"636c9lrvJlOb5k6PboMiUJ/","Food",void 0);var s=n("Food",function(n){function t(){for(var o,t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return(o=n.call.apply(n,[this].concat(i))||this).score=0,o.cfg=null,o}return o(t,n),t}(c));n("FoodFactory",function(){function n(){}return n.create=function(n){var o=new s;o.id=n;var t=r.data.get(n);return o.cfg=t,o.score=t.score,this.view(o),a.setFood(o),o},n.view=function(n){var o=n.id,t=e.ins.food.getChildByPath(o),r=i(t);n.view.root=r,n.view.main=r.getChildByName("Main"),n.view.shadow=r.getChildByName("Shadow")},n}());n("FoodMgr",(function(){})).data=new Array,t._RF.pop()}}}));

System.register("chunks:///_virtual/FoodGen.ts",["cc","./Food.ts","./WorldNode.ts","./GameMap.ts","./CfgFood.ts","./Fps.ts","./PartitionCollisionMgr.ts","./GameParam.ts","./CurrentMax.ts"],(function(t){var n,o,e,i,r,s,a,u,c,d,h,f,l;return{setters:[function(t){n=t.cclegacy,o=t.randomRangeInt,e=t.Vec3},function(t){i=t.FoodMgr,r=t.FoodFactory},function(t){s=t.WorldNode},function(t){a=t.GameMap},function(t){u=t.CfgFood},function(t){c=t.Fps},function(t){d=t.PartitionCollisionMgr},function(t){h=t.GameParam,f=t.GameMode},function(t){l=t.CurrentMax}],execute:function(){var p;n._RF.push({},"97166RJN1dIcJqs9Fc6SyLZ","FoodGen",void 0);var M=t("FoodGen",function(){function t(){this.enabled=!1,this.freqCounter=new l,this.countPerTick=0,this.countMax=0,this.pos=null}var n=t.prototype;return n.init=function(){h.ins.mode==f.survival?(this.countPerTick=80,this.countMax=2e3,this.gen(400)):(this.countPerTick=20,this.countMax=500,this.gen(200)),this.freqCounter.max=c.secondToFrame(1)},n.update=function(){0!=this.enabled&&(this.freqCounter.current--,this.freqCounter.current>0||(this.freqCounter.setCurrentAsMax(),this.gen(this.countPerTick)))},n.gen=function(t){for(var n=0;n<t;++n){if(i.data.length>this.countMax)return;var o=this.rndOne();i.data.push(o),d.ins.addFood(o)}},n.rndOne=function(){var t=u.normal[o(0,u.normal.length)].id,n=r.create(t);return n.view.root.setParent(s.ins.entity,!1),n.view.root.position=this.rndPos(),n},n.rndPos=function(){var t=a.ins.rect;null==this.pos&&(this.pos=new e);return this.pos.x=o(t.xMin+5,t.xMax-5),this.pos.z=o(t.xMin+5,t.xMax-5),this.pos},t}());p=M,M.ins=new p,n._RF.pop()}}}));

System.register("chunks:///_virtual/Fps.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f9afdpy2bxDt72JQs1UHKvh","Fps",void 0),e("Fps",function(){function e(){}return e.secondToFrame=function(e){return Math.floor(this.fps*e)},e.speedPerSecondToSpeedPerFrame=function(e){return e/this.fps},e}()).fps=60,t._RF.pop()}}}));

System.register("chunks:///_virtual/GameMap.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.Rect}],execute:function(){n._RF.push({},"988c1hmXndIUJkxrKNO1NRh","GameMap",void 0),e("GameMap",(function(){this.rect=new t,this.view=new r})).ins=null;var r=e("GameMapView",(function(){this.decorations=new Array,this.ground=new Array,this.border=new Array}));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMapCollisionTest.ts",["cc","./GameMap.ts"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.GameMap}],execute:function(){n._RF.push({},"e95cee1ovlGqqjapaq2JDry","GameMapCollisionTest",void 0);e("GameMapCollisionTest",function(){function e(){}return e.testCircle=function(e,n){var i=t.ins.rect,a=e.x-n,c=e.x+n,o=e.z+n,s=e.z-n;return a<i.xMin||(c>i.xMax||(o>i.yMax||s<i.yMin))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameMapInit.ts",["cc","./GameMap.ts","./ResMgr2.ts","./WorldNode.ts","./GameMapRndPos.ts","./PartitionCollisionMgr.ts","./GameParam.ts"],(function(n){var e,t,i,s,r,a,o,h,u,c,d,l,v,p;return{setters:[function(n){e=n.cclegacy,t=n.Vec2,i=n.find,s=n.Size,r=n.Vec3,a=n.instantiate,o=n.randomRangeInt,h=n.randomRange},function(n){u=n.GameMap},function(n){c=n.ResMgr},function(n){d=n.WorldNode},function(n){l=n.GameMapRndPos},function(n){v=n.PartitionCollisionMgr},function(n){p=n.GameParam}],execute:function(){e._RF.push({},"aef85C7NEhCbp6NRlTRhAhh","GameMapInit",void 0);n("GameMapInit",function(){function n(){}return n.exe=function(){u.ins=new u;var n=u.ins.rect;n.size=p.ins.mapSize.clone(),n.center=t.ZERO,this.ground(),this.border(),g.exe(),v.ins=new v,v.ins.partition(n)},n.ground=function(){var n=i("World/Map"),e=n.getChildByPath("Tile"),o=new s(10,10),h=new t,c=new t;h.x=u.ins.rect.xMin+-50,h.y=u.ins.rect.yMin+-50,c.x=u.ins.rect.xMax+50,c.y=u.ins.rect.yMax+50;for(var d=h.x;d<c.x;d+=o.width)for(var l=h.y;l<c.y;l+=o.height){var v=new r(d,0,l),p=a(e);p.setParent(n,!1),p.position=v,u.ins.view.ground.push(p)}e.destroy()},n.border=function(){var n=d.ins.map,e=c.ins.map.getChildByPath("Border"),t=u.ins.rect,i=new r(t.xMin,0,t.yMin),s=a(e);s.setParent(n,!1),s.position=i;var o=s.scale.clone();o.x=t.width,s.scale=o,u.ins.view.border.push(s),i=new r(t.xMin,0,t.yMax),(s=a(e)).setParent(n,!1),s.position=i,s.scale=o,u.ins.view.border.push(s),i=new r(t.xMin,0,t.yMin),(s=a(e)).setParent(n,!1),s.position=i,s.eulerAngles=new r(0,-90,0),(o=s.scale.clone()).x=t.height,s.scale=o,u.ins.view.border.push(s),i=new r(t.xMax,0,t.yMin),(s=a(e)).setParent(n,!1),s.position=i,s.scale=o,s.eulerAngles=new r(0,-90,0),s.scale=o,u.ins.view.border.push(s)},n}());var g=n("MapInitEnv",function(){function n(){}return n.exe=function(){this.grass(),this.flower(),this.stone(),this.TreeBranch()},n.getCount=function(n){var e=u.ins.rect.size;return e.width*e.height/1e4*n},n.TreeBranch=function(){var n=new Array;n.push(c.ins.env.getChildByPath("TreeBranch001")),n.push(c.ins.env.getChildByPath("TreeBranch002"));var e=this.getCount(20);this.rnd(n,e,.6,1.5)},n.grass=function(){var n=new Array;n.push(c.ins.env.getChildByPath("Grass001")),n.push(c.ins.env.getChildByPath("Grass002")),n.push(c.ins.env.getChildByPath("Grass003"));var e=this.getCount(40);this.rnd(n,e,.6,1.5)},n.flower=function(){var n=new Array;n.push(c.ins.env.getChildByPath("Flower001")),n.push(c.ins.env.getChildByPath("Flower001"));var e=this.getCount(30);this.rnd(n,e,.8,1.5)},n.stone=function(){var n=new Array;n.push(c.ins.env.getChildByPath("Stone001")),n.push(c.ins.env.getChildByPath("Stone002")),n.push(c.ins.env.getChildByPath("Stone003"));var e=this.getCount(20);this.rnd(n,e,.8,1.5)},n.rnd=function(n,e,t,i){void 0===t&&(t=1),void 0===i&&(i=1);for(var s=d.ins.map,c=0;c<e;++c){var v=n[o(0,n.length)],p=a(v);p.setParent(s,!1);var g=new r(0,o(0,360));p.eulerAngles=g;var f=l.get(2);p.position=f;var w=h(t,i);p.setScale(w,w,w),u.ins.view.decorations.push(p)}},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameMapRndPos.ts",["cc","./GameMap.ts","./RoleMgr.ts","./RoleCollisionTest.ts"],(function(t){var n,e,r,o,i,s;return{setters:[function(t){n=t.cclegacy,e=t.Vec3,r=t.randomRange},function(t){o=t.GameMap},function(t){i=t.RoleMgr},function(t){s=t.RoleCollisionTest}],execute:function(){n._RF.push({},"1d0c7/HxkpD6722UK7GJBcU","GameMapRndPos",void 0);t("GameMapRndPos",function(){function t(){}return t.get=function(t){var n=new e,i=o.ins.rect;return n.x=r(i.xMin+t,i.xMax-t),n.z=r(i.yMin+t,i.yMax-t),n},t.get2=function(t,n){for(var r=0;r<50;++r){var o=this.get(t);if(0==this.testRoles(o,n))return o}return e.ZERO},t.testRoles=function(t,n){for(var e=i.ins.all,r=0;r<e.length;++r){var o=e[r],a=s.testRole(o,t,n);if(1==a)return!0;if(1==(a=s.testTail(o,t,n)))return!0}return!1},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameParam.ts",["cc"],(function(e){var i,t;return{setters:[function(e){i=e.cclegacy,t=e.Size}],execute:function(){var n;i._RF.push({},"7a04b8PSRNNf5810RoJ+qpK","GameParam",void 0);var a=e("GameMode",function(e){return e[e.None=0]="None",e[e.TimeLimited=1]="TimeLimited",e[e.survival=2]="survival",e}({})),o=e("GameParam",(function(){this.mode=a.None,this.roldId=void 0,this.tailId=void 0,this.tailAddedLen=0,this.mapSize=new t(100,100),this.npcCount=20}));n=o,o.ins=new n,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameUpdate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FoodGen.ts","./AiSys.ts","./CollisionSys.ts","./RoleSys.ts","./ArticleSys.ts","./CameraLook.ts","./ActiveCulling.ts","./Follow.ts"],(function(t){var n,o,e,i,u,s,c,a,l,p,r,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t.find,i=t.Component},function(t){u=t.FoodGen},function(t){s=t.AiSys},function(t){c=t.CollisionSys},function(t){a=t.RoleSys},function(t){l=t.ArticleSys},function(t){p=t.CameraLook},function(t){r=t.ActiveCulling},function(t){d=t.FollowSys}],execute:function(){o._RF.push({},"8280dxqewRGsqG42EBYTbMu","GameUpdate",void 0),t("GameUpdate",function(){function t(){}return t.start=function(){this.com=e("Entry").addComponent(f)},t.stop=function(){this.com.enabled=!1},t}()).com=null;var f=t("GameUpdateCom",function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.update=function(t){r.ins.update(),d.ins.update(),u.ins.update(),s.update(),c.update(),a.update(),l.update()},e.lateUpdate=function(t){p.update()},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Init2.ts"],(function(t){var n,e,o,r,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){c=t.Init}],execute:function(){var i;e._RF.push({},"1cb959gaqNOL7VJxKfDskMC","HomeEntry",void 0);var u=o.ccclass;o.property,t("HomeEntry",u("HomeEntry")(i=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){c.exe()},o.update=function(t){},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/Init.ts",["cc","./UiProgressBar.ts","./ResMgr.ts","./ScreenAdaptResolutionPolicy.ts","./CfgGameplayTip.ts","./LanguageData.ts","./Vibrate.ts","./InitPlatform.ts","./DateTimeMgr.ts","./Ad.ts","./Login.ts","./Account.ts","./AudioSettingsPersist.ts","./DailyCheckinData.ts","./LotteryData.ts","./StatToday.ts","./AdForegroundSwitch.ts","./AdStartup.ts"],(function(t){var e,n,o,i,s,r,a,c,u,g,d,f,l,p,m,y,h,C,P,S,v,D,A,T;return{setters:[function(t){e=t.cclegacy,n=t.find,o=t.Label,i=t.randomRangeInt,s=t.Color,r=t.director},function(t){a=t.UiProgressBar},function(t){c=t.ResMgrInit},function(t){u=t.ScreenAdaptResolutionPolicy},function(t){g=t.CfgGameplayTipLoader,d=t.CfgGameplayTip},function(t){f=t.init},function(t){l=t.Vibrate},function(t){p=t.InitPlatform},function(t){m=t.DateTimeSync},function(t){y=t.Ad},function(t){h=t.Login},function(t){C=t.AccountPersist},function(t){P=t.AudioSettingsPersist},function(t){S=t.DailyCheckinDataPersist},function(t){v=t.LotteryDataPersist},function(t){D=t.StatTodayPersist},function(t){A=t.AdForegroundSwitch},function(t){T=t.AdStartup}],execute:function(){e._RF.push({},"aede2DFEuVAy6amqr8Nqtyl","Init",void 0),t("Init",function(){function t(){}return t.exe=function(){var t=this;f("zh"),y.createIns(),l.ins=new l,u.exeDesignResolution(),this.progressBar=new a,this.progressBar.init(n("Canvas/ProgressBar")),this.progressBar.setProgress(0),g.load(),n("Canvas/Tip").getComponent(o).string=d.data[i(0,d.data.length)],p.exe(),this.progressBar.progressText.node.parent.active=!1;var e=n("Canvas/State").getComponent(o);e.node.active=!0,m.exe((function(n){if(0==n)return e.string="数据同步失败，请检查网络",void(e.color=s.RED);e.node.active=!1,t.progressBar.progressText.node.parent.active=!0,t.onComplete_TimeSync()})),A.init(),h.exe()},t.onComplete_TimeSync=function(){var t=this;this.loadUserData(),c.onProgress=function(e){t.progressBar.setProgress(e)},c.onComplete=this.onComplete_ResInit,c.exe()},t.loadUserData=function(){C.load(),P.load(),S.load(),v.load(),D.load()},t.onComplete_ResInit=function(){r.loadScene("Home"),T.exe()},t}()).progressBar=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Init2.ts",["cc","./Bgm.ts","./Account.ts","./RoleBooth.ts","./UiMain2.ts","./Test.ts"],(function(n){var t,i,o,e,s,c,u;return{setters:[function(n){t=n.cclegacy},function(n){i=n.Bgm},function(n){o=n.Account},function(n){e=n.RoleBooth,s=n.RoleBoothOp},function(n){c=n.UiMain},function(n){u=n.Test}],execute:function(){t._RF.push({},"c3d50d5N1BALYYl9MIHU/ie","Init",void 0);n("Init",function(){function n(){}return n.exe=function(){i.ins.home(),c.ins=new c,c.ins.init(),e.ins=new e,e.ins.init(),s.show(o.ins.roleUsing),s.showTail(o.ins.tailUsing),u.exe()},n.onRes=function(){},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Init3.ts",["cc","./UiMain.ts","./ResMgr2.ts","./WorldNode.ts","./RoleMgr.ts","./CameraLook.ts","./UiInput.ts","./GameMapInit.ts","./Test2.ts","./FoodGen.ts","./UiLoading2.ts","./RoleGen.ts","./Food.ts","./Article.ts","./GameUpdate.ts","./Fps.ts","./TimeLimitedMode.ts","./ScreenAdapt.ts","./DirTable.ts","./Bgm.ts","./BuffGen.ts","./ActiveCulling.ts","./UiRevive.ts","./Follow.ts","./StatToday.ts"],(function(n){var t,e,i,o,s,a,c,u,r,f,l,d,g,m,p,R,I,M,v,x,G,U,F,T,w,C,h,y,A,L;return{setters:[function(n){t=n.cclegacy,e=n.game,i=n.find,o=n.Tween},function(n){s=n.UiMain},function(n){a=n.ResMgrInit},function(n){c=n.WorldNodeInit},function(n){u=n.RoleMgr},function(n){r=n.CameraInit,f=n.CameraLook},function(n){l=n.UiInput},function(n){d=n.GameMapInit},function(n){g=n.Test},function(n){m=n.FoodGen},function(n){p=n.UiLoading},function(n){R=n.RoleGen},function(n){I=n.FoodMgr},function(n){M=n.ArticleMgr},function(n){v=n.GameUpdate},function(n){x=n.Fps},function(n){G=n.TimeLimitedModeInit},function(n){U=n.ScreenAdapt},function(n){F=n.DirTable},function(n){T=n.Bgm},function(n){w=n.BuffGen},function(n){C=n.ActiveCulling},function(n){h=n.UiRevive},function(n){y=n.FollowSys},function(n){A=n.StatTodayUpdate,L=n.StatTodayPersist}],execute:function(){t._RF.push({},"ca91afr/zRGMa1r/Z+VhI4w","Init",void 0);n("Init",function(){function n(){}return n.exe=function(){T.ins.game(),x.fps=Number(e.frameRate),console.log("frameRate:"+e.frameRate),p.ins=new p,p.ins.init(i("Canvas/Loading")),r.exe(),F.createIns(),a.onComplete=this.onCompleteResInit.bind(this),a.onProgress=function(n){p.ins.setProgress(n)},a.exe()},n.onCompleteResInit=function(){p.ins.root.destroy(),p.ins=null,c.exe(),d.exe(),s.ins.init(),l.ins=new l,l.ins.init(),y.ins=new y,m.ins.enabled=!0,m.ins.init(),R.exe(),w.init(),g.exe();var n=u.ins.local;f.look(n.view.main),G.exe(),U.exe(),C.ins=new C,C.ins.setMode1(),h.counter=0,A.reset(),v.start()},n}()),n("Deinit",function(){function n(){}return n.exe=function(){A.update(),L.save(),o.stopAll(),I.data.splice(0,I.data.length),u.ins.all.splice(0,u.ins.all.length),f.target=null,M.data.splice(0,M.data.length)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/InitPlatform.ts",["cc","./InitWx.ts","./InitTt.ts"],(function(t){var n,e,c,i;return{setters:[function(t){n=t.cclegacy,e=t.sys},function(t){c=t.InitWx},function(t){i=t.InitTt}],execute:function(){n._RF.push({},"6f3c9AvfhxD2Z2xz2JBZ/zg","InitPlatform",void 0);t("InitPlatform",function(){function t(){}return t.exe=function(){switch(e.platform){case e.Platform.WECHAT_GAME:c.exe();break;case e.Platform.BYTEDANCE_MINI_GAME:i.exe()}},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/InitTt.ts",["cc","./UiTtSidebarReward.ts"],(function(e){var n,o;return{setters:[function(e){n=e.cclegacy},function(e){o=e.UiTtSidebarReward}],execute:function(){n._RF.push({},"4fdd4oF+9tDl7YgbYWhDeYn","InitTt",void 0);e("InitTt",function(){function e(){}return e.exe=function(){this.enableShareMenu();var e=tt.getSystemInfoSync();console.log(e),tt.onShow((function(e){console.log("启动参数：",e.query),console.log("来源信息：",e.refererInfo),console.log("场景值：",e.scene),console.log("启动场景字段：",e.launch_from,", ",e.location),o.isFromSidebar="sidebar_card"==e.location}))},e.enableShareMenu=function(){tt.showShareMenu({success:function(e){console.log("已成功显示转发按钮")},fail:function(e){console.log("showShareMenu 调用失败",e.errMsg)},complete:function(e){console.log("showShareMenu 调用完成")}})},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/InitWx.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"91acc+HywZDLJJ9+aErRN69","InitWx",void 0);e("InitWx",function(){function e(){}return e.exe=function(){this.enableShareMenu()},e.enableShareMenu=function(){wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});wx.onShareAppMessage((function(){return{title:"好友邀请你挑战蛇王，战还是逃？",imageUrlId:"2N1C5UmjSJKV+7uV1ZZI7g==",imageUrl:"https://mmocgame.qpic.cn/wechatgame/h4yBgCVBtJpuoib06ibObVIPia2SHicPqbib3bz3a5sbHwian8sc6qh7rrpwQibgINzhKaf/0"}}))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["cc"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy,a=e.director}],execute:function(){e({init:t,t:function(e){var n=window;if(!n.languages)return e;for(var a=e.split("."),t=n.languages[r],u=0;u<a.length;u++)if(!(t=t[a[u]]))return"";return t||""},updateSceneRenderers:u}),n._RF.push({},"b3f01X4Ik5LEbIPKXZr3JWD","LanguageData",void 0);var r=e("_language","zh");e("ready",!1);function t(n){e("ready",!0),r=e("_language",n)}function u(){for(var e=a.getScene().children,n=[],r=0;r<e.length;++r){var t=e[r].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(n,t)}for(var u=0;u<n.length;++u){var i=n[u];i.node.active&&i.updateLabel()}for(var o=[],g=0;g<e.length;++g){var c=e[g].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var p=o[l];p.node.active&&p.updateSprite()}}window._languageData={get language(){return r},init:function(e){t(e)},updateSceneRenderers:function(){u()}},n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,o,a,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,l=e._decorator,c=e.Component},function(e){s=e.ready,u=e.init,p=e.t}],execute:function(){var y,d,b,f,h,L;a._RF.push({},"edf98QH2D1AUoCrtQlbxFrU","LocalizedLabel",void 0);var g=l.ccclass,v=l.property,k=l.executeInEditMode;e("LocalizedLabel",(y=g("LocalizedLabel"),d=v({visible:!1}),b=v({displayName:"Key",visible:!0}),y(f=k((L=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).label=null,r(t,"key",L,n(t)),t}i(t,e);var a=t.prototype;return a.onLoad=function(){s||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Label");if(e)return this.label=e,void this.updateLabel()},a.updateLabel=function(){this.label&&(this.label.string=p(this.key))},o(t,[{key:"_key",get:function(){return this.key},set:function(e){this.updateLabel(),this.key=e}}]),t}(c)).prototype,"key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(h.prototype,"_key",[b],Object.getOwnPropertyDescriptor(h.prototype,"_key"),h.prototype),f=h))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(e){var t,i,r,n,a,o,p,s,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,p=e.SpriteFrame,s=e.Component},function(e){c=e.ready,u=e.init,l=e._language}],execute:function(){var f,h,d,g,y,z,L,m,b,v,S;a._RF.push({},"c05c25C4xNAupWYMB93tIzp","LocalizedSprite",void 0);var F=o.ccclass,_=o.property,w=o.executeInEditMode,D=(f=F("LocalizedSpriteItem"),h=_({type:p}),f((y=t((g=function(){i(this,"language",y,this),i(this,"spriteFrame",z,this)}).prototype,"language",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"zh"}}),z=t(g.prototype,"spriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d);e("LocalizedSprite",(L=F("LocalizedSprite"),m=_({type:D}),L(b=w((S=t((v=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).sprite=null,i(t,"spriteList",S,n(t)),t}r(t,e);var a=t.prototype;return a.onLoad=function(){c||u("zh"),this.fetchRender()},a.fetchRender=function(){var e=this.getComponent("cc.Sprite");if(e)return this.sprite=e,void this.updateSprite()},a.updateSprite=function(){for(var e=0;e<this.spriteList.length;e++){var t=this.spriteList[e];if(t.language===l){this.sprite.spriteFrame=t.spriteFrame;break}}},t}(s)).prototype,"spriteList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=v))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["cc","./SocialUserInfo.ts","./UiNickname.ts","./UiDialog.ts","./Account.ts"],(function(n){var o,e,i,t,s,c,l,u;return{setters:[function(n){o=n.cclegacy,e=n.sys,i=n.isValid,t=n.find},function(n){s=n.SocialUserInfo},function(n){c=n.UiNickname},function(n){l=n.UiDialog},function(n){u=n.Account}],execute:function(){o._RF.push({},"656cdttasJCqob0fOqXX1Lf","Login",void 0);n("Login",function(){function n(){}return n.exe=function(){switch(e.platform){case e.Platform.BYTEDANCE_MINI_GAME:f.onComplete=this.onComplete,f.exe()}},n.onComplete=function(){u.ins.nickname=s.ins.nickname,null!=c.ins&&1==i(c.ins.root,!0)&&c.ins.refresh()},n}());var f=n("LoginTt",function(){function n(){}return n.exe=function(){tt.login({force:!0,success:function(o){console.log("login 调用成功"+o.code+" "+o.anonymousCode),tt.getUserInfo({success:function(o){console.log("getUserInfo 调用成功",o.userInfo),s.ins=new s,s.ins.nickname=o.userInfo.nickName,s.ins.avatarUrl=o.userInfo.avatarUrl,null==n.onComplete||n.onComplete()},fail:function(n){l.show("获取用户信息失败。",t("Canvas")),console.log("getUserInfo 调用失败",n.errMsg)}})},fail:function(n){l.show("登录失败。",t("Canvas")),console.log("login 调用失败")}})},n}());f.onComplete=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/LotteryData.ts",["cc","./DateTimeUtil.ts"],(function(t){var e,a,n;return{setters:[function(t){e=t.cclegacy,a=t.sys},function(t){n=t.DateTimeUtil}],execute:function(){var i;e._RF.push({},"fa30dYlbZBGSqKPgQFiNNDW","LotteryData",void 0);var r=t("LotteryData",(function(){this.lastDate=new Date(0)}));i=r,r.ins=new i;t("LotteryDataPersist",function(){function t(){}return t.load=function(){var t=a.localStorage.getItem("Lottery");if(null!=t&&""!=t){var e=t.split("|");r.ins.lastDate=new Date(Date.parse(e[0]))}},t.save=function(){a.localStorage.setItem("Lottery",n.toString(r.ins.lastDate))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Ad.ts","./AdBase.ts","./AdForegroundSwitch.ts","./AdRewardVideoFailHandler.ts","./AdStartup.ts","./AdTt.ts","./AdWx.ts","./AudioSettingsPersist.ts","./Bgm.ts","./Sound.ts","./Account.ts","./DateTimeMgr.ts","./DateTimeUtil.ts","./StringMgr.ts","./InitPlatform.ts","./InitTt.ts","./InitWx.ts","./Share.ts","./ShareTt.ts","./ShareWx.ts","./Login.ts","./SocialUserInfo.ts","./UiCircleProgressCountdown.ts","./UiDialog.ts","./UiGuide.ts","./UiPopup.ts","./UiProgressBar.ts","./UiToast.ts","./Vibrate.ts","./CfgFood.ts","./CfgGameplayTip.ts","./CfgLoader.ts","./CfgPlayerNickname.ts","./CfgRole.ts","./CfgRoleGrowth.ts","./CfgRoleStore.ts","./CfgTailStore.ts","./Entry.ts","./GameParam.ts","./GameUpdate.ts","./Init3.ts","./ResMgr2.ts","./ResMgrRole.ts","./RoleGen.ts","./RoleGenNpc.ts","./ScreenAdapt.ts","./Test2.ts","./UiJoystick.ts","./UiJoystickTouch.ts","./UiAction.ts","./UiBuff.ts","./UiCountdown.ts","./UiDebug.ts","./UiExitBtn.ts","./UiFaceBtn.ts","./UiInput.ts","./UiLive.ts","./UiLocalState.ts","./UiMain.ts","./UiMinimap.ts","./UiProp.ts","./UiPropPrompt.ts","./UiRanking2.ts","./UiRoleFollowed.ts","./UiTask.ts","./UiEvaluate.ts","./UiEventNotification.ts","./UiFaceList.ts","./UiKillPrompt.ts","./UiLoading2.ts","./UiRevive.ts","./UiSettle.ts","./UiTextPrompt.ts","./AiArticle.ts","./AiElude.ts","./AiFace.ts","./AiState.ts","./AiSys.ts","./AiTransect.ts","./Ai_1.ts","./Ai_Eat.ts","./Ai_Transect.ts","./Ai_Wander.ts","./ComAi.ts","./CtrlMove.ts","./CtrlMoveMode.ts","./Article.ts","./ArticleFactory.ts","./ArticleSys.ts","./BuffGen.ts","./MoneyGen.ts","./Ability.ts","./Buff.ts","./BuffAdd.ts","./BuffRemove.ts","./BuffSys.ts","./CollisionEat.ts","./CollisionGetArticle.ts","./CollisionSys.ts","./EngineCollision.ts","./PartitionCollision.ts","./PartitionCollisionMgr.ts","./RoleCollisionTest.ts","./RoleCollistionHandle.ts","./Food.ts","./FoodGen.ts","./GameMap.ts","./GameMapCollisionTest.ts","./GameMapInit.ts","./GameMapRndPos.ts","./ActiveCulling.ts","./CameraLook.ts","./CounterDecrease.ts","./CurrentMax.ts","./DirTable.ts","./EffectFactory.ts","./Follow.ts","./Fps.ts","./MoveAnimSpeedCalc.ts","./RoleStatHelper.ts","./ScoreShow.ts","./Settle.ts","./ShakeWorld.ts","./StatToday.ts","./TextureOriginalRatioSprite.ts","./TimeLimitedMode.ts","./WorldNode.ts","./Role.ts","./RoleAnim.ts","./RoleDie.ts","./RoleEat.ts","./RoleFace.ts","./RoleFactory.ts","./RoleGetArticle.ts","./RoleMgr.ts","./RoleMove.ts","./RoleShow.ts","./RoleSys.ts","./RoleTailAdd.ts","./RoleTailArrange.ts","./RoleTurn.ts","./Tail.ts","./HomeEntry.ts","./Init2.ts","./Test.ts","./MoneySub.ts","./RewardGet.ts","./RoleBooth.ts","./UiItem.ts","./UiLoading.ts","./UiMain2.ts","./UiMargin.ts","./UiMoney.ts","./UiNickname.ts","./UiTouchRole.ts","./CfgDailyCheckin.ts","./DailyCheckinData.ts","./UiDailyCheckin.ts","./CfgDailyTask.ts","./DailyTaskData.ts","./DailyTaskDataGen.ts","./DailyTaskHelper.ts","./UiDailyTask.ts","./CfgLottery.ts","./LotteryData.ts","./UiLottery.ts","./RankingData.ts","./RankingDataGen.ts","./RankingDataPersist.ts","./RankingUpload.ts","./UiRanking.ts","./UiRankingBtn.ts","./UiRole.ts","./UiRoleAttribute.ts","./UiRoleGet.ts","./UiRoleList.ts","./UiRoleTab.ts","./UiRoleTailGet.ts","./UiRoleTailList.ts","./UiScrollList.ts","./CfgShop.ts","./UiShop.ts","./TtSidebarData.ts","./UiTtSidebarReward.ts","./UiTtSidebarRewardBtn.ts","./UiGameplayChoice.ts","./UiRewardGet.ts","./UiSettings.ts","./Entry2.ts","./Init.ts","./ResMgr.ts","./Music.ts","./Sound2.ts","./VectorCalc.ts","./OsJudge.ts","./ScreenAdaptResolutionPolicy.ts","./UiMoreGames.ts","./UiMoreGamesFactory.ts","./NumberRolling.ts","./Shake.ts","./UiEffect.ts","./UiSwitch.ts","./UiTabHeader.ts","./WxHelper.ts","./DurationString.ts","./Random.ts","./Shuffle.ts","./WeightProbability.ts","./StringUtil.ts","./LanguageData.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MoneyGen.ts",["cc","./GameMapRndPos.ts","./CounterDecrease.ts","./Fps.ts","./WorldNode.ts","./Article.ts","./ArticleFactory.ts"],(function(e){var n,t,o,r,c,i,u,s,a,l;return{setters:[function(e){n=e.cclegacy,t=e.randomRangeInt,o=e.tween,r=e.Vec3},function(e){c=e.GameMapRndPos},function(e){i=e.CounterDecrease},function(e){u=e.Fps},function(e){s=e.WorldNode},function(e){a=e.ArticleMgr},function(e){l=e.ArticleFactory}],execute:function(){n._RF.push({},"0b1e0jYecRCgrfobX4cE/Jv","MoneyGen",void 0),e("MoneyGen",function(){function e(){}return e.update=function(){this.counter=i.untilZero(this.counter),this.counter>0||(this.genOne(),this.counter=u.secondToFrame(3))},e.genOne=function(){var e=l.create("Coin");e.view.root.parent=s.ins.entity;var n=t(10,20);e.MoneyVal=n,e.move=null,e.ai=null;var i=e.view.root,u=0==t(0,2)?360:-360;o(i).by(3,{eulerAngles:new r(0,u)}).repeatForever().start();var f=c.get(10);return e.view.root.position=f,a.data.push(e),e},e}()).counter=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/MoneySub.ts",["cc","./UiDialog.ts","./UiMain2.ts","./Account.ts","./StringMgr.ts"],(function(n){var t,o,i,e,u,c,r;return{setters:[function(n){t=n.cclegacy,o=n.HorizontalTextAlignment},function(n){i=n.UiDialog},function(n){e=n.UiMain},function(n){u=n.AccountPersist,c=n.Account},function(n){r=n.StringMgr}],execute:function(){t._RF.push({},"a8ae8kRFQZL5L39y6cXIwfx","MoneySub",void 0);n("MoneySub",function(){function n(){}return n.sub=function(n){var t=c.ins,o=t.money-n;return!(o<0)&&(t.money=o,u.save(),!0)},n.subDialog=function(n){var t=c.ins,s=t.money-n;return s<0?(i.show(r.get("MoneyNotEnough"),e.ins.root).text.horizontalAlign=o.LEFT,!1):(t.money=s,u.save(),!0)},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/MoveAnimSpeedCalc.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"83c81z79eFOBazp4ogF60CM","MoveAnimSpeedCalc",void 0);e("MoveAnimSpeedCalc",function(){function e(){}return e.getAnimaScale=function(e,n,c,t,i){return n+(i-e)*((t-n)/(c-e))},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Music.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,o,n,u,e,c;return{setters:[function(i){t=i.createClass},function(i){o=i.cclegacy,n=i.Node,u=i.AudioSource,e=i.resources,c=i.AudioClip}],execute:function(){o._RF.push({},"1d410N+GSFLToF1NfZZP3Pq","Music",void 0);i("Music",function(){function i(){this.m_enabled=!0,this.audioSrc=null}var o=i.prototype;return o.play=function(i,t){var o=this;if(void 0===t&&(t=!0),0!=this.enabled){if(this.stop(),null==this.audioSrc){var s=new n;this.audioSrc=s.getComponent(u),null==this.audioSrc&&(this.audioSrc=s.addComponent(u))}e.load(i,c,(function(i,n){o.audioSrc.clip=n,o.audioSrc.loop=t,o.audioSrc.play()}))}},o.stop=function(){null!=this.audioSrc&&this.audioSrc.stop()},t(i,[{key:"enabled",get:function(){return this.m_enabled},set:function(i){this.m_enabled=i,0==i&&this.stop()}}]),i}());o._RF.pop()}}}));

System.register("chunks:///_virtual/NumberRolling.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.Component}],execute:function(){e._RF.push({},"29502SFN3pFfaeaQMp22yGi","NumberRolling",void 0);t("NumberRolling",function(){function t(){}return t.exe=function(t,n,e,i){var o=null;null==(o=t.getComponent(u))&&(o=t.addComponent(u)),o.enabled=!0,o.label=t,o.num1=e,o.num2=i,o.setValue=this.setVal,o.duration=n,o.onComplete=function(){o.enabled=!1},o.init()},t.setVal=function(t){return t.toString()},t}());var u=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return(n=t.call.apply(t,[this].concat(i))||this).label=null,n.num1=0,n.num2=0,n.duration=0,n.onComplete=null,n.setValue=null,n.diff=0,n.timeCount=0,n}n(e,t);var i=e.prototype;return i.init=function(){this.diff=this.num2-this.num1,this.timeCount=0,this.update(0)},i.update=function(t){this.timeCount+=t;var n=this.timeCount/this.duration;if(n>=1)return this.showNumber(this.num2),this.enabled=!1,void(null!=this.onComplete&&this.onComplete());var e=this.diff*n;e=this.num1+e,e=Math.floor(e),this.showNumber(e)},i.showNumber=function(t){this.label.string=this.setValue(t)},e}(i);e._RF.pop()}}}));

System.register("chunks:///_virtual/OsJudge.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b5ce1/KdhhF5oaQIRetP8vw","OsJudge",void 0);e("OsJudge",function(){function e(){}return e.isWx=function(){return/MicroMessenger/i.test(window.navigator.userAgent)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PartitionCollision.ts",["cc"],(function(t){var i,o,r,e;return{setters:[function(t){i=t.cclegacy,o=t.Rect,r=t.Vec2,e=t.Size}],execute:function(){i._RF.push({},"ad09978oF9JJqH8lWL1c04g","PartitionCollision",void 0);t("PartitionCollision",function(){function t(){this.partitions=new Array,this.pMatSize=new e,this.partitionSize=new e,this.posStart=new r,this.coordTemp=new r,this.partitionsTemp=new Array}var i=t.prototype;return i.partitionFixedSize=function(t,i,o){this.partitionSize.set(i,o),this.posStart.set(t.xMin,t.yMin);for(var r=t.yMin;r<=t.yMax;r+=o){var e=new Array;this.partitions.push(e);for(var n=t.xMin;n<=t.xMax;n+=i){var a=new s;e.push(a),a.rect.set(n,r,i,o)}}for(var h=0;h<this.partitions.length;++h)for(var d=this.partitions[h],c=0;c<d.length;++c){d[c].coord.set(c,h)}this.pMatSize.set(this.partitions[0].length,this.partitions.length)},i.getPartitions=function(t){this.partitionsTemp.splice(0,this.partitionsTemp.length);var i=this.partitionsTemp,o=this.getPartition(t.center);i.push(o);var r=this.coordTemp;return t.xMin<o.rect.xMin&&o.coord.x>0?(r.set(o.coord).add2f(-1,0),i.push(this.getPartitionByCoord(r)),t.yMax>o.rect.yMax&&o.coord.y<this.pMatSize.height?(r.set(o.coord).add2f(0,1),i.push(this.getPartitionByCoord(r)),r.set(o.coord).add2f(-1,1),i.push(this.getPartitionByCoord(r))):t.yMin<o.rect.yMin&&o.coord.y>0&&(r.set(o.coord).add2f(0,-1),i.push(this.getPartitionByCoord(r)),r.set(o.coord).add2f(-1,-1),i.push(this.getPartitionByCoord(r)))):t.xMax>o.rect.xMax&&o.coord.x<this.pMatSize.width?(r.set(o.coord).add2f(1,0),i.push(this.getPartitionByCoord(r)),t.yMax>o.rect.yMax&&o.coord.y<this.pMatSize.height?(r.set(o.coord).add2f(0,1),i.push(this.getPartitionByCoord(r)),r.set(o.coord).add2f(1,1),i.push(this.getPartitionByCoord(r))):t.yMin<o.rect.yMin&&o.coord.y>0&&(r.set(o.coord).add2f(0,-1),i.push(this.getPartitionByCoord(r)),r.set(o.coord).add2f(1,-1),i.push(this.getPartitionByCoord(r)))):t.yMax>o.rect.yMax&&o.coord.y<this.pMatSize.height?(r.set(o.coord).add2f(0,1),i.push(this.getPartitionByCoord(r))):t.yMin<o.rect.yMin&&o.coord.y>0&&(r.set(o.coord).add2f(0,-1),i.push(this.getPartitionByCoord(r))),i},i.addElem=function(t,i){for(var o=this.getPartitions(i),r=0;r<o.length;++r)o[r].elems.push(t)},i.removeElem=function(t){for(var i=0;i<this.partitions.length;++i)for(var o=this.partitions[i],r=0;r<o.length;++r){var e=o[r].elems,s=e.indexOf(t);-1!=s&&e.splice(s,1)}},i.clearAllElems=function(){for(var t=0;t<this.partitions.length;++t)for(var i=this.partitions[t],o=0;o<i.length;++o){var r=i[o].elems;r.splice(0,r.length)}},i.getPartition=function(t){this.coordTemp.set(t);var i=this.coordTemp.subtract(this.posStart).divide2f(this.partitionSize.width,this.partitionSize.height);return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.x<0||i.y<0||i.x>=this.partitions[0].length||i.y>=this.partitions.length?null:this.partitions[i.y][i.x]},i.getPartitionByCoord=function(t){return this.partitions[t.y][t.x]},t}());var s=function(){this.rect=new o,this.coord=new r,this.elems=new Array};i._RF.pop()}}}));

System.register("chunks:///_virtual/PartitionCollisionMgr.ts",["cc","./PartitionCollision.ts"],(function(i){var t,n;return{setters:[function(i){t=i.cclegacy},function(i){n=i.PartitionCollision}],execute:function(){t._RF.push({},"e4e8cF5YNFGeYS0jANyyfln","PartitionCollisionMgr",void 0),i("PartitionCollisionMgr",function(){function i(){this.food=new n}var t=i.prototype;return t.partition=function(i){this.food.partitionFixedSize(i,10,10)},t.addFood=function(i){},i}()).ins=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/Random.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"ddbbcAFyqVH0rrtlvc2epag","Random",void 0);n("Random",function(){function n(){}return n.rangeInt=function(n,t){return Math.floor(Math.random()*(t+1-n))+n},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RankingData.ts",["cc"],(function(n){var a;return{setters:[function(n){a=n.cclegacy}],execute:function(){var t;a._RF.push({},"d415bDerM5Ay4OVsAa6bVgn","RankingData",void 0);var i=n("RankingData",(function(){this.score=new Array,this.kill=new Array}));t=i,i.ins=new t;n("RankingDataItem",(function(){this.name=void 0,this.val=void 0}));a._RF.pop()}}}));

System.register("chunks:///_virtual/RankingDataGen.ts",["cc","./CfgPlayerNickname.ts","./RankingData.ts","./RankingDataPersist.ts"],(function(n){var t,e,i,a,s,r;return{setters:[function(n){t=n.cclegacy,e=n.randomRangeInt},function(n){i=n.CfgPlayerNickname},function(n){a=n.RankingData,s=n.RankingDataItem},function(n){r=n.RankingDataPersist}],execute:function(){t._RF.push({},"d2966EVu4xHhY1gLZLv7DFl","RankingDataGen",void 0);n("RankingDataGen",function(){function n(){}return n.exe=function(){a.ins.score.length>0&&a.ins.kill.length>0||(r.load(),a.ins.score.length>0&&a.ins.kill.length>0||(this.gen(),r.save()))},n.gen=function(){this.genScore(),this.genKill()},n.genKill=function(){this.genItems(a.ins.kill,20,75,750)},n.genScore=function(){this.genItems(a.ins.score,20,246970,3263e3)},n.genItems=function(n,t,i,a){n.splice(0,n.length);for(var r=this.rndNames(t),c=0;c<t;++c){var l=new s;n.push(l),l.name=r[c],l.val=e(i,a)}this.sort(n)},n.sortInsert=function(n,t){for(var e=0;e<t.length;++e)if(n.val>t[e].val)return t.splice(e,0,n),e;return-1},n.sort=function(n){n.sort((function(n,t){return n.val>t.val?-1:n.val<t.val?1:0}))},n.rndNames=function(n){for(var t=i.data.slice(),a=new Array,s=0;s<n;++s){var r=e(0,t.length),c=t[r];t.splice(r,1),a.push(c)}return a},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RankingDataPersist.ts",["cc","./DateTimeUtil.ts","./DateTimeMgr.ts","./RankingData.ts"],(function(t){var a,e,n,i,s;return{setters:[function(t){a=t.cclegacy,e=t.sys},function(t){n=t.DateTimeUtil},function(t){i=t.DateTimeMgr},function(t){s=t.RankingData}],execute:function(){a._RF.push({},"8be8f1RUR1Ii5DRsronIPD0","RankingDataPersist",void 0);t("RankingDataPersist",function(){function t(){}return t.load=function(){var t=e.localStorage.getItem("RankingData");if(null!=t&&""!=t){var a=JSON.parse(t),r=new Date(Date.parse(a.Date));0!=n.dateEquals(r,i.ins.getNowDateTime())&&(s.ins.score=a.Score,s.ins.kill=a.Kill)}},t.save=function(){var t={};t.Date=n.toDateString(i.ins.getNowDateTime()),t.Score=s.ins.score,t.Kill=s.ins.kill;var a=JSON.stringify(t);e.localStorage.setItem("RankingData",a)},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/RankingUpload.ts",["cc","./StatToday.ts"],(function(t){var o,n,a;return{setters:[function(t){o=t.cclegacy,n=t.sys},function(t){a=t.StatToday}],execute:function(){o._RF.push({},"47674rc9DhCVLPZQ2uHZSJL","RankingUpload",void 0);t("RankingUpload",function(){function t(){}return t.upload=function(){switch(n.platform){case n.Platform.BYTEDANCE_MINI_GAME:this.uploadScore(),this.uploadKill()}},t.uploadScore=function(){var t=a.ins.total.score.toString();tt.setImRankData({dataType:0,value:t,priority:0,extra:"extra",zoneId:"Score",success:function(t){console.log("【抖音】排行榜 得分 上传 成功: "+t)},fail:function(t){console.log("【抖音】排行榜 得分 上传 失败: "+t.errMsg)}})},t.uploadKill=function(){var t=a.ins.total.killCount.toString();tt.setImRankData({dataType:0,value:t,priority:0,extra:"extra",zoneId:"Kill",success:function(t){console.log("【抖音】排行榜 击杀 上传 成功: "+t)},fail:function(t){console.log("【抖音】排行榜 击杀 上传 失败: "+t.errMsg)}})},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr.ts",["cc","./UiLoading.ts","./CfgLoader.ts","./UiRole.ts","./ResMgrRole.ts","./UiDialog.ts","./UiToast.ts","./UiMoreGamesFactory.ts","./UiRewardGet.ts","./UiShop.ts"],(function(o){var i,n,t,e,l,s,a,r,c,u,f,m;return{setters:[function(o){i=o.cclegacy,n=o.resources,t=o.instantiate},function(o){e=o.UiLoading},function(o){l=o.CfgLoader},function(o){s=o.UiRole},function(o){a=o.ResMgrRole},function(o){r=o.UiDialog},function(o){c=o.UiToast},function(o){u=o.UiMoreGamesFactory},function(o){f=o.UiRewardGet},function(o){m=o.UiShop}],execute:function(){i._RF.push({},"261a5ImWABG7bcNv9aiN1+2","ResMgr",void 0);var g=o("ResMgr",(function(){this.roleIcon=void 0,this.tailIcon=void 0,this.Icon=void 0}));g.ins=null;var h=o("ResMgrInit",function(){function o(){}return o.exe=function(){var o=this;g.ins=new g,l.exe((function(){n.load(["Common/Loading","Home/Role","Common/RoleIcon","Game/Role","Common/TailIcon","Common/Settings","Common/Dialog","Common/Toast","Common/MoreGames","Common/Icon","Home/RewardGet","Home/Shop"],o._onProgress.bind(o),o._onComplete.bind(o))}))},o._onComplete=function(o,i){var n;if(e.pf=i[0],s.pf=i[1],g.ins.roleIcon=t(i[2]),null==a.ins){a.ins=new a;var l=a.ins,h=t(i[3]);l.role=h.getChildByPath("Role"),l.tail=h.getChildByPath("Tail"),l.RoleCollision=h.getChildByPath("RoleCollision"),l.RoleCollisionEat=h.getChildByPath("RoleCollisionEat"),l.TailCollision=h.getChildByPath("TailCollision")}g.ins.tailIcon=t(i[4]),r.pf=i[6],c.pf=i[7],u.pf=i[8],g.ins.Icon=t(i[9]),f.pf=i[10],m.pf=i[11],null==(n=this.onComplete)||n.call(this)},o._onProgress=function(o,i,n){var t,e=o/i;e<this.val||(this.val=e,null==(t=this.onProgress)||t.call(this,this.val))},o}());h.onComplete=void 0,h.onProgress=void 0,h.val=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgr2.ts",["cc","./CfgLoader.ts","./ResMgrRole.ts"],(function(i){var e,t,o,l,n,s;return{setters:[function(i){e=i.cclegacy,t=i.resources,o=i.Prefab,l=i.instantiate},function(i){n=i.CfgLoader},function(i){s=i.ResMgrRole}],execute:function(){e._RF.push({},"cbdebkxkeRH8pp6Ooh0S9+9","ResMgr",void 0);var a=i("ResMgr",(function(){this.ui=void 0,this.food=void 0,this.map=void 0,this.effect=void 0,this.article=void 0,this.env=void 0}));a.ins=null;var r=i("ResMgrInit",function(){function i(){}return i.exe=function(){var i=this;a.ins=new a,n.exe((function(){t.load(["Game/Prefab","Game/Role","Game/Ui"],o,i._onProgress.bind(i),i._onComlete.bind(i))}))},i._onComlete=function(i,e){var t,o=a.ins,n=l(e[0]);if(o.food=n.getChildByPath("Food"),o.map=n.getChildByPath("Map"),o.effect=n.getChildByPath("Effect"),o.article=n.getChildByPath("Article"),o.env=n.getChildByPath("Env"),null==s.ins){s.ins=new s;var r=s.ins,h=l(e[1]);r.role=h.getChildByPath("Role"),r.tail=h.getChildByPath("Tail"),r.RoleCollision=h.getChildByPath("RoleCollision"),r.RoleCollisionEat=h.getChildByPath("RoleCollisionEat"),r.TailCollision=h.getChildByPath("TailCollision")}o.ui=l(e[2]),null==(t=this.onComplete)||t.call(this)},i._onProgress=function(i,e,t){var o,l=i/e;l<this.val||(this.val=l,null==(o=this.onProgress)||o.call(this,this.val))},i}());r.onProgress=void 0,r.onComplete=void 0,r.val=0,e._RF.pop()}}}));

System.register("chunks:///_virtual/ResMgrRole.ts",["cc"],(function(i){var o;return{setters:[function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"9af411w7tVFqYLh8Y2/XBs9","ResMgrRole",void 0),i("ResMgrRole",(function(){this.role=void 0,this.tail=void 0,this.RoleCollision=void 0,this.RoleCollisionEat=void 0,this.TailCollision=void 0})).ins=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/RewardGet.ts",["cc","./Account.ts","./UiMoney.ts","./UiRewardGet.ts","./Sound.ts","./Ad.ts"],(function(e){var t,n,o,c,i,r,a,s;return{setters:[function(e){t=e.cclegacy,n=e.Input},function(e){o=e.AccountPersist,c=e.Account},function(e){i=e.UiMoney},function(e){r=e.UiRewardGet},function(e){a=e.Sound},function(e){s=e.Ad}],execute:function(){t._RF.push({},"e3fc0U3Z2FMzoa6n0CoochL","RewardGet",void 0);e("RewardGet",function(){function e(){}return e.exe=function(t,o,c,i){void 0===c&&(c=null),void 0===i&&(i=!1),e.logicGet(t,o,c);var d=r.create(t,o,c);d.ad.active=i,d.btnOK.active=!i,d.ad.getChildByPath("btnAd").on(n.EventType.TOUCH_END,(function(){a.ins.btnClick(),s.ins.showRewardedVideo((function(){d.root.destroy(),e.logicGet(t,o);var n=r.create(t,o,c);return n.ad.active=!1,void(n.btnOK.active=!0)}))}))},e.logicGet=function(e,t,n){void 0===n&&(n=null);var r=c.ins;switch(e){case"Money":r.money+=t,i.ins.refreshRolling();break;case"ResurrectionCard":r.resurrectionCard+=t;break;case"LookFar":r.propLookFar+=t;break;case"Attract":r.propAttract+=t;break;case"Shield":r.propShield+=t;break;case"Role":r.rolesOwned.add(n);break;case"Tail":r.tailsOwned.add(n)}o.save()},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Role.ts",["cc","./Buff.ts","./CurrentMax.ts"],(function(i){var t,n,e,s;return{setters:[function(i){t=i.cclegacy,n=i.Vec3},function(i){e=i.BuffCom},function(i){s=i.CurrentMax}],execute:function(){t._RF.push({},"b7fb6vdPIJBL5z73BhZUhrT","Role",void 0);i("Role",(function(){this.id=null,this.cfg=null,this.playerInfo=new a,this.view=new u,this.boundingShape=new o,this.move=new l,this.path=new d,this.tail=new w,this.life=new h,this.eat=new r,this.stat=new v,this.ai=null,this.buff=new e,this.turn=new f,this.face=new p}));var o=i("BoundingShape",function(){function i(){this.circleRadius=0,this.circleDia=0}return i.prototype.setCircleRadius=function(i){this.circleRadius=i,this.circleDia=2*i},i}()),h=(i("Attribute",(function(){})),i("ComLife",(function(){this.isAlive=!0}))),r=function(){this.radius=0,this.score=0},a=i("PlayerInfo",(function(){this.id=void 0,this.nickname=void 0})),u=i("RoleView",(function(){this.root=void 0,this.main=void 0,this.shadow=void 0,this.arrow=void 0,this.anim=void 0,this.animCtrl=null,this.eatCollider=null,this.parts=new Array,this.followed=null,this.effectRun=new Array,this.shield=null,this.attract=new Array})),l=i("ComMove",(function(){this.enabled=!1,this.moveType=c.Walk,this.speed=void 0,this.direction=new n,this.offset=new n})),c=i("RoleMoveType",function(i){return i[i.Walk=0]="Walk",i[i.Run=1]="Run",i}({})),f=i("ComTurn",(function(){this.enabled=!1,this.sensitivity=10,this.dirTarget=new n,this.counter=void 0,this.dirList=new Array})),d=i("ComMovePath",function(){function i(){this.path=new Array,this.lenList=new Array,this.pathLen=0}return i.prototype.clear=function(){this.path.splice(0,this.path.length),this.lenList.splice(0,this.lenList.length),this.pathLen=0},i}()),w=i("ComTail",(function(){this.tailId=void 0,this.spacing=void 0,this.tails=new Array})),v=i("ComStat",(function(){this.score=0,this.killCount=0,this.moneyVal=0,this.moneyCount=0,this.foodCount=0})),p=i("ComFace",(function(){this.cd=new s}));t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleAnim.ts",["cc","./Role.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.RoleMoveType}],execute:function(){e._RF.push({},"f82ab7+pb5Bfa3d+x5wM20w","RoleAnim",void 0);n("RoleAnim",function(){function n(){}return n.idle=function(n){this.play(n,"Idle")},n.move=function(e){e.move.moveType==t.Walk?n.walk(e):n.run(e)},n.updateMoveAnimSpeed=function(n){},n.walk=function(n){this.play(n,"Walk")},n.run=function(n){this.play(n,"Run")},n.play=function(n,e){n.view.animCtrl.setValue(e,!0)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleBooth.ts",["cc","./RoleFactory.ts","./ResMgrRole.ts"],(function(t){var o,i,e,n,r,s;return{setters:[function(t){o=t.cclegacy,i=t.find,e=t.Vec3,n=t.instantiate},function(t){r=t.RoleFactory},function(t){s=t.ResMgrRole}],execute:function(){o._RF.push({},"d4154VdaupLKbEQRku4w3L8","RoleBooth",void 0);var l=t("RoleBooth",function(){function t(){this.root=void 0,this.role=void 0,this.tailPosList=void 0,this.tailId=void 0}return t.prototype.init=function(){this.root=i("RoleBooth"),this.tailPosList=this.root.getChildByPath("TailPos")},t}());l.ins=null;t("RoleBoothOp",function(){function t(){}return t.show=function(t){var o=l.ins;null!=o.role&&o.role.view.root.destroy();var i=r.create(t);o.role=i,i.view.root.position=e.ZERO,i.view.root.setParent(l.ins.root)},t.showTail=function(t){for(var o=l.ins,i=0;i<o.tailPosList.children.length;++i){o.tailPosList.children[i].removeAllChildren()}for(var r=s.ins.tail.getChildByPath(t).children,a=0;a<o.tailPosList.children.length;++a){var h=o.tailPosList.children[a],c=r[a%r.length],u=n(c);u.setParent(h,!1),u.position=e.ZERO}o.tailId=t},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCollisionTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr.ts"],(function(t){var e,n,i;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){i=t.RoleMgr}],execute:function(){n._RF.push({},"f02daYtEJFHaKhsh63btCa9","RoleCollisionTest",void 0);t("RoleCollisionTest",function(){function t(){}return t.testRole=function(t,e,n){var i=t.view.root.position,o=t.boundingShape.circleRadius;return i.clone().subtract(e).lengthSqr()<=o*o+n*n},t.testTail=function(t,e,n){for(var i=.8*.8+n*n,o=t.view.parts,r=1;r<o.length;++r){var l=o[r].position;if(e.clone().subtract(l).lengthSqr()<=i)return!0}return!1},t.testDistance=function(t,e){return this.testDistanceCirlce(t.view.root.position,t.boundingShape.circleRadius,e,.3*t.boundingShape.circleRadius,t)},t.testDistanceCirlce=function(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=null),t=t.clone();var r=n.clone().subtract(t),l=e,s=(r.length()+i)/(2*l);r.normalize(),r.multiply3f(l,l,l);for(var u=1;u<=s;++u){if(t.add(r),null!=this.testRoles(t,l,o))return!0}return null!=this.testRoles(n,l,o)},t.testRoles=function(t,n,o){void 0===o&&(o=null);for(var r,l=e(i.ins.all);!(r=l()).done;){var s=r.value;if(s!=o){if(1==this.testRole(s,t,n))return s;if(1==this.testTail(s,t,n))return s}}return null},t.findRoleRange=function(t,e,n){void 0===n&&(n=null);for(var o=e*e,r=0;r<i.ins.all.length;++r){var l=i.ins.all[r];if(0!=l.life.isAlive&&l!=n)if(l.view.root.position.clone().subtract(t).lengthSqr()<o)return l}return null},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleCollistionHandle.ts",["cc","./VectorCalc.ts","./UiKillPrompt.ts","./ShakeWorld.ts","./RoleMgr.ts","./Sound.ts","./UiEventNotification.ts","./UiRanking2.ts","./UiEvaluate.ts","./Vibrate.ts","./RoleStatHelper.ts","./GameParam.ts"],(function(i){var t,n,e,o,l,s,a,c,r,u,f,h,v,d;return{setters:[function(i){t=i.cclegacy,n=i.math},function(i){e=i.VectorCalc},function(i){o=i.UiKillPrompt},function(i){l=i.ShakeWorld},function(i){s=i.RoleMgr},function(i){a=i.Sound},function(i){c=i.UiEventNotification},function(i){r=i.UiRanking},function(i){u=i.UiEvaluate},function(i){f=i.Vibrate},function(i){h=i.RoleStatHelper},function(i){v=i.GameParam,d=i.GameMode}],execute:function(){t._RF.push({},"bb1a7I8DgxCWIyyavKIaWvo","RoleCollistionHandle",void 0);i("RoleCollistionHandle",function(){function i(){}return i.headAndHead=function(i,t){var n=this.testView(i,t),e=this.testView(t,i);1!=n||0!=e?0!=n||1!=e?i.stat.score>t.stat.score?this.kill(i,t):i.stat.score<t.stat.score?this.kill(t,i):(this.kill(t,i),this.kill(i,t)):this.kill(i,t):this.kill(t,i)},i.kill=function(i,t){if(0!=t.life.isAlive){if(t.life.isAlive=!1,h.roleKillCountAdd(i),i==s.ins.local)f.ins.exe(2),a.ins.kill(),t.stat.score<t.stat.score?u.ins.showKillBigger():u.ins.showKillX(i.stat.killCount),0==r.ins.roles.indexOf(t)&&c.ins.showKillTopOne();else t==s.ins.local&&(a.ins.collideTail(),l.localDie(t));if(v.ins.mode==d.survival){var n=o.ins;n.nickname1.string=i.playerInfo.nickname,n.nickname2.string=t.playerInfo.nickname,n.show()}}},i.testView=function(i,t){var o=i.move.direction,l=t.view.root.position.clone().subtract(i.view.root.position),s=e.angle(o.x,o.z,l.x,l.z),a=n.toDegree(s);return Math.abs(a)<45},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleDie.ts",["cc","./CfgFood.ts","./UiRevive.ts","./Food.ts","./WorldNode.ts","./RoleMgr.ts","./ResMgr2.ts","./Sound.ts","./GameMapRndPos.ts","./RoleMove.ts","./BuffRemove.ts","./EffectFactory.ts","./TimeLimitedMode.ts","./Settle.ts","./Vibrate.ts","./PartitionCollisionMgr.ts","./MoneyGen.ts","./UiMain.ts","./GameParam.ts","./RoleShow.ts"],(function(e){var o,t,n,i,s,r,a,l,c,f,u,d,v,h,p,R,g,w,m,M,y,F,S,P,x,B,C;return{setters:[function(e){o=e.cclegacy,t=e.tween,n=e.randomRangeInt,i=e.Vec3,s=e.instantiate,r=e.ParticleSystem},function(e){a=e.CfgFood},function(e){l=e.UiRevive},function(e){c=e.FoodFactory,f=e.FoodMgr},function(e){u=e.WorldNode},function(e){d=e.RoleMgr},function(e){v=e.ResMgr},function(e){h=e.Sound},function(e){p=e.GameMapRndPos},function(e){R=e.RoleMove},function(e){g=e.BuffRemove},function(e){w=e.EffectMaker},function(e){m=e.TimeLimitedModeCountdownTimer},function(e){M=e.Settle},function(e){y=e.Vibrate},function(e){F=e.PartitionCollisionMgr},function(e){S=e.MoneyGen},function(e){P=e.UiMain},function(e){x=e.GameParam,B=e.GameMode},function(e){C=e.RoleShow}],execute:function(){o._RF.push({},"72c92zKj71HQZ0sVo9uzdAw","RoleDie",void 0);e("RoleDie",function(){function e(){}return e.exe=function(e){1!=e.life.isAlive&&(this.drop(e),this.showDieEffect(e),e!=d.ins.local?this.nonlocal(e):this.local(e))},e.local=function(e){y.ins.exe(4),C.hide(e),this.clearAllBuffs(e),t(P.ins.root).delay(2).call((function(){if(h.ins.lose(),x.ins.mode==B.survival)M.exe();else{var e=m.ins;null==e||e.getLeft()>10?l.createIns():M.exe()}})).start()},e.nonlocal=function(e){if(C.hide(e),this.clearAllBuffs(e),x.ins.mode!=B.survival){var o=n(5,10);o=n(10,15),t(u.ins.root).delay(o).call((function(){G.exe(e)})).start()}else this.destroy(e)},e.drop=function(e){var o=e.view.root.position,s=S.genOne();s.MoneyVal=10,s.view.root.position=o;for(var r=this.rndFood(),a=n(100,200),l=1;l<e.view.parts.length;++l){var d=e.view.parts[l].position,v=c.create(r);f.data.push(v),v.view.root.setParent(u.ins.entity,!1),v.view.root.position=d,v.score=a,F.ins.addFood(v);var h=v.view.root;h.scale=new i(.2,0,.2),t(h).to(.3,{scale:i.ONE}).start()}},e.rndFood=function(){return a.drop[n(0,a.drop.length)].id},e.showDieEffect=function(e){var o=v.ins.effect.getChildByPath("DieSmoke001"),n=s(o),i=n.getComponent(r);n.setParent(u.ins.entity,!1);var a=e.view.root.position.clone();a.y=.1,n.position=a,t(n).delay(i.duration+2).destroySelf().start()},e.clearAllBuffs=function(e){for(var o=e.buff.buffs.length-1;o>=0;--o)g.exeIdx(e,o)},e.destroy=function(e){for(var o,t=0;t<e.view.parts.length;++t){e.view.parts[t].destroy()}null==(o=e.view.followed.root)||o.destroy()},e}());var G=e("RoleRevive",function(){function e(){}return e.exe=function(e){e==d.ins.local&&h.ins.revive();var o=p.get2(10,5*e.boundingShape.circleRadius);null==o&&(o=i.ZERO);for(var t=0;t<e.view.parts.length;++t){e.view.parts[t].position=o}e.path.clear(),C.show(e),d.ins.all.push(e),e.life.isAlive=!0,e.move.enabled=!0,R.setModeWalk(e),null!=e.ai&&(e.ai.state=0),w.roleBorn(e)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleEat.ts",["cc","./CfgRoleGrowth.ts","./RoleTailAdd.ts","./RoleStatHelper.ts","./Food.ts","./Sound.ts","./RoleMgr.ts"],(function(t){var e,o,n,r,i,a,c,s,l;return{setters:[function(t){e=t.cclegacy,o=t.tween,n=t.Vec3},function(t){r=t.CfgRoleGrowth},function(t){i=t.RoleTailAdd},function(t){a=t.RoleStatHelper},function(t){c=t.FoodMgr},function(t){s=t.Sound},function(t){l=t.RoleMgr}],execute:function(){e._RF.push({},"9c02ffZC/RGBrhbWIf8iugV","RoleEat",void 0);t("RoleEat",function(){function t(){}return t.eatFood=function(t,e){var r=this;c.data.splice(c.data.indexOf(e),1),e.view.root.setParent(t.view.root,!0),o(e.view.root).to(.2,{position:n.ZERO}).call((function(){e.view.root.destroy(),r.playSound(t,e)})).start(),o(e.view.root).to(.18,{scale:new n(.3,.3,.3)}).start(),t.stat.foodCount++,t.eat.score+=e.score,a.roleScoreAdd(t,e.score),this.tailIncrease(t)},t.playSound=function(t,e){t==l.ins.local&&(1!=("001"==e.id||"002"==e.id||"003"==e.id||"004"==e.id||"005"==e.id||!1)&&s.ins.eatFood())},t.tailIncrease=function(t){var e=this.getCurrentCfg(t);if(null!=e){var o=e.score;t.eat.score<o||(t.eat.score=o-t.eat.score,i.add(t,1),this.tailIncrease(t))}},t.getCurrentCfg=function(t){for(var e=t.view.parts.length-1,o=null,n=0;n<r.data.length;++n){var i=r.data[n];if(i.len<=e&&e<=i.len2){o=i;break}}return o},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFace.ts",["cc","./ResMgr2.ts","./UiRoleFollowed.ts","./TextureOriginalRatioSprite.ts","./Follow.ts"],(function(e){var t,n,o,i,r,c,a,s,u,l,f,d;return{setters:[function(e){t=e.cclegacy,n=e.tween,o=e.Vec3,i=e.Vec2,r=e.instantiate,c=e.UITransform,a=e.Size,s=e.Sprite},function(e){u=e.ResMgr},function(e){l=e.UiRoleFollowedLayer},function(e){f=e.TextureOriginalRatioSprite},function(e){d=e.FollowSys}],execute:function(){t._RF.push({},"b46f7wBIBVD1JpRYyYtXs2G","RoleFace",void 0);e("RoleFace",function(){function e(){}return e.face=function(e,t,r){if(void 0===r&&(r=3),!(e.face.cd.current>0)){e.face.cd.setCurrentAsMax();var c=this.createFace(t);n(c).delay(r).destroySelf().start(),d.ins.add(c,e.view.root,new o(0,3,0),new i(0,30))}},e.createFace=function(e){var t=u.ins.ui.getChildByPath("Face").getChildByPath(e),n=r(t);n.setParent(l.ins.root);var o=n.getComponent(c);o.anchorY=0,o.setContentSize(new a(80,80));var i=n.getComponent(s);return f.exe(i),n},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory.ts",["cc","./Role.ts","./UiRoleFollowed.ts","./CfgRole.ts","./Fps.ts","./ResMgrRole.ts","./EngineCollision.ts"],(function(e){var i,n,t,o,a,r,c,l,s,u,d;return{setters:[function(e){i=e.cclegacy,n=e.instantiate,t=e.SkeletalAnimation,o=e.animation,a=e.director},function(e){r=e.Role},function(e){c=e.UiRoleFollowed},function(e){l=e.CfgRole},function(e){s=e.Fps},function(e){u=e.ResMgrRole},function(e){d=e.EngineCollision}],execute:function(){i._RF.push({},"e93966QnJtERo+qXkO5cdVG","RoleFactory",void 0);e("RoleFactory",function(){function e(){}return e.create=function(e){var i=new r;return i.id=e,this.view(i),this.cfg(i),d.setRole(i),i},e.view=function(e){var i=u.ins.role.getChildByPath(e.id),r=n(i);e.view.root=r,e.view.main=r.getChildByPath("Main"),e.view.shadow=r.getChildByPath("Shadow"),e.view.anim=e.view.main.getComponentInChildren(t),e.view.animCtrl=e.view.main.getComponentInChildren(o.AnimationController),e.view.parts.push(r),"Game"==a.getScene().name&&(e.view.followed=c.create())},e.cfg=function(e){var i=e.id,n=l.data.get(i);e.cfg=n,e.turn.dirTarget.z=1,e.turn.sensitivity=n.TurnSensitivity+4,e.move.direction.z=1,e.move.speed=n.WalkSpeed,e.eat.radius=n.EatRadius,e.boundingShape.setCircleRadius(n.BoundingShapeCircleRadius),e.face.cd.max=s.secondToFrame(4)},e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WorldNode.ts","./RoleTailAdd.ts","./RoleMgr.ts","./RoleFactory.ts","./UiMinimap.ts","./RoleMove.ts","./RoleAnim.ts","./GameMapRndPos.ts","./UiRanking2.ts","./GameParam.ts","./Account.ts","./EffectFactory.ts","./DirTable.ts","./RoleGenNpc.ts","./ResMgrRole.ts","./RoleShow.ts"],(function(n){var e,o,t,i,a,r,c,s,l,u,d,f,R,p,m,v,g,h,M,w,A;return{setters:[function(n){e=n.createForOfIteratorHelperLoose},function(n){o=n.cclegacy,t=n.randomRangeInt,i=n.instantiate,a=n.Vec3},function(n){r=n.WorldNode},function(n){c=n.RoleTailAdd},function(n){s=n.RoleMgr},function(n){l=n.RoleFactory},function(n){u=n.UiMinimap},function(n){d=n.RoleMove},function(n){f=n.RoleAnim},function(n){R=n.GameMapRndPos},function(n){p=n.UiRanking},function(n){m=n.GameParam},function(n){v=n.Account},function(n){g=n.EffectMaker},function(n){h=n.DirTable},function(n){M=n.RoleGenNpc},function(n){w=n.ResMgrRole},function(n){A=n.RoleShow}],execute:function(){o._RF.push({},"6d362/AbthJmbetx/r1Nmqe","RoleGen",void 0);n("RoleGen",function(){function n(){}return n.exe=function(){this.createLocal(),M.exe(),u.ins.refresh(),p.ins.initRoles(),p.ins.refresh()},n.createLocal=function(){var n=m.ins.roldId,e=l.create(n);s.ins.local=e,s.ins.all.push(e),A.show(e),this.rndPos(e),f.updateMoveAnimSpeed(e);var o=m.ins.tailId;e.tail.tailId=o,e.tail.spacing=1.5,c.add(e,e.cfg.InitialLen),c.add(e,m.ins.tailAddedLen),e.playerInfo.nickname=v.ins.nickname,e.view.followed.nickname.string=e.playerInfo.nickname,e.move.enabled=!0;var r=h.ins.data,u=r[t(0,r.length)];d.cmdMove(e,u),g.roleBorn(e);var R=w.ins.role.getChildByPath("Arrow"),p=i(R);p.setParent(e.view.root,!1),p.position=a.ZERO,e.view.arrow=p},n.rndPos=function(n){for(var o,t=R.get2(10,4*n.boundingShape.circleRadius),i=e(n.view.parts);!(o=i()).done;){var a=o.value;a.setParent(r.ins.entity,!1),a.position=t}},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGenNpc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgRoleStore.ts","./CfgTailStore.ts","./GameMapRndPos.ts","./WorldNode.ts","./ComAi.ts","./CfgPlayerNickname.ts","./RoleAnim.ts","./RoleMove.ts","./Fps.ts","./RoleTailAdd.ts","./RoleMgr.ts","./RoleFactory.ts","./WeightProbability.ts","./RoleEat.ts","./GameParam.ts","./RoleShow.ts"],(function(e){var a,t,n,i,o,r,s,c,l,d,u,f,h,v,R,p,k,M,g,b,E;return{setters:[function(e){a=e.createForOfIteratorHelperLoose,t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.randomRangeInt},function(e){o=e.CfgRoleStore},function(e){r=e.CfgTailStore},function(e){s=e.GameMapRndPos},function(e){c=e.WorldNode},function(e){l=e.ComAi,d=e.AiMoveMode},function(e){u=e.CfgPlayerNickname},function(e){f=e.RoleAnim},function(e){h=e.RoleMove},function(e){v=e.Fps},function(e){R=e.RoleTailAdd},function(e){p=e.RoleMgr},function(e){k=e.RoleFactory},function(e){M=e.WeightProbability},function(e){g=e.RoleEat},function(e){b=e.GameParam},function(e){E=e.RoleShow}],execute:function(){n._RF.push({},"0180fOwkOtKfIZSQQ3cUNG7","RoleGenNpc",void 0);var m=e("RoleGenNpc",function(){function e(){}return e.exe=function(){this.rndTail=new A,this.rndTail.init(),this.rndRole=new T,this.rndRole.init();var e=this.rndRole.list.indexOf(p.ins.local.id);this.rndRole.list.splice(e,1),e=this.rndTail.list.indexOf(p.ins.local.tail.tailId),this.rndTail.list.splice(e,1),this.createNpcs(),this.rndTail=null,this.rndRole=null},e.createNpcs=function(){for(var e=b.ins.npcCount,a=0;a<e;++a)this.createOne()},e.createOne=function(){var e=this.rndRole.rnd2(),a=k.create(e);p.ins.all.push(a),E.show(a),this.rndPos(a);var t=this.rndTail.rnd2();a.tail.tailId=t,a.tail.spacing=1.5,R.add(a,3),a.ai=new l,a.ai.type=1,a.ai.dirCorrectInterval.max=v.secondToFrame(.5),h.setModeWalk(a),f.updateMoveAnimSpeed(a);var n=i(0,u.data.length),o=u.data[n];a.playerInfo.nickname=o,a.view.followed.nickname.string=o,this.setAi(a);var r=i(0,20);return a.stat.score+=r,a.eat.score+=r,g.tailIncrease(a),a},e.setAi=function(e){var a=new M;a.clear(),a.add("1",10),a.add("2",20),a.add("3",10),a.add("4",10),a.add("5",80),a.add("6",10),a.add("7",10),a.add("8",10);var t=a.get();e.ai;switch(t){case"1":e.ai.attackEnabled=!1,e.ai.eatEnterMoveMode=d.Walk,e.ai.eatDangerMoveMode=d.Walk;break;case"2":e.ai.attackEnabled=!1,e.ai.eatEnterMoveMode=d.Run,e.ai.eatDangerMoveMode=d.WalkToRun,e.ai.CounterWalkToRun.max=v.secondToFrame(1);break;case"3":e.ai.attackEnabled=!1,e.ai.eatEnterMoveMode=d.Run,e.ai.eatDangerMoveMode=d.Run;break;case"4":e.ai.attackEnabled=!1,e.ai.eatEnterMoveMode=d.RndWalkRun,e.ai.eatDangerMoveMode=d.RndWalkRun;break;case"5":e.ai.attackEnabled=!0,e.ai.eatEnterMoveMode=d.Run,e.ai.eatDangerMoveMode=d.WalkToRun,e.ai.CounterWalkToRun.max=v.secondToFrame(1);break;case"6":e.ai.attackEnabled=!0,e.ai.eatEnterMoveMode=d.Run,e.ai.eatDangerMoveMode=d.Run;break;case"7":e.ai.attackEnabled=!0,e.ai.eatEnterMoveMode=d.Walk,e.ai.eatDangerMoveMode=d.Walk;break;case"8":e.ai.attackEnabled=!0,e.ai.eatEnterMoveMode=d.RndWalkRun,e.ai.eatDangerMoveMode=d.RndWalkRun}this.setFace(e)},e.setFace=function(e){var a=new M;switch(a.clear(),a.add("1",30),a.add("2",10),a.add("3",20),a.add("4",10),a.add("5",10),a.add("6",10),a.get()){case"1":break;case"2":e.ai.faceAttackEnter.push("002"),e.ai.faceAttackExit.push("004");break;case"3":e.ai.faceAttackEnter.push("002"),e.ai.faceAttackEnter.push("006"),e.ai.faceAttackEnter.push("008"),e.ai.faceAttackEnter.push("010"),e.ai.faceAttackExit.push("006");break;case"4":e.ai.faceAttackEnter.push("008");break;case"5":e.ai.faceDanger.push("007"),e.ai.faceDanger.push("009");break;case"6":e.ai.faceDanger.push("003"),e.ai.faceDanger.push("006")}},e.rndPos=function(e){for(var t,n=s.get2(10,4*e.boundingShape.circleRadius),i=a(e.view.parts);!(t=i()).done;){var o=t.value;o.setParent(c.ins.entity,!1),o.position=n}},e}());m.rndTail=void 0,m.rndRole=void 0;var A=function(){function e(){this.list=new Array}var t=e.prototype;return t.init=function(){for(var e,t=a(r.data);!(e=t()).done;){var n=e.value;this.list.push(n.id)}},t.rnd=function(){return this.list[i(0,this.list.length)]},t.rnd2=function(){0==this.list.length&&this.init();var e=i(0,this.list.length),a=this.list[e];return this.list.splice(e,1),a},e}(),T=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.init=function(){for(var e,t=a(o.data);!(e=t()).done;){var n=e.value;this.list.push(n.id)}},n}(A);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleGetArticle.ts",["cc","./Sound.ts","./Article.ts","./BuffAdd.ts","./ScoreShow.ts","./RoleMgr.ts","./Vibrate.ts"],(function(t){var e,n,o,i,c,r,s,a,l;return{setters:[function(t){e=t.cclegacy,n=t.tween,o=t.Vec3},function(t){i=t.Sound},function(t){c=t.ArticleMgr},function(t){r=t.BuffAdd},function(t){s=t.ScoreShow},function(t){a=t.RoleMgr},function(t){l=t.Vibrate}],execute:function(){e._RF.push({},"d339clb4HxN9okgtnqfPMwa","RoleGetArticle",void 0);t("RoleGetArticle",function(){function t(){}return t.get=function(t,e){var u=c.data,f=u.indexOf(e);u.splice(f,1);var d=e.view.root;d.setParent(t.view.root,!0),n(d).to(.2,{position:o.ZERO}).call((function(){d.destroy()})).start(),n(d).to(.18,{scale:new o(.3,.3,.3)}).start();var v=e.id;if("Coin"==v){var g=Number(e.MoneyVal);t.stat.moneyVal+=g,t.stat.moneyCount++,t==a.ins.local&&(i.ins.getMoney(),s.showMoney(g),l.ins.exe(1))}else r.add(t,v),t==a.ins.local&&(i.ins.eatArticle(),l.ins.exe(1))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMgr.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var r;e._RF.push({},"80d07cxkAtPJIjh/kLlRNtb","RoleMgr",void 0);var c=t("RoleMgr",(function(){this.local=void 0,this.all=new Array}));r=c,c.ins=new r,e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Role.ts","./RoleTailArrange.ts","./RoleAnim.ts","./ResMgr2.ts","./RoleTurn.ts"],(function(e){var t,n,o,i,f,a,r,l,c,s;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,o=e.Vec3,i=e.instantiate,f=e.ParticleSystem},function(e){a=e.RoleMoveType},function(e){r=e.RoleTailArrange},function(e){l=e.RoleAnim},function(e){c=e.ResMgr},function(e){s=e.RoleTurn}],execute:function(){n._RF.push({},"b96d9l0hPlCjZwTIXCfKP+B","RoleMove",void 0);e("RoleMove",function(){function e(){}return e.cmdMoveTransition=function(e,t){e.move.enabled=!0,s.calc(e,t)},e.cmdMove=function(e,t){o.normalize(e.move.direction,t),this.updateOffset(e),l.move(e),this.rotation(e)},e.cmdStop=function(e){e.move.enabled=!1,l.idle(e)},e.setModeWalk=function(e){e.move.moveType=a.Walk,e.move.speed=e.cfg.WalkSpeed,this.updateOffset(e),u.hideRunEffect(e),l.move(e)},e.setModeRun=function(e){e.move.moveType=a.Run,e.move.speed=e.cfg.RunSpeed,this.updateOffset(e),u.showRunEffect(e),l.move(e)},e.exe=function(e){var t=e.move;if(0!=t.enabled){var n=e.view.root.position.add(t.offset);e.view.root.position=n,v.exe(e),r.exe(e)}},e.updateOffset=function(e){var t=e.move;o.multiplyScalar(t.offset,t.direction,t.speed)},e.rotation=function(e){var t=e.move.direction,n=180*Math.atan2(t.x,t.z)/Math.PI,i=new o(0,n,0);e.view.main.eulerAngles=i},e}());var u=e("RoleMoveEffect",function(){function e(){}return e.showRunEffect=function(e){if(0==e.view.effectRun.length)for(var n=1;n<=3;++n){var a="RunSmoke00"+n,r=c.ins.effect.getChildByPath(a),l=i(r),s=l.getComponent(f);e.view.effectRun.push(s),l.setParent(e.view.root,!1),l.position=new o(0,.3,0)}for(var u,v=t(e.view.effectRun);!(u=v()).done;){var p=u.value;p.node.active=!0,p.play()}},e.hideRunEffect=function(e){for(var n,o=t(e.view.effectRun);!(n=o()).done;){n.value.stopEmitting()}},e}()),v=function(){function e(){}return e.exe=function(e){var t=e.move,n=e.path,o=e.view.root.position.clone();n.path.unshift(o),n.lenList.unshift(Math.floor(1e3*t.speed)),n.pathLen+=Math.floor(1e3*t.speed);var i=e.tail.spacing*(e.view.parts.length-1);i=Math.floor(1e3*i),this.cut2(e,i)},e.cut2=function(e,t){for(var n=e.path,o=-1,i=n.pathLen,f=n.lenList.length-1;f>=0;--f)if((i-=n.lenList[f])<=t){o=f;break}if(-1!=o){for(var a=o+=2;a<n.lenList.length;++a)n.pathLen-=n.lenList[a];var r=n.lenList.length-o;n.lenList.splice(o,r),n.path.splice(o,r)}},e.cut1=function(e,t){for(var n=e.path,o=-1,i=0,f=0;f<n.lenList.length;++f)if((i+=Math.floor(1e3*n.lenList[f]))>t){o=f;break}if(-1!=o){o+=1;var a=n.lenList.length-o;n.lenList.splice(o,a),n.path.splice(o,a)}},e.cut0=function(e){var t=e.path;t.path.length>2e3&&(t.path.pop(),t.lenList.pop())},e}();n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Follow.ts","./WorldNode.ts"],(function(o){var e,t,i,n,r;return{setters:[function(o){e=o.createForOfIteratorHelperLoose},function(o){t=o.cclegacy,i=o.Vec3},function(o){n=o.FollowSys},function(o){r=o.WorldNode}],execute:function(){t._RF.push({},"f5398IhdzxMD7Pz7j5ECPoA","RoleShow",void 0);o("RoleShow",function(){function o(){}return o.show=function(o){for(var t,l=e(o.view.parts);!(t=l()).done;){t.value.setParent(r.ins.entity,!1)}this.setActive(o,!0),n.ins.remove(o.view.followed.root),n.ins.add(o.view.followed.root,o.view.root,new i(0,3))},o.hide=function(o){this.setActive(o,!1),n.ins.remove(o.view.followed.root)},o.setActive=function(o,e){void 0===e&&(e=!0);for(var t=0;t<o.view.parts.length;++t){o.view.parts[t].active=e}o.view.followed.root.active=e},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/RoleStatHelper.ts",["cc","./UiLocalState.ts","./Ability.ts","./RoleMgr.ts","./ScoreShow.ts"],(function(t){var e,o,n,i,c;return{setters:[function(t){e=t.cclegacy},function(t){o=t.UiLocalState},function(t){n=t.AbilityType},function(t){i=t.RoleMgr},function(t){c=t.ScoreShow}],execute:function(){e._RF.push({},"8dd7dzD3y9H/YDy1tKZYA9M","RoleStatHelper",void 0);t("RoleStatHelper",function(){function t(){}return t.roleScoreAdd=function(t,e){var l=null!=t.buff.buffs.find((function(t){return t.ability==n.ScoreAdd}));1==l&&(e*=2),t.stat.score+=e,t==i.ins.local&&(o.ins.refreshScore(),0==l?c.showGet1(e):c.showGet2(e))},t.roleKillCountAdd=function(t,e){void 0===e&&(e=1),t.stat.killCount+=e,t==i.ins.local&&o.ins.refreshKillCount()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RoleSys.ts",["cc","./RoleMgr.ts","./RoleMove.ts","./RoleDie.ts","./BuffSys.ts","./Sound.ts","./Fps.ts","./GameMapCollisionTest.ts","./RoleTurn.ts","./CounterDecrease.ts","./ShakeWorld.ts"],(function(e){var n,t,o,i,u,c,s,r,l,a,f;return{setters:[function(e){n=e.cclegacy},function(e){t=e.RoleMgr},function(e){o=e.RoleMove},function(e){i=e.RoleDie},function(e){u=e.BuffSys},function(e){c=e.Sound},function(e){s=e.Fps},function(e){r=e.GameMapCollisionTest},function(e){l=e.RoleTurn},function(e){a=e.CounterDecrease},function(e){f=e.ShakeWorld}],execute:function(){n._RF.push({},"919d6+MEwFCdqJCMVagJR2E","RoleSys",void 0);e("RoleSys",function(){function e(){}return e.update=function(){d.update();for(var e=t.ins.all,n=e.length-1;n>=0;--n){var c=e[n];0!=c.life.isAlive?(l.update(c),o.exe(c),u.updateRole(c),c.face.cd.current=a.untilZero(c.face.cd.current)):(i.exe(c),e.splice(n,1))}},e}());var d=function(){function e(){}return e.update=function(){if(this.counter--,!(this.counter>0)){this.counter=s.secondToFrame(.1);for(var e=t.ins.all,n=e.length-1;n>=0;--n){var o=e[n];this.checkOutside(o)}}},e.checkOutside=function(e){var n=e.view.root.position;if(1==r.testCircle(n,e.boundingShape.circleRadius))return e.life.isAlive=!1,e==t.ins.local&&c.ins.collideBorder(),void f.localDie(e)},e}();d.counter=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTailAdd.ts",["cc","./ResMgrRole.ts","./EngineCollision.ts","./Tail.ts"],(function(t){var i,e,n,o,a,l;return{setters:[function(t){i=t.cclegacy,e=t.Vec3,n=t.tween},function(t){o=t.ResMgrRole},function(t){a=t.EngineCollision},function(t){l=t.TailFactory}],execute:function(){i._RF.push({},"5ffa9Mjj8REoZUAR9eYS/LH","RoleTailAdd",void 0);t("RoleTailAdd",function(){function t(){}return t.addOne=function(t){var i=o.ins.tail.getChildByPath(t.tail.tailId).children.length,s=t.view.parts.length%i,r=l.create(t.tail.tailId,s),c=r.view.root;if(c.parent=t.view.root.parent,0==t.view.parts.length)c.position=t.view.root.position;else{var u=t.view.parts[t.view.parts.length-1];c.position=u.position}c.scale=e.ZERO,n(c).to(.2,{scale:e.ONE}).start(),t.view.parts.push(c),t.tail.tails.push(r),a.setTail(t,c)},t.add=function(t,i){for(var e=0;e<i;++e)this.addOne(t)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTailArrange.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.Vec3}],execute:function(){n._RF.push({},"8159eyIgMdAN6tesFHW8uEo","RoleTailArrange",void 0);t("RoleTailArrange",function(){function t(){}return t.exe=function(t){for(var n=t.tail.spacing,e=new a,r=t.view.parts,i=1;i<r.length;++i){var o=r[i],l=Math.floor(n*i*1e3),c=this.getPosOnPath(t.path.path,t.path.lenList,l,e);if(null==c)return;o.position=c,this.rotate(r[i],r[i-1])}},t.rotate=function(t,n){var a=n.position.clone().subtract(t.position),r=180*Math.atan2(a.x,a.z)/Math.PI,i=new e(0,r,0);t.eulerAngles=i},t.getPosOnPath=function(t,n,e,a){for(var r=0,i=0;i<n.length-1;++i){var o=n[i];if((r+=o)>=e){var l=1-(r-e)/o,c=t[i],s=t[i+1].clone().subtract(c);s.multiply3f(l,l,l);var u=c.clone().add(s);return a.idx=i,a.lenTotal=r,u}}},t}());var a=function(){this.idx=1,this.lenTotal=0};n._RF.pop()}}}));

System.register("chunks:///_virtual/RoleTurn.ts",["cc","./VectorCalc.ts","./RoleMove.ts","./DirTable.ts"],(function(e){var t,r,n,a,o,i;return{setters:[function(e){t=e.cclegacy,r=e.Vec3,n=e.math},function(e){a=e.VectorCalc},function(e){o=e.RoleMove},function(e){i=e.DirTable}],execute:function(){t._RF.push({},"cca99bvky5KcoRMn6dD71FS","RoleTurn",void 0);e("RoleTurn",function(){function e(){}return e.calc=function(e,t){r.normalize(e.turn.dirTarget,t);var o=e.move.direction,i=n.toDegree(Math.atan2(o.z,o.x));(i=Math.floor(i))<0&&(i=180- -1*i+180);var c=n.toDegree(a.angle(o.x,o.z,t.x,t.z));c=Math.floor(c),this.getTurnTable(e,i,c,e.turn.sensitivity),e.turn.counter=0,e.turn.enabled=!0},e.getTurnTable=function(e,t,r,n){var a=e.turn.dirList;a.splice(0,a.length);var o=i.ins.data;if(r>0)for(var c=n;c<r;c+=n){var u=t+c;u>=360&&(u%=360);var l=o[u];a.push(l)}else if(r<0)for(var v=Math.abs(r),s=n;s<v;s+=n){var f=t-s;f<0&&(f=o.length+f);var d=o[f];a.push(d)}},e.update=function(e){var t=e.turn;if(0!=t.enabled){if(t.counter>=t.dirList.length)return o.cmdMove(e,t.dirTarget),void(t.enabled=!1);var r=t.dirList[t.counter];o.cmdMove(e,r),t.counter++}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreShow.ts",["cc","./UiMain.ts","./ResMgr2.ts","./CameraLook.ts","./RoleMgr.ts"],(function(t){var o,n,e,i,r,s,c,a,u,h;return{setters:[function(t){o=t.cclegacy,n=t.Vec3,e=t.instantiate,i=t.Label,r=t.UIOpacity,s=t.tween},function(t){c=t.UiMain},function(t){a=t.ResMgr},function(t){u=t.CameraLook},function(t){h=t.RoleMgr}],execute:function(){o._RF.push({},"271e4GTeiBCGKJS3IsxVhhz","ScoreShow",void 0);t("ScoreShow",function(){function t(){}return t.showGet1=function(t){this.showGet(t,"Text/Score1",new n(2,3))},t.showGet2=function(t){this.showGet(t,"Text/Score2",new n(0,4))},t.showMoney=function(t){this.showGet(t,"Text/Money",new n(0,3))},t.showGet=function(t,o,w){var l=e(a.ins.ui.getChildByPath(o)),f=c.ins.root;l.parent=f;var g=l.getComponent(i);null==g&&(g=l.getComponentInChildren(i)),g.string="+"+t.toString();var p=l.getComponent(r),S=h.ins.local.view.root.worldPosition.clone();S.add(w);var y=u.mainCamera.convertToUINode(S,f);l.position=y,s(l).by(.3,{position:new n(0,50)}).union().call((function(){s(p).to(.3,{opacity:0}).start()})).by(.3,{position:new n(0,50)}).destroySelf().start()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenAdapt.ts",["cc","./UiRanking2.ts"],(function(t){var n,e,o,i,u,r;return{setters:[function(t){n=t.cclegacy,e=t.sys,o=t.Widget,i=t.find,u=t.UITransform},function(t){r=t.UiRanking}],execute:function(){n._RF.push({},"67a92fKx/JL0YgnIPRFe+du","ScreenAdapt",void 0);t("ScreenAdapt",function(){function t(){}return t.exe=function(){if(e.platform==e.Platform.WECHAT_GAME){var t=this.wxGetMenuButtonBottomPaddingTop(),n=r.ins.root.getComponent(o);n.top+=t,n.updateAlignment()}else if(e.platform==e.Platform.BYTEDANCE_MINI_GAME){var i=this.ttGetMenuButtonBottomPaddingTop(),u=r.ins.root.getComponent(o);u.top+=i,u.updateAlignment()}},t.wxGetMenuButtonBottomPaddingTop=function(){var t=wx.getMenuButtonBoundingClientRect(),n=wx.getSystemInfoSync(),e=t.bottom/n.screenHeight;return i("Canvas").getComponent(u).contentSize.height*e},t.ttGetMenuButtonBottomPaddingTop=function(){var t=tt.getMenuButtonBoundingClientRect(),n=tt.getSystemInfoSync(),e=t.bottom/n.screenHeight;return i("Canvas").getComponent(u).contentSize.height*e},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenAdaptResolutionPolicy.ts",["cc"],(function(e){var t,i,o,n;return{setters:[function(e){t=e.cclegacy,i=e.screen,o=e.view,n=e.ResolutionPolicy}],execute:function(){t._RF.push({},"65bfdtkcapCxYLJOv62gkiq","ScreenAdaptResolutionPolicy",void 0);e("ScreenAdaptResolutionPolicy",function(){function e(){}return e.exeRatio=function(e){void 0===e&&(e=.5625);var t=i.resolution;e>=t.width/t.height?o.setResolutionPolicy(n.FIXED_WIDTH):o.setResolutionPolicy(n.FIXED_HEIGHT)},e.exeDesignResolution=function(){var e=o.getDesignResolutionSize();this.exeRatio(e.width/e.height)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Settle.ts",["cc","./Account.ts","./StatToday.ts","./RankingUpload.ts","./GameUpdate.ts","./UiRevive.ts","./UiSettle.ts","./RoleMgr.ts","./TimeLimitedMode.ts"],(function(t){var e,n,o,i,c,s,a,u,r,l;return{setters:[function(t){e=t.cclegacy},function(t){n=t.AccountPersist,o=t.Account},function(t){i=t.StatTodayUpdate},function(t){c=t.RankingUpload},function(t){s=t.GameUpdate},function(t){a=t.UiRevive},function(t){u=t.UiSettle},function(t){r=t.RoleMgr},function(t){l=t.TimeLimitedModeCountdownTimer}],execute:function(){e._RF.push({},"2da3fYzEwlFS5pnedBy6QJl","Settle",void 0);t("Settle",function(){function t(){}return t.exe=function(){var t;s.stop(),null==(t=l.ins)||t.stop(),a.destroyIns(),u.create();var e=o.ins,d=r.ins.local;e.scoreBest<d.eat.score&&(e.scoreBest=d.eat.score),e.money+=d.stat.moneyVal,n.save(),i.update(),c.upload()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Shake.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,u,r;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,u=e.tween,r=e.Vec3}],execute:function(){t._RF.push({},"dd401Bq5UlPaJhJttDOC+7v","Shake",void 0);e("Shake",function(){function e(){}return e.exePreset=function(e,t,u){void 0===u&&(u=1);for(var r,s=this.genData(t),o=n(s);!(r=o()).done;){var a=r.value[0];a.multiply3f(u,u,u),a.add(e.position)}this.exe(e,s)},e.exe=function(e,n){for(var t=u(e),r=0;r<n.length;++r){var s=n[r],o=s[0],a=s[1],h=u(e).to(a,{position:o});t.then(h)}t.start()},e.genData=function(e){var n=null;return"1"==e?((n=new Array).push([new r(10,-10),.1]),n.push([new r(0,0),.05])):"2"==e?((n=new Array).push([new r(6,10),.1]),n.push([new r(10,-7),.1]),n.push([new r(-5,-4),.05]),n.push([new r(5,5),.05]),n.push([new r(0,0),.05])):"3"==e&&((n=new Array).push([new r(10,1),.05]),n.push([new r(-9,-7),.1]),n.push([new r(13,5),.05]),n.push([new r(2,-7),.05]),n.push([new r(9,-1),.05]),n.push([new r(5,1),.05]),n.push([new r(0,0),.05])),n},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeWorld.ts",["cc","./RoleMgr.ts","./CameraLook.ts","./WorldNode.ts","./Shake.ts"],(function(t){var e,o,n,r,c,a;return{setters:[function(t){e=t.cclegacy,o=t.tween},function(t){n=t.RoleMgr},function(t){r=t.CameraLook},function(t){c=t.WorldNode},function(t){a=t.Shake}],execute:function(){e._RF.push({},"3cae2ZJ399GPLJpK2YcBW4r","ShakeWorld",void 0);t("ShakeWorld",function(){function t(){}return t.localDie=function(t){if(t==n.ins.local){var e=r.target;r.target=null,a.exePreset(c.ins.root,"3",.04),o(e).delay(2).call((function(){r.target=e})).start()}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Share.ts",["cc","./ShareWx.ts","./ShareTt.ts"],(function(e){var t,r,n,c;return{setters:[function(e){t=e.cclegacy,r=e.sys},function(e){n=e.ShareWx},function(e){c=e.ShareTt}],execute:function(){t._RF.push({},"ce41bUvkLtGR4+Crm4nv8qE","Share",void 0);e("Share",function(){function e(){}return e.exe=function(){switch(r.platform){case r.Platform.WECHAT_GAME:n.exe();break;case r.Platform.BYTEDANCE_MINI_GAME:c.exe()}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShareTt.ts",["cc"],(function(e){var t,n,c;return{setters:[function(e){t=e.cclegacy,n=e.sys,c=e.randomRangeInt}],execute:function(){t._RF.push({},"be88c1cFv1MW4F3pvHeC1JJ","ShareTt",void 0);e("ShareTt",function(){function e(){}return e.exe=function(){if(n.platform==n.Platform.BYTEDANCE_MINI_GAME){var e=["好友邀请你挑战蛇王，战还是逃？","好友竞技，实时竞技！","谁才是万里长蛇！"],t=e[c(0,e.length)];tt.shareAppMessage({title:"拖尾乱斗",desc:t,templateId:"44qep180f943odvkmp",query:"",success:function(){console.log("分享成功")},fail:function(e){console.log("分享失败")}})}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ShareWx.ts",["cc"],(function(e){var t,a,i;return{setters:[function(e){t=e.cclegacy,a=e.sys,i=e.randomRangeInt}],execute:function(){t._RF.push({},"401adNsBj1KU7MWq9bt9J24","ShareWx",void 0);e("ShareWx",function(){function e(){}return e.exe=function(){if(a.platform==a.Platform.WECHAT_GAME){var e=["好友邀请你挑战蛇王，战还是逃？","好友竞技，实时竞技！","谁才是万里长蛇！"],t=e[i(0,e.length)],r=[{id:"2N1C5UmjSJKV+7uV1ZZI7g==",url:"https://mmocgame.qpic.cn/wechatgame/h4yBgCVBtJpuoib06ibObVIPia2SHicPqbib3bz3a5sbHwian8sc6qh7rrpwQibgINzhKaf/0"}],n=r[i(0,r.length)],c=n.id,s=n.url;wx.shareAppMessage({title:t,imageUrlId:c,imageUrl:s})}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Shuffle.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"a1d0fWZhoRFvbY8qRtxJMBo","Shuffle",void 0);n("Shuffle",function(){function n(){}return n.shuffleArray=function(n){for(var t=0;t<n.length;++t){var e=this.rangeInt(0,n.length-1),r=n[t];n[t]=n[e],n[e]=r}},n.rangeInt=function(n,t){return Math.floor(Math.random()*(t+1-n))+n},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SocialUserInfo.ts",["cc"],(function(n){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"6454dlq0+FKNYrYgkk16XmA","SocialUserInfo",void 0),n("SocialUserInfo",(function(){this.nickname=null,this.avatarUrl=null})).ins=null,c._RF.pop()}}}));

System.register("chunks:///_virtual/Sound.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound2.ts"],(function(n){var o,i,t;return{setters:[function(n){o=n.inheritsLoose},function(n){i=n.cclegacy},function(n){t=n.Sound}],execute:function(){var u;i._RF.push({},"b42beKwEBZMd5SgdsyfdeUV","Sound",void 0);var e=n("Sound",function(n){function i(){return n.apply(this,arguments)||this}o(i,n);var t=i.prototype;return t.btnClick=function(){this.play("Audio/Sound/btnClick")},t.walk=function(){},t.run=function(){},t.eatFood=function(){this.play("Audio/Sound/吃食物")},t.eatArticle=function(){this.play("Audio/Sound/GetArticle")},t.getMoney=function(){this.play("Audio/Sound/GetMoney")},t.collideTail=function(){this.play("Audio/Sound/弹性碰撞")},t.collideBorder=function(){this.play("Audio/Sound/弹性碰撞")},t.kill=function(){this.play("Audio/Sound/Kill")},t.revive=function(){this.play("Audio/Sound/Revive")},t.lose=function(){this.play("Audio/Sound/游戏失败")},t.win=function(){this.play("Audio/Sound/游戏胜利")},t.countdown=function(){this.play("Audio/Sound/Countdown")},t.enterTop=function(){this.play("Audio/Sound/number1")},t.topOne=function(){this.play("Audio/Sound/number1")},t.killTopOne=function(){this.play("Audio/Sound/number1")},t.settle=function(){this.play("Audio/Sound/游戏胜利")},t.lotteryRotate=function(){this.play("Audio/Home/转盘转动")},t.getReward=function(){this.play("Audio/Home/获得奖励")},i}(t));u=e,e.ins=new u,i._RF.pop()}}}));

System.register("chunks:///_virtual/Sound2.ts",["cc"],(function(o){var n,t,u,e,i;return{setters:[function(o){n=o.cclegacy,t=o.resources,u=o.AudioClip,e=o.Node,i=o.AudioSource}],execute:function(){n._RF.push({},"f1363+aoNhGyY9GBQpL3Lf3","Sound",void 0);o("Sound",function(){function o(){this.enabled=!0,this.audioSrc=null;var o=new e;this.audioSrc=o.addComponent(i)}return o.prototype.play=function(o,n){var e=this;void 0===n&&(n=1),0!=this.enabled&&t.load(o,u,(function(o,t){e.audioSrc.playOneShot(t,n)}))},o}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StatToday.ts",["cc","./DateTimeMgr.ts","./Role.ts","./DateTimeUtil.ts","./RoleMgr.ts"],(function(t){var n,o,e,a,i,l;return{setters:[function(t){n=t.cclegacy,o=t.sys},function(t){e=t.DateTimeMgr},function(t){a=t.ComStat},function(t){i=t.DateTimeUtil},function(t){l=t.RoleMgr}],execute:function(){var s;n._RF.push({},"4c5eelnH4pImY9fLF5OPeNG","StatToday",void 0);var u=t("StatToday",(function(){this.singleMax=new a,this.single=new a,this.total=new a}));s=u,u.ins=new s;t("StatTodayPersist",function(){function t(){}return t.load=function(){var t=o.localStorage.getItem("StatToday");if(null!=t&&""!=t){var n=JSON.parse(t),a=new Date(Date.parse(n.Date));0!=i.dateEquals(a,e.ins.getNowDateTime())&&(null!=n.SingleMax&&(u.ins.singleMax=n.SingleMax),u.ins.total=n.Total)}},t.save=function(){var t={};t.Date=i.toDateString(e.ins.getNowDateTime()),t.SingleMax=u.ins.singleMax,t.Total=u.ins.total;var n=JSON.stringify(t);o.localStorage.setItem("StatToday",n)},t}());t("StatTodayUpdate",function(){function t(){}return t.reset=function(){u.ins.single=new a,this.copy(u.ins.total,this.totalTemp)},t.update=function(){this.updateSingleMax(),this.updateSingle(),this.updateTotal()},t.updateSingleMax=function(){var t=u.ins.singleMax,n=l.ins.local.stat;t.score<n.score&&(t.score=n.score),t.foodCount<n.foodCount&&(t.foodCount=n.foodCount),t.killCount<n.killCount&&(t.killCount=n.killCount),t.moneyCount<n.moneyCount&&(t.moneyCount=n.moneyCount),t.moneyVal<n.moneyVal&&(t.moneyVal=n.moneyVal)},t.updateSingle=function(){this.copy(l.ins.local.stat,u.ins.single)},t.updateTotal=function(){this.add(this.totalTemp,l.ins.local.stat,u.ins.total)},t.copy=function(t,n){n.score=t.score,n.foodCount=t.foodCount,n.killCount=t.killCount,n.moneyCount=t.moneyCount,n.moneyVal=t.moneyVal},t.add=function(t,n,o){o.score=t.score+n.score,o.foodCount=t.foodCount+n.foodCount,o.killCount=t.killCount+n.killCount,o.moneyCount=t.moneyCount+n.moneyCount,o.moneyVal=t.moneyVal+n.moneyVal},t}()).totalTemp=new a,n._RF.pop()}}}));

System.register("chunks:///_virtual/StringMgr.ts",["cc","./LanguageData.ts"],(function(t){var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.t}],execute:function(){n._RF.push({},"56189k1oohB6Jjlc3Ky8z9o","StringMgr",void 0);t("StringMgr",function(){function t(){}return t.get=function(t){return r(t)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"802cbMXox5Bl41ZNmWpnLle","StringUtil",void 0);t("StringUtil",function(){function t(){}return t.fillZero=function(t,n){return(Array(n).join("0")+t).slice(-n)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Tail.ts",["cc","./ResMgrRole.ts"],(function(i){var t,n,e;return{setters:[function(i){t=i.cclegacy,n=i.instantiate},function(i){e=i.ResMgrRole}],execute:function(){t._RF.push({},"b6424XcVTtF/IwV9FHKR6uK","Tail",void 0);var a=i("Tail",(function(){this.view=new o})),o=i("TailView",(function(){this.root=void 0,this.main=void 0,this.shadow=void 0}));i("TailFactory",function(){function i(){}return i.create=function(i,t){var o=new a,c=e.ins.tail.getChildByPath(i).children[t],r=n(c);return o.view.root=r,o.view.main=r.getChildByPath("Main"),o.view.shadow=r.getChildByPath("Shadow"),o},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["cc","./VectorCalc.ts"],(function(e){var t,o,n;return{setters:[function(e){t=e.cclegacy,o=e.Vec3},function(e){n=e.VectorCalc}],execute:function(){t._RF.push({},"1021e4bbfNCjZgXNCPD8UVo","Test",void 0);e("Test",function(){function e(){}return e.exe=function(){},e.test1=function(){var e=new o(1,0,0);new o(1,0,0);console.log(Math.atan2(1,1)/(Math.PI/180)),console.log(Math.atan2(1,-1)/(Math.PI/180));var t=n.angle(e.x,e.y,-1,0);console.log("夹角："+t),t=n.angle(e.x,e.y,1,1),console.log("夹角："+t),t=n.angle(e.x,e.y,1,-1),console.log("夹角："+t);var c=n.rotate(new o(1,0,0),Math.PI/180*90);console.log("向量："+c),c=n.rotate(new o(1,0,0),Math.PI/180*-90),console.log("向量："+c)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Test2.ts",["cc","./RoleMgr.ts","./FoodGen.ts","./Buff.ts","./Ability.ts","./BuffAdd.ts","./Fps.ts"],(function(t){var e,n,i,o,c,a,r,s,l;return{setters:[function(t){e=t.cclegacy,n=t.tween,i=t.Vec3},function(t){o=t.RoleMgr},function(t){c=t.FoodGen},function(t){a=t.Buff},function(t){r=t.AbilityType},function(t){s=t.BuffAdd},function(t){l=t.Fps}],execute:function(){e._RF.push({},"36899SPqxVNk62ZcIfYavrr","Test",void 0);t("Test",function(){function t(){}return t.exe=function(){this.testUI()},t.testUI=function(){n(this).delay(1).call((function(){})).start()},t.test2=function(){var t=c.rndOne(),e=c.rndOne();n(this).sequence(n(this).delay(.001),n(this).call((function(){o.ins.local;var n=new i,c=new i;t.view.root.position=n,e.view.root.position=c,console.log("测试")}))).repeatForever().start()},t.testBuff=function(){var t=o.ins.local;n(this).delay(2).call((function(){var e=new a;e.lifecycle.setCurrentAndMax(l.secondToFrame(50)),e.ability=r.Attract,s.add(t,r.Attract)})).start(),n(this).delay(1).call((function(){var e=new a;e.lifecycle.setCurrentAndMax(l.secondToFrame(50)),e.ability=r.ScoreAdd,s.add(t,r.ScoreAdd)})).start(),n(this).delay(3).call((function(){var e=new a;e.lifecycle.setCurrentAndMax(l.secondToFrame(50)),e.ability=r.LookFar,s.add(t,r.LookFar)})).start(),n(this).delay(3.5).call((function(){var e=new a;e.lifecycle.setCurrentAndMax(l.secondToFrame(50)),e.ability=r.Shield,s.add(t,r.Shield)})).start()},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TextureOriginalRatioSprite.ts",["cc"],(function(t){var e,i;return{setters:[function(t){e=t.cclegacy,i=t.UITransform}],execute:function(){e._RF.push({},"5fe02AD7QdGU4KsVI5EByHB","TextureOriginalRatioSprite",void 0);t("TextureOriginalRatioSprite",function(){function t(){}return t.exe=function(t,e){void 0===e&&(e=null);var n=t.getComponent(i);e=null==e?n.contentSize.clone():e.clone();var r=t.spriteFrame.originalSize,o=r.width/r.height;r.width>r.height?e.height=e.width/o:r.height>r.width&&(e.width=e.height*o),n.setContentSize(e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/TimeLimitedMode.ts",["cc","./UiCountdown.ts","./UiMain.ts","./Settle.ts","./DurationString.ts","./GameParam.ts"],(function(t){var i,e,n,o,r,s,a,u,c,m;return{setters:[function(t){i=t.cclegacy,e=t.game,n=t.tween,o=t.Tween},function(t){r=t.UiCountdown},function(t){s=t.UiMain},function(t){a=t.Settle},function(t){u=t.DurationString},function(t){c=t.GameParam,m=t.GameMode}],execute:function(){i._RF.push({},"3aa83Dud6ZBBqmjWR5yo/1g","TimeLimitedMode",void 0);t("TimeLimitedModeInit",function(){function t(){}return t.exe=function(){c.ins.mode==m.survival?(r.ins.root.destroy(),r.ins=null):(f.ins=new f,f.ins.start())},t}());var f=t("TimeLimitedModeCountdownTimer",function(){function t(){this.timeStart=void 0,this.timeTotal=300,this.tween=void 0}var i=t.prototype;return i.start=function(){var t=this;this.stop(),this.timeStart=e.frameStartTime,this.tick();var i=s.ins.root;this.tween=n(i).sequence(n(i).delay(1),n(i).call((function(){t.tick()}))).repeatForever().start()},i.stop=function(){var t;null==(t=this.tween)||t.stop(),this.tween=null,o.stopAllByTarget(this)},i.tick=function(){var t=this.getLeft(),i=u.secondToString(t);t<0?this.timeout():r.ins.text.string=i},i.getLeft=function(){var t=e.frameStartTime-this.timeStart;return this.timeTotal-Math.round(t/1e3)},i.timeout=function(){this.stop(),a.exe()},t}());f.ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/TtSidebarData.ts",["cc","./DateTimeMgr.ts","./DateTimeUtil.ts"],(function(t){var e,a,i,n;return{setters:[function(t){e=t.cclegacy,a=t.sys},function(t){i=t.DateTimeMgr},function(t){n=t.DateTimeUtil}],execute:function(){var r;e._RF.push({},"993b1ijkBJIDoZ2+VO4rNJy","TtSidebarData",void 0);var s=t("TtSidebarData",(function(){this.flag=!1}));r=s,s.ins=new r;t("TtSidebarDataPersist",function(){function t(){}return t.load=function(){var t=a.localStorage.getItem("TtSidebarReward");if(null!=t&&""!=t){var e=JSON.parse(t),r=new Date(Date.parse(e.Date));0!=n.dateEquals(r,i.ins.getNowDateTime())?s.ins.flag=!0:s.ins.flag=!1}},t.save=function(){var t={};t.Date=n.toDateString(i.ins.getNowDateTime());var e=JSON.stringify(t);a.localStorage.setItem("TtSidebarReward",e)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UiAction.ts",["cc","./RoleMgr.ts","./RoleMove.ts","./UiProp.ts"],(function(t){var o,i,n,e,c,r;return{setters:[function(t){o=t.cclegacy,i=t.Input,n=t.Sprite},function(t){e=t.RoleMgr},function(t){c=t.RoleMove},function(t){r=t.UiProp}],execute:function(){var s;o._RF.push({},"66cc6UBcT9KNosADK4npzYj","UiAction",void 0);var h=t("UiAction",function(){function t(){this.root=void 0,this.accelerate=void 0}return t.prototype.init=function(t){this.root=t,this.accelerate=new a,this.accelerate.init(this.root.getChildByPath("Accelerate")),(new r).init(this.root.getChildByPath("Prop"))},t}());s=h,h.ins=new s;var a=t("UiAccelerate",function(){function t(){this.root=void 0,this.icon=void 0,this.bg2=void 0}var o=t.prototype;return o.init=function(t){this.root=t,this.root.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.root.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.root.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.icon=this.root.getChildByPath("Icon").getComponent(n),this.bg2=this.root.getChildByPath("bg2"),this.bg2.active=!1},o.onTouchStart=function(){this.bg2.active=!0;var t=e.ins.local;c.setModeRun(t)},o.onTouchEnd=function(){this.bg2.active=!1;var t=e.ins.local;c.setModeWalk(t)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UiBuff.ts",["cc","./RoleMgr.ts","./TextureOriginalRatioSprite.ts","./Ability.ts"],(function(t){var e,i,n,r,o,f,s,u,c;return{setters:[function(t){e=t.cclegacy,i=t.tween,n=t.Tween,r=t.instantiate,o=t.Widget,f=t.Sprite},function(t){s=t.RoleMgr},function(t){u=t.TextureOriginalRatioSprite},function(t){c=t.AbilityIcon}],execute:function(){e._RF.push({},"2e18etWsdpChJ/EH1QCA1rr","UiBuff",void 0),t("UiBuff",function(){function t(){this.root=null,this.pfItem=null,this.items=new Array}var e=t.prototype;return e.init=function(t){this.root=t,this.pfItem=this.root.getChildByPath("Item"),this.pfItem.active=!1},e.startAutoRefresh=function(){var t=this;this.stopAutoRefresh(),i(this.root).sequence(i(this.root).delay(.1),i(this.root).call((function(){t.refresh()}))).repeatForever().start()},e.stopAutoRefresh=function(){n.stopAllByTarget(this.root)},e.refresh=function(){var t=this,e=s.ins.local;if(null!=e){this.refreshRemove();for(var i=e.buff.buffs,n=function(){var e=i[r],n=t.items.find((function(t){return t.buff==e}));null==n&&(n=t.add(e)),n.refresh()},r=0;r<i.length;++r)n()}},e.refreshRemove=function(){for(var t=this,e=s.ins.local.buff.buffs,i=function(){var i=t.items[n];if(null!=e.find((function(t){return t==i.buff})))return 1;t.items.splice(n,1),i.root.destroy()},n=this.items.length-1;n>=0;--n)i()},e.add=function(t){var e=this.pfItem.parent,i=r(this.pfItem);i.setParent(e,!1),i.active=!0;var n=new h;return n.init(i),n.buff=t,n.icon.spriteFrame=c.getSpriteFrame(t.ability),n.icon.getComponent(o).enabled=!1,u.exe(n.icon),this.items.push(n),n},e.remove=function(){},t}()).ins=null;var h=t("UiBuffItem",function(){function t(){this.root=void 0,this.icon=void 0,this.lifecycle=void 0,this.buff=void 0}var e=t.prototype;return e.init=function(t){this.root=t,this.icon=this.root.getChildByPath("Icon").getComponent(f),this.lifecycle=this.root.getChildByPath("Lifecycle").getComponent(f)},e.refresh=function(){var t=this.buff.lifecycle.current/this.buff.lifecycle.max;this.lifecycle.fillRange=t},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UiCircleProgressCountdown.ts",["cc","./Sound.ts"],(function(t){var o,n,s,r,e,i,u;return{setters:[function(t){o=t.cclegacy,n=t.Label,s=t.Sprite,r=t.tween,e=t.Tween,i=t.Vec3},function(t){u=t.Sound}],execute:function(){o._RF.push({},"94646NHH0hKT5z/TY5LjOCF","UiCircleProgressCountdown",void 0);t("UiCircleProgressCountdown",function(){function t(){this.onTimeout=null,this.root=void 0,this.countdownText=void 0,this.countdownProgressBarVal=void 0,this.t1=null,this.t2=null}var o=t.prototype;return o.init=function(t){this.root=t,this.countdownText=this.root.getChildByPath("val").getComponent(n),this.countdownText.string="",this.countdownProgressBarVal=this.root.getChildByPath("ProgressBar/val").getComponent(s),this.countdownProgressBarVal.fillRange=0},o.startCountdown=function(){var t=this,o=5;this.countdownText.string=o.toString(),this.t1=r(this.root).sequence(r(this.root).delay(1),r(this.root).call((function(){if(--o<0)return e.stopAllByTarget(t.root),void(null==t.onTimeout||t.onTimeout());u.ins.countdown(),t.countdownText.string=o.toString();var n=t.countdownText.node;r(n).sequence(r(n).to(.2,{scale:new i(1.5,1.5)}),r(n).to(.3,{scale:new i(1,1)})).start()}))).repeatForever().start(),this.countdownProgressBarVal.fillRange=0,this.t2=r(this.countdownProgressBarVal).to(o,{fillRange:1}).start()},o.stopCountdown=function(){e.stopAllByTarget(this.root),e.stopAllByTarget(this.countdownProgressBarVal)},o.pause=function(){var t,o;null==(t=this.t1)||t.stop(),null==(o=this.t2)||o.stop()},o.resume=function(){var t,o;null==(t=this.t1)||t.start(),null==(o=this.t2)||o.start()},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UiCountdown.ts",["cc","./ResMgr2.ts"],(function(t){var n,i,o,e;return{setters:[function(t){n=t.cclegacy,i=t.Label,o=t.instantiate},function(t){e=t.ResMgr}],execute:function(){n._RF.push({},"1b105QDDlNHfp+ADUTcDcMN","UiCountdown",void 0),t("UiCountdown",function(){function t(){this.root=void 0,this.text=void 0}return t.create=function(){var n=e.ins.ui.getChildByPath("Text/Countdown"),i=o(n),u=new t;return u.init(i),u},t.prototype.init=function(t){this.root=t,this.text=this.root.getComponentInChildren(i)},t}()).ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/UiDailyCheckin.ts",["cc","./UiLoading.ts","./UiMain2.ts","./UiEffect.ts","./Sound.ts","./ResMgr.ts","./TextureOriginalRatioSprite.ts","./UiPopup.ts","./CfgDailyCheckin.ts","./DailyCheckinData.ts","./RewardGet.ts","./Ad.ts"],(function(t){var i,n,e,r,o,s,h,a,c,d,u,l,f,C,g,p,v,y,w,m;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.resources,r=t.instantiate,o=t.Label,s=t.Sprite,h=t.Color,a=t.Widget},function(t){c=t.UiLoading},function(t){d=t.UiMain},function(t){u=t.UiEffectPopup},function(t){l=t.Sound},function(t){f=t.ResMgr},function(t){C=t.TextureOriginalRatioSprite},function(t){g=t.UiPopup},function(t){p=t.CfgDailyCheckin},function(t){v=t.DailyCheckinData,y=t.DailyCheckinDataPersist},function(t){w=t.RewardGet},function(t){m=t.Ad}],execute:function(){i._RF.push({},"80099QZuM1MxLnG94xwI2xj","UiDailyCheckin",void 0),t("UiDailyCheckin",function(){function t(){this.root=void 0,this.items=new Array,this.itemCurrent=null,this.btnList=void 0,this.btnGet=void 0,this.btnGetAd=void 0}t.loadAndCreate=function(){var t=this;if(null==this.pf){var i=c.create(d.ins.root);e.load("Home/DailyCheckin",(function(n,e){i.root.destroy(),t.pf=e,t.create()}))}else this.create()},t.create=function(i){void 0===i&&(i=null),null==p.ins&&(p.ins=new p);var n=r(this.pf),e=new t;return null==i&&(i=d.ins.root),n.setParent(i,!1),u.show(n),e.init(n),e};var i=t.prototype;return i.init=function(t){this.root=t,g.create(this.root,!1);var i=v.ins.count;1==v.ins.isTodayCheckin()&&(i-=1),i=i<7?0:7;for(var e=this.root.getChildByPath("List").children,r=0;r<e.length;++r){var o=new k;o.init(e[r]),this.items.push(o),o.cfg=p.ins.data[i+r],o.title.string="第 {n} 天".replace("{n}",(r+1).toString()),o.refreh()}this.btnList=this.root.getChildByPath("BtnList"),this.btnGet=this.root.getChildByPath("BtnList/btnGet"),this.btnGet.on(n.EventType.TOUCH_END,this.onClick_Get,this),this.btnGetAd=this.root.getChildByPath("BtnList/btnGetAd"),this.btnGetAd.on(n.EventType.TOUCH_END,this.onClick_GetAd,this),this.showToday()},i.showToday=function(){if(1==v.ins.isTodayCheckin()){var t=v.ins.count-1;return t%=7,this.itemCurrent=this.items[t],this.itemCurrent.setCurrent(),void(this.btnList.active=!1)}this.btnList.active=!0;var i=v.ins.count%7;this.itemCurrent=this.items[i],this.itemCurrent.setCurrent(),"Role"!=this.itemCurrent.cfg.rewardId&&"Tail"!=this.itemCurrent.cfg.rewardId||(this.btnGetAd.active=!1)},i.getRewardAndCheckin=function(t,i){void 0===i&&(i=1),w.exe(t.rewardId,t.rewardCount*i,t.rewardArg,!1),v.ins.checkin(),y.save()},i.onClick_Get=function(){l.ins.btnClick(),this.root.destroy(),this.getRewardAndCheckin(this.itemCurrent.cfg)},i.onClick_GetAd=function(){var t=this;l.ins.btnClick(),m.ins.showRewardedVideo((function(){t.getRewardAndCheckin(t.itemCurrent.cfg,2),t.root.destroy()}))},t}()).pf=null;var k=function(){function t(){this.cfg=null,this.root=void 0,this.frame=void 0,this.title=void 0,this.rewardIcon=void 0,this.rewardCount=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.frame=this.root.getChildByPath("Frame"),this.title=this.root.getChildByPath("Title").getComponent(o),this.rewardIcon=this.root.getChildByPath("Icon").getComponent(s),this.rewardCount=this.root.getChildByPath("Count").getComponent(o)},i.refreh=function(){var t=null;t="Role"==this.cfg.rewardId?f.ins.roleIcon.getChildByPath(this.cfg.rewardArg):f.ins.Icon.getChildByPath(this.cfg.rewardId),this.rewardIcon.spriteFrame=t.getComponent(s).spriteFrame,C.exe(this.rewardIcon),this.rewardCount.string="x"+this.cfg.rewardCount.toString()},i.setCurrent=function(){this.frame.getComponent(s).color=(new h).fromHEX("FFFF00");var t=this.frame.getComponent(a);t.bottom=-3,t.left=-3,t.right=-3,t.top=-3,t.updateAlignment()},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/UiDailyTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiMain2.ts","./UiEffect.ts","./UiPopup.ts","./ResMgr.ts","./Sound.ts","./TextureOriginalRatioSprite.ts","./UiLoading.ts","./CfgDailyTask.ts","./DailyTaskDataGen.ts","./DailyTaskData.ts","./StatToday.ts","./RewardGet.ts","./Ad.ts","./DailyTaskHelper.ts"],(function(t){var i,e,n,s,a,o,r,h,l,u,d,c,f,y,v,g,p,C,T,w,k,D,m;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,n=t.Input,s=t.resources,a=t.instantiate,o=t.Label,r=t.Sprite},function(t){h=t.UiMain},function(t){l=t.UiEffectPopup},function(t){u=t.UiPopup},function(t){d=t.ResMgr},function(t){c=t.Sound},function(t){f=t.TextureOriginalRatioSprite},function(t){y=t.UiLoading},function(t){v=t.CfgDailyTask},function(t){g=t.DailyTaskDataGen},function(t){p=t.DailyTaskData,C=t.DailyTaskDataPersist},function(t){T=t.StatToday,w=t.StatTodayPersist},function(t){k=t.RewardGet},function(t){D=t.Ad},function(t){m=t.DailyTaskHelper}],execute:function(){e._RF.push({},"11d0eQD3LZK9azILXi8YNPQ","UiDailyTask",void 0),t("UiDailyTask",function(){function t(){this.root=void 0,this.items=new Array}t.loadAndCreate=function(){var t=this;if(null==this.pf){var i=y.create(h.ins.root);s.load("Home/DailyTask",(function(e,n){i.root.destroy(),t.pf=n,t.create()}))}else this.create()},t.create=function(i){void 0===i&&(i=null);var e=a(this.pf),n=new t;return null==i&&(i=h.ins.root),e.setParent(i,!1),l.show(e),n.init(e),n};var i=t.prototype;return i.init=function(t){this.root=t,D.ins.showBanner(),u.create(this.root,!1).btnClose.on(n.EventType.TOUCH_END,(function(){D.ins.hideBanner()}));for(var i=this.root.getChildByPath("List").children,e=0;e<i.length;++e){var s=new P;s.init(i[e]),this.items.push(s)}g.todayGen(),this.refresh();var a=new I;a.uiDailyTask=this,a.init(this.root.getChildByPath("Test")),a.root.active=!1},i.refresh=function(){for(var t=p.ins.items,i=0;i<3;++i){var e=this.items[i];e.dataItem=t[i],e.refresh()}},t}()).pf=null;var I=function(){function t(){this.root=void 0,this.uiDailyTask=null}return t.prototype.init=function(t){var e=this;this.root=t;var s=this.root.getChildByPath("btn1");s.on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),g.exe(),C.save(),e.uiDailyTask.refresh()})),(s=this.root.getChildByPath("btn2")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick();var t=function(t){t.foodCount=t.killCount=t.moneyCount=t.moneyVal=t.score=0};t(T.ins.singleMax),t(T.ins.total),w.save();for(var n,s=i(p.ins.items);!(n=s()).done;){n.value.rewardGet=!1}C.save(),e.uiDailyTask.refresh()}))},t}(),P=function(){function t(){this.dataItem=null,this.root=void 0,this.title=void 0,this.rewardIcon=void 0,this.rewardCount=void 0,this.progress=null,this.btnGet=void 0,this.finish=void 0,this.underway=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.title=this.root.getChildByPath("Title").getComponent(o),this.rewardIcon=this.root.getChildByPath("Reward/Icon").getComponent(r),this.rewardCount=this.root.getChildByPath("Reward/Count").getComponent(o),this.progress=this.root.getChildByPath("ProgressBar/Bar/val").getComponent(r),this.progress.fillRange=0,this.finish=this.root.getChildByPath("Finish"),this.finish.active=!1,this.btnGet=this.root.getChildByPath("btn"),this.btnGet.on(n.EventType.TOUCH_END,this.onClick_Get,this),this.btnGet.active=!0,this.underway=this.root.getChildByPath("Underway")},i.refresh=function(){var t=v.ins.data.get(this.dataItem.taskId),i=d.ins.Icon.getChildByPath(t.rewardId);this.rewardIcon.spriteFrame=i.getComponent(r).spriteFrame,f.exe(this.rewardIcon),this.rewardCount.string="x"+t.rewardCount.toString(),this.title.string=m.getDescr(this.dataItem.taskId),this.progress.fillRange=m.getProgressPercent(this.dataItem.taskId),this.refreshState()},i.refreshState=function(){1!=this.dataItem.rewardGet?this.progress.fillRange>=1?this.setGetable():this.setUnderway():this.setFinish()},i.setFinish=function(){this.hideAll(),this.finish.active=!0},i.setGetable=function(){this.hideAll(),this.btnGet.active=!0},i.setUnderway=function(){this.hideAll(),this.underway.active=!0},i.hideAll=function(){this.finish.active=!1,this.btnGet.active=!1,this.underway.active=!1},i.onClick_Get=function(){c.ins.btnClick();var t=v.ins.data.get(this.dataItem.taskId);k.exe(t.rewardId,t.rewardCount,null,!0),this.dataItem.rewardGet=!0,C.save(),this.refreshState()},t}();e._RF.pop()}}}));

System.register("chunks:///_virtual/UiDebug.ts",["cc","./RoleMgr.ts"],(function(n){var t,e,c,i,u;return{setters:[function(n){t=n.cclegacy,e=n.find,c=n.Input,i=n.Vec3},function(n){u=n.RoleMgr}],execute:function(){t._RF.push({},"cf0a9OAcP5PQLQqBvsUr5d3","UiDebug",void 0);n("UiDebug",function(){function n(){}return n.prototype.init=function(){e("Canvas/Debug").getChildByPath("btn1").on(c.EventType.TOUCH_END,(function(){u.ins.local.force.v=new i(.3,0,.3)}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UiDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiEffect.ts","./Sound.ts"],(function(t){var n,o,i,e,s,r,h,a,l,u;return{setters:[function(t){n=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,i=t.UITransform,e=t.Size,s=t.Input,r=t.Label,h=t.instantiate,a=t.Vec3},function(t){l=t.UiEffectPopup},function(t){u=t.Sound}],execute:function(){o._RF.push({},"fabc39T4E1PmZxqTSacVuCX","UiDialog",void 0),t("UiDialog",function(){function t(){this.root=void 0,this.mask=void 0,this.btnClose=void 0,this.btnOk=void 0,this.text=void 0,this.closeHandler=new Array}return t.show=function(n,o){var i=h(this.pf);i.setParent(o,!1),i.position=a.ZERO,l.show(i);var e=new t;return e.init(i),e.text.string=n,e},t.prototype.init=function(t){var o=this;this.root=t,this.closeHandler.push((function(){u.ins.btnClick(),o.root.destroy()}));var h=function(){for(var t,i=n(o.closeHandler);!(t=i()).done;){(0,t.value)()}};this.mask=this.root.getChildByPath("mask"),null!=this.mask&&(this.mask.getComponent(i).setContentSize(new e(3e3,3e3)),this.mask.on(s.EventType.TOUCH_END,(function(){h()}))),this.btnClose=this.root.getChildByPath("btnClose"),null!=this.btnClose&&this.btnClose.on(s.EventType.TOUCH_END,(function(){h()})),this.btnOk=this.root.getChildByPath("btnOK"),this.btnOk.on(s.EventType.TOUCH_END,(function(){h()})),this.text=this.root.getChildByPath("Text").getComponent(r)},t}()).pf=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/UiEffect.ts",["cc"],(function(t){var n,o,e,c;return{setters:[function(t){n=t.cclegacy,o=t.UIOpacity,e=t.tween,c=t.Vec3}],execute:function(){n._RF.push({},"ca63fiP02VMpIW0ra4L+A+p","UiEffect",void 0);t("UiEffectFade",function(){function t(){}return t.fadeIn=function(t,n){void 0===n&&(n=.3);var c=t.getComponent(o);null==c&&(c=t.addComponent(o)),c.opacity=0,e(c).to(n,{opacity:255}).start()},t.fadeOut=function(t,n){void 0===n&&(n=.3);var c=t.getComponent(o);null==c&&(c=t.addComponent(o)),e(c).to(n,{opacity:0}).call((function(){c.opacity=255,t.active=!1})).start()},t}()),t("UiEffectPopup",function(){function t(){}return t.show=function(t){t.active=!0,t.scale=new c(.6,.6),e(t).to(.2,{scale:new c(1.1,1.1,1.1)}).to(.1,{scale:new c(1,1,1)}).start();var n=t.getComponent(o);null==n&&(n=t.addComponent(o)),n.opacity=0,e(n).to(.3,{opacity:255}).start()},t.hide=function(t){e(t).to(.2,{scale:new c(1.1,1.1,1.1)}).to(.1,{scale:new c(.6,.6,.6)}).start();var n=t.getComponent(o);null==n&&(n=t.addComponent(o)),e(n).to(.3,{opacity:0}).call((function(){n.opacity=255,t.active=!1})).start()},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UiEvaluate.ts",["cc"],(function(t){var i,e,l,o,n,s;return{setters:[function(t){i=t.cclegacy,e=t.Label,l=t.Tween,o=t.UIOpacity,n=t.tween,s=t.Vec3}],execute:function(){i._RF.push({},"fa24e2g6cVE87e1malsQBq0","UiEvaluate",void 0),t("UiEvaluate",function(){function t(){this.root=void 0,this.KillBigger=void 0,this.KillX=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.root.active=!0,this.KillBigger=this.root.getChildByPath("KillBigger"),this.KillBigger.active=!1,this.KillX=this.root.getChildByPath("KillX"),this.KillX.active=!1},i.showKillBigger=function(){this.show(this.KillBigger)},i.showKillX=function(t){this.show(this.KillX),this.KillX.getChildByPath("val").getComponent(e).string=t.toString()},i.show=function(t){t.active=!0,l.stopAllByTarget(t);var i=t.getComponent(o);null==i&&(i=t.addComponent(o)),l.stopAllByTarget(i),i.opacity=0,n(i).to(.3,{opacity:255}).start(),t.active=!0,t.scale=new s(.6,.6),n(t).to(.2,{scale:new s(1.5,1.5,1.5)}).to(.1,{scale:new s(1,1,1)}).delay(2).to(.2,{scale:new s(1.3,1.3,1.3)}).to(.1,{scale:new s(.2,.2,.2)}).call((function(){t.active=!1})).start()},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiEventNotification.ts",["cc","./Sound.ts"],(function(t){var o,i,e,n,s;return{setters:[function(t){o=t.cclegacy,i=t.Tween,e=t.Vec3,n=t.tween},function(t){s=t.Sound}],execute:function(){o._RF.push({},"414a6PCUuBFYIW8ba4SRTiL","UiEventNotification",void 0),t("UiEventNotification",function(){function t(){this.root=void 0,this.BecomeTopOne=void 0,this.Top=void 0,this.KillTopOne=void 0}var o=t.prototype;return o.init=function(t){this.root=t,this.BecomeTopOne=this.root.getChildByPath("BecomeTopOne"),this.BecomeTopOne.active=!1,this.Top=this.root.getChildByPath("Top"),this.Top.active=!1,this.KillTopOne=this.root.getChildByPath("KillTopOne"),this.KillTopOne.active=!1},o.showBecomeTopOne=function(){this.show(this.BecomeTopOne),s.ins.topOne()},o.showTop=function(){this.show(this.Top),s.ins.enterTop()},o.showKillTopOne=function(){this.show(this.KillTopOne),s.ins.killTopOne()},o.show=function(t){i.stopAllByTarget(t),t.active=!0,t.scale=new e(3,1,1),n(t).sequence(n(t).to(.2,{scale:e.ONE}),n(t).delay(3),n(t).call((function(){t.active=!1}))).start()},t}()).ins=null,o._RF.pop()}}}));

System.register("chunks:///_virtual/UiExitBtn.ts",["cc","./UiMain.ts","./Sound.ts","./UiDialog.ts"],(function(n){var t,i,o,c,e,u;return{setters:[function(n){t=n.cclegacy,i=n.Input,o=n.director},function(n){c=n.UiMain},function(n){e=n.Sound},function(n){u=n.UiDialog}],execute:function(){t._RF.push({},"98479s9fEBP3Kqp6S4oOXOT","UiExitBtn",void 0);n("UiExitBtn",function(){function n(){this.root=void 0}var t=n.prototype;return t.init=function(n){this.root=n,this.root.on(i.EventType.TOUCH_END,this.onClick,this)},t.onClick=function(){e.ins.btnClick();u.show("确定要退出吗？\n\n中途退出将失去所有奖励",c.ins.root).btnOk.on(i.EventType.TOUCH_END,(function(){o.loadScene("Home")}))},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UiFaceBtn.ts",["cc","./UiFaceList.ts","./UiMain.ts","./Sound.ts"],(function(t){var i,n,o,c,e;return{setters:[function(t){i=t.cclegacy,n=t.Input},function(t){o=t.UiFaceList},function(t){c=t.UiMain},function(t){e=t.Sound}],execute:function(){i._RF.push({},"5e482qxKw9OdrWLJp+cdBQe","UiFaceBtn",void 0);t("UiFaceBtn",function(){function t(){this.root=void 0,this.faceList=null}var i=t.prototype;return i.init=function(t){this.root=t,this.root.on(n.EventType.TOUCH_END,this.onClick,this)},i.onClick=function(){if(e.ins.btnClick(),null==this.faceList){var t=o.create();return this.faceList=t,t.root.setParent(c.ins.root),void(t.root.position=this.root.position.clone().add3f(-150,50,0))}1==this.faceList.root.active?this.faceList.root.active=!1:this.faceList.root.active=!0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiFaceList.ts",["cc","./ResMgr2.ts","./RoleMgr.ts","./Sound.ts","./RoleFace.ts","./TextureOriginalRatioSprite.ts","./UiMain.ts","./UiTextPrompt.ts"],(function(t){var i,n,e,o,c,r,s,a,u,h,f;return{setters:[function(t){i=t.cclegacy,n=t.Sprite,e=t.instantiate,o=t.Input},function(t){c=t.ResMgr},function(t){r=t.RoleMgr},function(t){s=t.Sound},function(t){a=t.RoleFace},function(t){u=t.TextureOriginalRatioSprite},function(t){h=t.UiMain},function(t){f=t.UiTextPrompt}],execute:function(){i._RF.push({},"cc79emYeWhMhbc1wWPBx3ts","UiFaceList",void 0),t("UiFaceList",function(){function t(){this.root=void 0}t.create=function(){var i=c.ins.ui.getChildByPath("FaceList"),n=e(i),o=new t;return o.init(n),o};var i=t.prototype;return i.init=function(t){this.root=t,this.root.active=!0,this.initItems()},i.initItems=function(){var t=this,i=this.root.getChildByPath("List"),r=i.getChildByPath("Item");r.active=!1;for(var s=c.ins.ui.getChildByPath("Face").children,a=0;a<s.length;++a){var u=s[a].getComponent(n),h=e(r);h.active=!0,h.setParent(i);var f=new l;f.init(h),f.setIcon(u),f.faceId=u.node.name,f.root.on(o.EventType.TOUCH_END,(function(){t.root.active=!1}))}},t}()).ins=null;var l=function(){function t(){this.faceId=null,this.root=void 0,this.icon=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.icon=this.root.getChildByName("Icon").getComponent(n),this.root.on(o.EventType.TOUCH_END,this.onClick,this)},i.setIcon=function(t){this.icon.spriteFrame=t.spriteFrame,u.exe(this.icon)},i.onClick=function(){var t=r.ins.local;s.ins.btnClick(),t.face.cd.current>0?f.show(h.ins.root,"您发消息速度太快,请稍后再试哦"):a.face(t,this.faceId)},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/UiGameplayChoice.ts",["cc","./UiPopup.ts","./UiEffect.ts","./Sound.ts","./GameParam.ts","./UiMain2.ts","./Account.ts","./Ad.ts"],(function(t){var i,n,e,o,s,a,c,d,l,r,u,h,f;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.director,o=t.Size},function(t){s=t.UiPopup},function(t){a=t.UiEffectFade,c=t.UiEffectPopup},function(t){d=t.Sound},function(t){l=t.GameMode,r=t.GameParam},function(t){u=t.UiMain},function(t){h=t.Account},function(t){f=t.Ad}],execute:function(){i._RF.push({},"e69691d6NRKb7jtvqDv9v62","UiGameplayChoice",void 0),t("UiGameplayChoice",function(){function t(){this.root=void 0,this.list=void 0}var i=t.prototype;return i.init=function(t){var i=this;this.root=t,this.root.active=!1;var a=function(){d.ins.btnClick(),i.hide()},c=s.create(this.root,!1),v=c.btnClose;v.off(n.EventType.TOUCH_END),v.on(n.EventType.TOUCH_END,a),c.mask.off(n.EventType.TOUCH_END),c.mask.on(n.EventType.TOUCH_END,a),this.list=this.root.getChildByPath("List");var p=function(){var t=r.ins;t.mode=l.TimeLimited,t.roldId=h.ins.roleUsing,t.tailId=h.ins.tailUsing,t.tailAddedLen=0,t.mapSize=new o(100,100),t.npcCount=19},C=this.list.getChildByPath("Mode1/BtnList/btnEnter");C.on(n.EventType.TOUCH_END,(function(){d.ins.btnClick(),p(),u.ins.loading.root.active=!0,e.loadScene("Game")})),(C=this.list.getChildByPath("Mode1/BtnList/btnEnterAd")).on(n.EventType.TOUCH_END,(function(){d.ins.btnClick(),f.ins.showRewardedVideo((function(){p(),r.ins.tailAddedLen=4,u.ins.loading.root.active=!0,e.loadScene("Game")}))}));var E=function(){var t=r.ins;t.mode=l.survival,t.roldId=h.ins.roleUsing,t.tailId=h.ins.tailUsing,t.tailAddedLen=0,t.mapSize=new o(200,200),t.npcCount=49};(C=this.list.getChildByPath("Mode2/BtnList/btnEnter")).on(n.EventType.TOUCH_END,(function(){d.ins.btnClick(),E(),u.ins.loading.root.active=!0,e.loadScene("Game")})),(C=this.list.getChildByPath("Mode2/BtnList/btnEnterAd")).on(n.EventType.TOUCH_END,(function(){d.ins.btnClick(),E(),r.ins.tailAddedLen=4,u.ins.loading.root.active=!0,e.loadScene("Game")}))},i.show=function(){this.root.active=!0,a.fadeIn(this.root),c.show(this.list)},i.hide=function(){a.fadeOut(this.root),c.hide(this.list)},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiEffect.ts","./Sound.ts","./UiMain2.ts","./UiLoading.ts","./Ad.ts"],(function(t){var i,n,e,o,s,r,a,c,h,u,l,d,f,v;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,e=t.Input,o=t.UITransform,s=t.Node,r=t.resources,a=t.Prefab,c=t.instantiate,h=t.Vec3},function(t){u=t.UiEffectPopup},function(t){l=t.Sound},function(t){d=t.UiMain},function(t){f=t.UiLoading},function(t){v=t.Ad}],execute:function(){n._RF.push({},"52b07kCiJhEnI0d/9Mk6iuB","UiGuide",void 0),t("UiGuide",function(){function t(){this.root=null,this.rootPages=void 0,this.btnNext=void 0,this.btnOK=void 0,this.btnClose=void 0,this.currentPageIdx=0}t.checkShow=function(){return 1!=g.isShown()&&(g.save(),this.loadAndCreate(),!0)},t.loadAndCreate=function(){if(v.ins.showInterstitial(),null==t.pf){var i=f.create(d.ins.root);r.load("Home/Guide",a,(function(n,e){i.root.destroy(),t.pf=e;var o=t.create(d.ins.root);u.show(o.root)}))}else{var n=t.create(d.ins.root);u.show(n.root)}},t.create=function(i){var n=c(this.pf),e=new t;return n.setParent(i,!1),n.position=h.ZERO,e.init(n),e};var n=t.prototype;return n.init=function(t){var i=this;this.root=t,this.btnClose=this.root.getChildByPath("btnClose"),this.btnClose.on(e.EventType.TOUCH_END,(function(){l.ins.btnClick(),i.root.destroy()}));var n=this.root.getChildByPath("mask");n.getComponent(o).setContentSize(5e3,5e3),n.on(e.EventType.TOUCH_END,(function(){})),this.btnNext=this.root.getChildByPath("btnNext"),this.btnNext.on(s.EventType.TOUCH_END,this.onClic_Next.bind(this)),this.btnNext.active=!0,this.btnOK=this.root.getChildByPath("btnOK"),this.btnOK.on(s.EventType.TOUCH_END,this.onClic_OK.bind(this)),this.btnOK.active=!1,this.rootPages=this.root.getChildByPath("Pages");for(var r=1;r<this.rootPages.children.length;++r)this.rootPages.children[r].active=!1;this.rootPages.children[0].active=!0},n.onClic_OK=function(){l.ins.btnClick(),this.root.destroy()},n.onClic_Next=function(){l.ins.btnClick();var t=this.rootPages.children;this.currentPageIdx;this.currentPageIdx++;for(var n,e=i(t);!(n=e()).done;){n.value.active=!1}t[this.currentPageIdx].active=!0,this.currentPageIdx>=t.length-1&&(this.btnNext.active=!1,this.btnOK.active=!0)},t}()).pf=null;var g=function(){function t(){}return t.isShown=function(){var t=localStorage.getItem("isGuideShown");return null!=t&&""!=t},t.save=function(){localStorage.setItem("isGuideShown","true")},t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/UiInput.ts",["cc","./UiJoystick.ts","./UiJoystickTouch.ts","./RoleMove.ts","./RoleMgr.ts"],(function(o){var e,n,t,i,s,c,y,u,h,d,r;return{setters:[function(o){e=o.cclegacy,n=o.input,t=o.Input,i=o.find,s=o.Vec3,c=o.KeyCode,y=o.Vec2},function(o){u=o.UiJoystick},function(o){h=o.UiJoystickTouch},function(o){d=o.RoleMove},function(o){r=o.RoleMgr}],execute:function(){e._RF.push({},"34463M/OLFJUJ9Ki2wPOMFs","UiInput",void 0),o("UiInput",function(){function o(){this.rootTouch=null,this.v=new y}var e=o.prototype;return e.init=function(){this.initTouch(),n.on(t.EventType.KEY_PRESSING,this.onKeyPressing,this),n.on(t.EventType.KEY_DOWN,this.onKeyDown,this),n.on(t.EventType.KEY_UP,this.onKeyUp,this)},e.initTouch=function(){this.rootTouch=i("Canvas/Touch");var o=new u;o.init(this.rootTouch.getChildByPath("Joystick")),o.root.active=!0;var e=new h;e.init(this.rootTouch),e.setJoystick(o),e.joystickDefualtPos=o.root.position.clone(),e.onMove=this.onMove.bind(this),e.onEnd=this.onEnd.bind(this)},e.onMove=function(o){var e=new s(o.x,0,-o.y);d.cmdMoveTransition(r.ins.local,e);var n=180*Math.atan2(e.x,e.z)/Math.PI;r.ins.local.view.arrow.eulerAngles=new s(0,n,0)},e.onEnd=function(){},e.onKeyPressing=function(o){},e.onKeyDown=function(o){o.keyCode==c.NUM_1&&d.setModeRun(r.ins.local);var e=this.v;o.keyCode!=c.KEY_A&&o.keyCode!=c.ARROW_LEFT||(e.x=-1),o.keyCode!=c.KEY_W&&o.keyCode!=c.ARROW_UP||(e.y=1),o.keyCode!=c.KEY_S&&o.keyCode!=c.ARROW_DOWN||(e.y=-1),o.keyCode!=c.KEY_D&&o.keyCode!=c.ARROW_RIGHT||(e.x=1),e.equals(y.ZERO)||this.onMove(e)},e.onKeyUp=function(o){o.keyCode==c.NUM_1&&d.setModeWalk(r.ins.local);var e=this.v;o.keyCode!=c.KEY_A&&o.keyCode!=c.ARROW_LEFT||(e.x=0),o.keyCode!=c.KEY_W&&o.keyCode!=c.ARROW_UP||(e.y=0),o.keyCode!=c.KEY_S&&o.keyCode!=c.ARROW_DOWN||(e.y=0),o.keyCode!=c.KEY_D&&o.keyCode!=c.ARROW_RIGHT||(e.x=0),e.equals(y.ZERO)||this.onMove(e)},o}()).ins=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/UiItem.ts",["cc"],(function(t){var i,n;return{setters:[function(t){i=t.cclegacy,n=t.Label}],execute:function(){i._RF.push({},"5cfabpufCxBr5fW2WskZL7V","UiItem",void 0);t("UiTextItem",function(){function t(){this.root=void 0,this.val=void 0}return t.prototype.init=function(t){this.root=t,this.val=this.root.getComponentInChildren(n),this.val.string=""},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiJoystick.ts",["cc"],(function(t){var i,o;return{setters:[function(t){i=t.cclegacy,o=t.UIOpacity}],execute:function(){i._RF.push({},"6996egj8E1Ff62ioFoj6qxB","UiJoystick",void 0);t("UiJoystick",function(){function t(){this.radius=100,this.root=null,this.handle=null,this.rootOpacity=null}var i=t.prototype;return i.init=function(t){this.root=t,this.handle=this.root.getChildByPath("Handle"),this.rootOpacity=this.root.getComponent(o),null==this.rootOpacity&&(this.rootOpacity=this.root.addComponent(o))},i.setHandlePos=function(t){if(t.lengthSqr()>this.radius*this.radius){var i=100/t.length();return t.multiply3f(i,i,i),void(this.handle.position=t)}this.handle.position=t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiJoystickTouch.ts",["cc"],(function(t){var o,i,s,n;return{setters:[function(t){o=t.cclegacy,i=t.Input,s=t.UITransform,n=t.Vec3}],execute:function(){o._RF.push({},"cde867Sg+RBG6gLC0XCjTZi","UiJoystickTouch",void 0);t("UiJoystickTouch",function(){function t(){this.onMove=null,this.onEnd=null,this.root=null,this.joystick=null,this.joystickDefualtPos=void 0}var o=t.prototype;return o.setJoystick=function(t){this.joystick=t,this.joystick.root.active=!0,this.joystickDefualtPos=this.joystick.root.position.clone(),this.setJoystickIdle()},o.init=function(t){this.root=t,this.root.on(i.EventType.TOUCH_START,this.onTouchStart,this),this.root.on(i.EventType.TOUCH_MOVE,this.onTouchMove,this),this.root.on(i.EventType.TOUCH_END,this.onTouchEnd,this),this.root.on(i.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.onTouchStart=function(t){var o=t.getUILocation(),i=this.joystick.root.parent.getComponent(s).convertToNodeSpaceAR(new n(o.x,o.y));this.joystick.root.position=i,this.joystick.root.active=!0,this.joystick.rootOpacity.opacity=255},o.onTouchMove=function(t){var o=t.getUILocation(),i=t.getUIStartLocation();if(!o.equals(i)){var s=o.clone().subtract(i);this.joystick.setHandlePos(new n(s.x,s.y)),this.onMove(s)}},o.onTouchEnd=function(t){this.setJoystickIdle(),this.onEnd()},o.setJoystickIdle=function(){this.joystick.handle.position=n.ZERO,this.joystick.root.position=this.joystickDefualtPos,this.joystick.rootOpacity.opacity=100},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UiKillPrompt.ts",["cc","./UiEffect.ts"],(function(t){var i,o,n,e,c;return{setters:[function(t){i=t.cclegacy,o=t.Label,n=t.Tween,e=t.tween},function(t){c=t.UiEffectPopup}],execute:function(){i._RF.push({},"7cf66+lHgZFfaGN6WObAnpN","UiKillPrompt",void 0),t("UiKillPrompt",function(){function t(){this.root=void 0,this.nickname1=void 0,this.nickname2=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.root.active=!1,this.nickname1=this.root.getChildByPath("Nickname1").getComponent(o),this.nickname2=this.root.getChildByPath("Nickname2").getComponent(o)},i.show=function(){var t=this;n.stopAllByTarget(this.root),c.show(this.root),e(this.root).delay(3).call((function(){c.hide(t.root)})).start()},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiLive.ts",["cc","./GameParam.ts","./RoleMgr.ts"],(function(t){var e,i,r,o,s,n;return{setters:[function(t){e=t.cclegacy,i=t.Label,r=t.tween},function(t){o=t.GameParam,s=t.GameMode},function(t){n=t.RoleMgr}],execute:function(){e._RF.push({},"49487FcuVZIXJo5XNGAslqY","UiLive",void 0),t("UiLive",function(){function t(){this.root=void 0,this.val=void 0}var e=t.prototype;return e.init=function(t){if(this.root=t,o.ins.mode!=s.survival)return this.root.active=!1,void this.root.destroy();this.val=this.root.getChildByPath("Val").getComponent(i),this.val.string="0",this.refresh(),this.startAutoRerefresh()},e.startAutoRerefresh=function(){var t=this;r(this.root).sequence(r(this.root).delay(1),r(this.root).call((function(){t.refresh()}))).repeatForever().start()},e.refresh=function(){var t=n.ins.all;this.val.string=t.length.toString()},t}()).ins=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/UiLoading.ts",["cc"],(function(t){var e,n,i,o,r;return{setters:[function(t){e=t.cclegacy,n=t.tween,i=t.Vec3,o=t.instantiate,r=t.Widget}],execute:function(){e._RF.push({},"0398elvE1RCVLC0xCQ3m1M3","UiLoading",void 0),t("UiLoading",function(){function t(){this.root=void 0}return t.create=function(e){var n=new t,i=o(this.pf);return n.init(i),i.setParent(e),i.getComponent(r).updateAlignment(),n},t.prototype.init=function(t){this.root=t;var e=this.root.getChildByPath("Anim/Icon");n(e).by(1,{eulerAngles:new i(0,0,-360)}).repeatForever().start()},t}()).pf=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/UiLoading2.ts",["cc","./UiProgressBar.ts","./CfgGameplayTip.ts"],(function(t){var i,r,o,s,n;return{setters:[function(t){i=t.cclegacy,r=t.Label,o=t.randomRangeInt},function(t){s=t.UiProgressBar},function(t){n=t.CfgGameplayTip}],execute:function(){i._RF.push({},"9cd06/q9ABDxK4MABdkVQao","UiLoading",void 0);var e=t("UiLoading",function(){function t(){this.root=void 0,this.progressBar=new s}t.rndTip=function(){this.tipStr=n.data[o(0,n.data.length)]};var i=t.prototype;return i.init=function(i){this.root=i,this.root.active=!0,this.root.setSiblingIndex(this.root.parent.children.length),this.progressBar.init(this.root.getChildByPath("ProgressBar")),this.progressBar.setProgress(0),this.root.getChildByPath("Tip").getComponent(r).string=t.tipStr},i.setProgress=function(t){this.progressBar.setProgress(t)},t}());e.ins=void 0,e.tipStr="",i._RF.pop()}}}));

System.register("chunks:///_virtual/UiLocalState.ts",["cc","./RoleMgr.ts"],(function(t){var o,i,n,e;return{setters:[function(t){o=t.cclegacy,i=t.find,n=t.Label},function(t){e=t.RoleMgr}],execute:function(){o._RF.push({},"ed3f6+dP4hCs4NeWgvsWpDd","UiLocalState",void 0),t("UiLocalState",function(){function t(){this.root=void 0,this.score=void 0,this.killCount=void 0}var o=t.prototype;return o.init=function(){this.root=i("Canvas/LocalState"),this.score=this.root.getChildByPath("Score/val").getComponent(n),this.score.string="0",this.killCount=this.root.getChildByPath("KillCount/val").getComponent(n),this.killCount.string="0"},o.refreshScore=function(){var t=e.ins.local;this.score.string=t.stat.score.toString()},o.refreshKillCount=function(){var t=e.ins.local;this.killCount.string=t.stat.killCount.toString()},t}()).ins=null;t("UiInfoItem",function(){function t(){this.root=void 0}return t.prototype.init=function(t){this.root=t},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UiLottery.ts",["cc","./UiEffect.ts","./Sound.ts","./ResMgr.ts","./TextureOriginalRatioSprite.ts","./WeightProbability.ts","./RewardGet.ts","./LotteryData.ts","./DateTimeMgr.ts","./CfgLottery.ts","./DurationString.ts","./Ad.ts","./UiPopup.ts"],(function(t){var i,n,e,o,s,a,r,h,c,u,d,l,f,g,v,w,C,y,p,m,D,R,P;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.Sprite,o=t.Label,s=t.randomRangeInt,a=t.Vec3,r=t.tween,h=t.Tween,c=t.resources,u=t.instantiate},function(t){d=t.UiEffectPopup},function(t){l=t.Sound},function(t){f=t.ResMgr},function(t){g=t.TextureOriginalRatioSprite},function(t){v=t.WeightProbability},function(t){w=t.RewardGet},function(t){C=t.LotteryData,y=t.LotteryDataPersist},function(t){p=t.DateTimeMgr},function(t){m=t.CfgLottery},function(t){D=t.DurationString},function(t){R=t.Ad},function(t){P=t.UiPopup}],execute:function(){i._RF.push({},"0a706E3QnxH04nmLBNbH/DJ","UiLottery",void 0);t("UiLottery",function(){function t(){this.root=void 0,this.disk=void 0,this.items=new Array,this.hand=void 0,this.countdown=null,this.ad=void 0,this.isRotating=!1,this.idx=0}t.create=function(i){null==m.ins&&(m.ins=new m),c.load("Home/Lottery",(function(n,e){var o=u(e),s=new t;return o.setParent(i,!1),d.show(o),s.init(o),s}))};var i=t.prototype;return i.init=function(t){this.root=t,R.ins.showBanner(),P.create(this.root,!1).btnClose.on(n.EventType.TOUCH_END,(function(){R.ins.hideBanner()})),this.disk=this.root.getChildByPath("Disk"),this.root.getChildByPath("Center").on(n.EventType.TOUCH_END,this.onClick,this),this.hand=this.root.getChildByPath("Hand"),this.hand.active=!1;for(var i=this.root.getChildByPath("Disk").children,s=1;s<i.length;++s){var a=new L;a.init(i[s]),this.items.push(a);var r=m.ins.data[s-1],h=f.ins.Icon.getChildByPath(r.rewardId);a.icon.spriteFrame=h.getComponent(e).spriteFrame,g.exe(a.icon),a.count.string="x"+r.count.toString()}this.countdown=this.root.getChildByPath("Center/Countdown").getComponent(o),this.countdown.node.active=!1,this.ad=this.root.getChildByPath("Center/Ad"),this.getLeftSec()<=0?this.showAvailable():this.startCountdown()},i.checkHand=function(){this.hand.active=!0},i.onClick=function(){var t=this;1!=this.isRotating&&(this.getLeftSec()>0||(l.ins.btnClick(),R.ins.showRewardedVideo((function(){t.start()}))))},i.start=function(){this.hand.active=!1,this.idx=this.getItemIdx(),this.rotate(this.idx),l.ins.lotteryRotate(),C.ins.lastDate=new Date(p.ins.getNowDateTime()),y.save()},i.getItemIdx=function(){for(var t=m.ins.data,i=new v,n=0;n<t.length;++n){var e=t[n];i.add(n.toString(),e.w)}return Number(i.get())},i.rotate=function(t){var i=this;this.isRotating=!0;var n=0;n+=1080,n+=45*t,n+=s(-10,10);var e=this.disk.eulerAngles.clone();e.z=e.z%360,this.disk.eulerAngles=e,e=new a(0,0,n),r(this.disk).to(2,{eulerAngles:e},{easing:"cubicOut"}).delay(.5).call((function(){i.onCompleteRotate()})).delay(.1).call((function(){i.isRotating=!1})).start()},i.onCompleteRotate=function(){var t=m.ins.data[this.idx];w.exe(t.rewardId,t.count,null,!0),this.checkHand(),this.startCountdown()},i.startCountdown=function(){var t=this;this.showCountdonw(),r(this.root).sequence(r(this.root).call((function(){var i=t.getLeftSec();if(i<=0)return h.stopAllByTarget(t.root),void t.showAvailable();var n=D.secondToString(i);t.countdown.string=n})),r(this.root).delay(1)).repeatForever().start()},i.showCountdonw=function(){this.countdown.node.active=!0,this.hand.active=!1,this.ad.active=!1},i.showAvailable=function(){this.countdown.node.active=!1,this.hand.active=!0,this.ad.active=!0},i.getLeftSec=function(){return C.ins.lastDate.valueOf()/1e3+300-p.ins.getNowDateTime().valueOf()/1e3},t}());var L=function(){function t(){this.root=void 0,this.icon=void 0,this.count=void 0}return t.prototype.init=function(t){this.root=t,this.icon=this.root.getChildByPath("Icon").getComponent(e),this.count=this.root.getChildByPath("Count").getComponent(o)},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/UiMain.ts",["cc","./UiDebug.ts","./UiAction.ts","./UiLocalState.ts","./UiMinimap.ts","./UiRoleFollowed.ts","./UiRanking2.ts","./UiBuff.ts","./UiPropPrompt.ts","./UiKillPrompt.ts","./UiFaceBtn.ts","./UiEvaluate.ts","./UiEventNotification.ts","./UiExitBtn.ts","./UiCountdown.ts","./UiTask.ts","./UiLive.ts"],(function(i){var t,n,o,s,e,a,h,r,u,c,f,U,l,d,w,P,B,g;return{setters:[function(i){t=i.cclegacy,n=i.find},function(i){o=i.UiDebug},function(i){s=i.UiAction},function(i){e=i.UiLocalState},function(i){a=i.UiMinimap},function(i){h=i.UiRoleFollowedLayer},function(i){r=i.UiRanking},function(i){u=i.UiBuff},function(i){c=i.UiPropPrompt},function(i){f=i.UiKillPrompt},function(i){U=i.UiFaceBtn},function(i){l=i.UiEvaluate},function(i){d=i.UiEventNotification},function(i){w=i.UiExitBtn},function(i){P=i.UiCountdown},function(i){B=i.UiTask},function(i){g=i.UiLive}],execute:function(){var p;t._RF.push({},"2d761+0USFFBpr+IFxiaGoQ","UiMain",void 0);var y=i("UiMain",function(){function i(){this.root=void 0}return i.prototype.init=function(){this.root=n("Canvas"),(new o).init(),s.ins=new s,s.ins.init(this.root.getChildByPath("Action")),(new U).init(this.root.getChildByPath("btnFace")),(new w).init(this.root.getChildByPath("btnExit")),e.ins=new e,e.ins.init(),a.ins=new a,a.ins.init(),a.ins.startAutoRefresh(),h.ins=new h,h.ins.root=this.root.getChildByPath("FoleFollowed"),r.ins=new r,r.ins.init(this.root.getChildByPath("Ranking")),r.ins.startAutoRefresh(),u.ins=new u,u.ins.init(this.root.getChildByPath("Buff")),u.ins.refresh(),u.ins.startAutoRefresh(),c.ins=new c,c.ins.init(this.root.getChildByPath("PropPrompt")),f.ins=new f,f.ins.init(this.root.getChildByPath("KillPrompt")),l.ins=new l,l.ins.init(this.root.getChildByPath("Evaluate")),d.ins=new d,d.ins.init(this.root.getChildByPath("EventNotification")),P.ins=new P,P.ins.init(this.root.getChildByPath("Countdown")),B.ins=new B,B.ins.init(this.root.getChildByPath("Task")),g.ins=new g,g.ins.init(this.root.getChildByPath("Live"))},i}());p=y,y.ins=new p,t._RF.pop()}}}));

System.register("chunks:///_virtual/UiMain2.ts",["cc","./UiLoading2.ts","./UiMargin.ts","./UiTouchRole.ts","./UiGuide.ts","./UiDailyCheckin.ts","./DailyCheckinData.ts","./UiGameplayChoice.ts"],(function(i){var n,t,o,e,a,c,h,s,u;return{setters:[function(i){n=i.cclegacy,t=i.find},function(i){o=i.UiLoading},function(i){e=i.UiMargin},function(i){a=i.UiTouchRole},function(i){c=i.UiGuide},function(i){h=i.UiDailyCheckin},function(i){s=i.DailyCheckinData},function(i){u=i.UiGameplayChoice}],execute:function(){n._RF.push({},"b04284koBhDn7KqUBl7z3eG","UiMain",void 0),i("UiMain",function(){function i(){this.root=void 0,this.loading=new o}var n=i.prototype;return n.init=function(){this.root=t("Canvas"),o.rndTip(),this.loading.init(this.root.getChildByPath("Loading")),this.loading.root.active=!1,e.ins=new e,e.ins.init(this.root.getChildByPath("Margin")),(new a).init(this.root.getChildByPath("Role")),u.ins=new u,u.ins.init(this.root.getChildByPath("Popup/GameplayChoice")),this.popup()},n.popup=function(){1!=c.checkShow()&&0==s.ins.isTodayCheckin()&&h.loadAndCreate()},i}()).ins=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/UiMargin.ts",["cc","./UiRole.ts","./UiMain2.ts","./Sound.ts","./GameParam.ts","./UiSettings.ts","./Account.ts","./UiNickname.ts","./UiMoney.ts","./Share.ts","./UiMoreGamesFactory.ts","./UiGuide.ts","./UiLottery.ts","./UiShop.ts","./UiDailyTask.ts","./UiTtSidebarRewardBtn.ts","./UiRankingBtn.ts"],(function(t){var i,n,e,o,s,a,r,c,h,l,u,C,d,f,y,U,g,T,k,m,p,E;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.sys,o=t.Label,s=t.director},function(t){a=t.UiRole},function(t){r=t.UiMain},function(t){c=t.Sound},function(t){h=t.GameParam,l=t.GameMode},function(t){u=t.UiSettings},function(t){C=t.Account},function(t){d=t.UiNickname},function(t){f=t.UiMoney},function(t){y=t.Share},function(t){U=t.UiMoreGamesFactory},function(t){g=t.UiGuide},function(t){T=t.UiLottery},function(t){k=t.UiShop},function(t){m=t.UiDailyTask},function(t){p=t.UiTtSidebarRewardBtn},function(t){E=t.UiRankingBtn}],execute:function(){i._RF.push({},"97c43qYUodKLKcoAuPy9UAR","UiMargin",void 0),t("UiMargin",function(){function t(){this.root=void 0}var i=t.prototype;return i.init=function(t){var i;this.root=t,this.initEnterGame(),(i=this.root.getChildByPath("Right/btnSettings")).on(n.EventType.TOUCH_END,this.onClick_Settings,this),(i=this.root.getChildByPath("Right/btnRole")).on(n.EventType.TOUCH_END,this.onClick_Role,this),(i=this.root.getChildByPath("Right/btnShare")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),y.exe()})),d.ins=new d,d.ins.init(this.root.getChildByPath("Top/Nickname")),f.ins=new f,f.ins.init(this.root.getChildByPath("Top/Money")),f.ins.refresh(),f.ins.root.on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),k.create()})),(i=this.root.getChildByPath("Top/btnShop")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),k.create()})),p.ins=new p,p.ins.init(this.root.getChildByPath("Top/TtSidebarReward")),(i=this.root.getChildByPath("Left/btnMoreGames")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick();U.create()})),e.platform==e.Platform.BYTEDANCE_MINI_GAME&&i.destroy(),(i=this.root.getChildByPath("Left/btnHelp")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),g.loadAndCreate()})),(i=this.root.getChildByPath("Left/btnLottery")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),T.create(r.ins.root)})),(i=this.root.getChildByPath("Left/btnDailyTask")).on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),m.loadAndCreate()})),(new E).init(this.root.getChildByPath("Left/btnRanking"))},i.initEnterGame=function(){var t;(t=this.root.getChildByPath("EnterGame/btnTimeLimited")).on(n.EventType.TOUCH_END,this.onClick_StartGame,this),t.getChildByPath("Best").getComponent(o).string="最高记录："+C.ins.scoreBest},i.onClick_Role=function(){null==a.ins&&(c.ins.btnClick(),a.create(r.ins.root),t.ins.root.active=!1)},i.onClick_StartGame=function(){c.ins.btnClick(),h.ins.mode=l.TimeLimited,h.ins.roldId=C.ins.roleUsing,h.ins.tailId=C.ins.tailUsing,s.loadScene("Game"),r.ins.loading.root.active=!0},i.onClick_Settings=function(){c.ins.btnClick(),u.create(r.ins.root)},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiMinimap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr.ts","./GameMap.ts","./UiRanking2.ts"],(function(t){var i,e,s,o,r,h,n,a,l,c,f;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,s=t.find,o=t.UITransform,r=t.Vec3,h=t.tween,n=t.Tween,a=t.instantiate},function(t){l=t.RoleMgr},function(t){c=t.GameMap},function(t){f=t.UiRanking}],execute:function(){e._RF.push({},"ff11byNWY1C/JiKecNS8zov","UiMinimap",void 0),t("UiMinimap",function(){function t(){this.root=void 0,this.local=void 0,this.tops=new Array,this.others=new Array,this.sizeHalf=void 0,this.sizeHalfWorld=void 0}var e=t.prototype;return e.init=function(){this.root=s("Canvas/Minimap"),this.sizeHalf=this.root.getComponent(o).contentSize.clone(),this.sizeHalf.x/=2,this.sizeHalf.y/=2;for(var t=0;t<3;++t){var i=this.root.getChildByPath("Top"+(t+1));this.tops.push(i),i.active=!1}this.local=s("Local",this.root),this.local.active=!1,this.local.setSiblingIndex(this.local.parent.children.length-1);var e=s("Other",this.root);e.active=!1,this.others.push(e),this.sizeHalfWorld=c.ins.rect.size.clone(),this.sizeHalfWorld.x/=2,this.sizeHalfWorld.y/=2},e.setPos=function(t,i){var e=t.view.root.position,s=e.x/this.sizeHalfWorld.width,o=e.z/this.sizeHalfWorld.height,h=new r;h.x=this.sizeHalf.width*s,h.y=this.sizeHalf.height*o*-1,i.position=h},e.startAutoRefresh=function(){var t=this;this.stopAutoRefresh(),h(this.root).sequence(h(this.root).delay(.5),h(this.root).call((function(){t.refresh()}))).repeatForever().start()},e.stopAutoRefresh=function(){n.stopAllByTarget(this.root)},e.refresh=function(){var t=l.ins.local;this.setPos(t,this.local),this.local.active=!0,this.refreshTop(),this.refreshOthers()},e.refreshTop=function(){for(var t,e=l.ins.local,s=i(this.tops);!(t=s()).done;){t.value.active=!1}for(var o=f.ins.roles,r=0;r<o.length&&r<this.tops.length;++r){var h=o[r];if(0!=h.life.isAlive&&h!=e){var n=this.tops[r];this.setPos(h,n),n.active=!0}}},e.refreshOthers=function(){var t=l.ins.local,i=f.ins.roles;this.genOtherNodes(),this.hideAllOtherNodes();for(var e=this.tops.length,s=0;e<i.length;++e,++s){var o=i[e];if(0!=o.life.isAlive&&o!=t){var r=this.others[s];this.setPos(o,r),r.active=!0}}},e.genOtherNodes=function(){for(var t=this.others[0],i=f.ins.roles.length-3-this.others.length,e=0;e<i;++e){var s=a(t);s.setParent(t.parent),this.others.push(s)}},e.hideAllOtherNodes=function(){for(var t,e=i(this.others);!(t=e()).done;){t.value.active=!1}},t}()).ins=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/UiMoney.ts",["cc","./Account.ts","./NumberRolling.ts"],(function(n){var t,i,o,e;return{setters:[function(n){t=n.cclegacy,i=n.Label},function(n){o=n.Account},function(n){e=n.NumberRolling}],execute:function(){t._RF.push({},"65c67CmqLNNXZZ+Q/QzkluI","UiMoney",void 0),n("UiMoney",function(){function n(){this.root=void 0,this.val=void 0}var t=n.prototype;return t.init=function(n){this.root=n,this.val=this.root.getComponentInChildren(i),this.val.string=""},t.refresh=function(){var n=o.ins;this.val.string=n.money.toString()},t.refreshRolling=function(){var n=o.ins,t=Number(this.val.string);e.exe(this.val,1,t,n.money)},n}()).ins=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/UiMoreGames.ts",["cc"],(function(t){var i,e,n,o,s,r,a,h,c,m;return{setters:[function(t){i=t.cclegacy,e=t.Vec3,n=t.Input,o=t.UITransform,s=t.instantiate,r=t.Sprite,a=t.sys,h=t.Label,c=t.resources,m=t.Prefab}],execute:function(){i._RF.push({},"3ee2bLpKAhDK55ZwSKDf20s","UiMoreGames",void 0);t("UiMoreGames",function(){function t(){this.root=void 0,this.btnClose=void 0,this.items=new Array,this.icons=void 0,this.pfItem=void 0,this.closeHandler=null,this.onClickItem=null}t.createRes=function(i,e){c.load(i,m,(function(i,n){var o=s(n),r=new t;r.init(o),e(r)}))};var i=t.prototype;return i.init=function(t){var i=this;this.root=t,this.root.position=e.ZERO,this.closeHandler=function(){i.root.destroy()},this.btnClose=this.root.getChildByPath("btnClose"),this.btnClose.on(n.EventType.TOUCH_END,(function(){i.closeHandler()}),this);var s=this.root.getChildByPath("mask");s.getComponent(o).setContentSize(5e3,5e3),s.on(n.EventType.TOUCH_END,(function(){i.closeHandler()}),this),this.icons=this.root.getChildByPath("Icons"),this.icons.active=!1,this.initItems()},i.initItems=function(){for(var t=this.root.getChildByPath("Items").children,i=t.length-1;i>0;--i)t[i].destroy();this.pfItem=t[0],this.pfItem.active=!1},i.refresh=function(t){this.clear();for(var i=0;i<t.items.length;++i){var e=t.items[i];t.thisAppId!=e.appId&&this.addItem(e)}},i.clear=function(){for(var t=0;t<this.items.length;++t)this.items[t].root.destroy();this.items.splice(0,this.items.length)},i.addItem=function(t){var i=this,e=this.pfItem.parent,o=s(this.pfItem);o.active=!0,o.setParent(e);var a=new p;this.items.push(a),a.init(o),a.name.string=t.name;var h=this.icons.children.find((function(i){return i.name==t.iconId})).getComponent(r);a.icon.spriteFrame=h.spriteFrame,o.on(n.EventType.TOUCH_END,(function(){i.navigateToMiniProgram(t.appId),null!=i.onClickItem&&i.onClickItem()}))},i.navigateToMiniProgram=function(t){a.platform==a.Platform.WECHAT_GAME&&wx.navigateToMiniProgram({appId:t,path:"",extraData:null,envVersion:"",success:function(t){console.log("跳转成功")}})},t}());var p=t("UiMoreGamesItem",function(){function t(){this.root=void 0,this.icon=void 0,this.name=void 0}return t.prototype.init=function(t){this.root=t,this.icon=this.root.getChildByPath("Icon/val").getComponent(r),this.name=this.root.getChildByPath("Name").getComponent(h)},t}()),d=(t("UiMoreGamesCfg",function(){function t(){this.thisAppId=void 0,this.items=new Array}return t.create=function(i){var e=new t,n=new d;return e.items.push(n),n.appId="wx1eead536288187e6",n.iconId="BlockBlast",n.name="方块爆破",n=new d,e.items.push(n),n.appId="wxe5ceb461d21a27dc",n.iconId="PopStar",n.name="消灭星星",n=new d,e.items.push(n),n.appId="wxdaca7b7b61c07cd6",n.iconId="2048",n.name="2048",e.thisAppId="wx1eead536288187e6",e.thisAppId=i,e},t}()),t("UiMoreGamesCfgItem",(function(){this.appId=void 0,this.iconId=void 0,this.name=void 0})));i._RF.pop()}}}));

System.register("chunks:///_virtual/UiMoreGamesFactory.ts",["cc","./UiMoreGames.ts","./Sound.ts","./UiEffect.ts"],(function(t){var e,n,i,o,c,r,s;return{setters:[function(t){e=t.cclegacy,n=t.instantiate,i=t.find},function(t){o=t.UiMoreGames,c=t.UiMoreGamesCfg},function(t){r=t.Sound},function(t){s=t.UiEffectPopup}],execute:function(){e._RF.push({},"fe962xBFWhNt61JssoGFLxd","UiMoreGamesFactory",void 0),t("UiMoreGamesFactory",function(){function t(){}return t.create=function(){var t=this.pf,e=n(t);e.setParent(i("Canvas"),!1);var a=new o;return a.init(e),a.root.active=!0,a.closeHandler=function(){r.ins.btnClick(),a.root.destroy()},a.onClickItem=function(){r.ins.btnClick()},a.refresh(c.create("wxdaca7b7b61c07cd6")),s.show(e),a},t}()).pf=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/UiNickname.ts",["cc","./Account.ts","./SocialUserInfo.ts"],(function(n){var t,i,e,o,s,r;return{setters:[function(n){t=n.cclegacy,i=n.EditBox,e=n.sys},function(n){o=n.Account,s=n.AccountPersist},function(n){r=n.SocialUserInfo}],execute:function(){t._RF.push({},"2faf7rq2UFAo66C+cw9jAd4","UiNickname",void 0),n("UiNickname",function(){function n(){this.root=void 0,this.eb=void 0,this.nicknameOld=null}var t=n.prototype;return t.init=function(n){var t=this;this.root=n,this.eb=this.root.getComponentInChildren(i),this.eb.string=o.ins.nickname,this.eb.node.on("editing-did-ended",this.onEnded,this),this.eb.node.on("editing-did-began",(function(){t.nicknameOld=t.eb.string})),this.tt(),this.refresh()},t.refresh=function(){var n=r.ins;null!=n&&(this.eb.string=n.nickname,this.eb.enabled=!1)},t.tt=function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(){var n=this;e.platform==e.Platform.BYTEDANCE_MINI_GAME&&(this.eb.node.targetOff("editing-did-ended"),tt.onKeyboardComplete((function(t){console.log("键盘输入的当前值",t.value);var i=t.value;0!=i.length?(n.eb.string=i,o.ins.nickname=i,s.save()):n.eb.string=n.nicknameOld})))})),t.onEnded=function(n){var t=this.eb.string;0!=t.length?(o.ins.nickname=t,s.save()):this.eb.string=this.nicknameOld},n}()).ins=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/UiPopup.ts",["cc","./Sound.ts"],(function(t){var i,o,n,s;return{setters:[function(t){i=t.cclegacy,o=t.Input,n=t.UITransform},function(t){s=t.Sound}],execute:function(){i._RF.push({},"ee4f8AxU+1M8qqPit4ntsza","UiPopup",void 0);t("UiPopup",function(){function t(){this.root=void 0,this.btnClose=void 0,this.mask=void 0,this.isMaskClickClose=!0}return t.create=function(i,o){void 0===o&&(o=!0);var n=new t;return n.init(i),n.isMaskClickClose=o,n},t.prototype.init=function(t){var i=this;this.root=t,this.btnClose=this.root.getChildByPath("btnClose"),this.btnClose.on(o.EventType.TOUCH_END,(function(){s.ins.btnClick(),i.root.destroy()})),this.mask=this.root.getChildByPath("mask"),this.mask.getComponent(n).setContentSize(9e3,9e3),this.mask.on(o.EventType.TOUCH_END,(function(){i.isMaskClickClose&&(s.ins.btnClick(),i.root.destroy())}))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiProgressBar.ts",["cc"],(function(t){var r,s,e;return{setters:[function(t){r=t.cclegacy,s=t.Sprite,e=t.Label}],execute:function(){r._RF.push({},"f0121Nl7M9FAqVSdsdU8mW+","UiProgressBar",void 0);t("UiProgressBar",function(){function t(){this.root=void 0,this.progressText=void 0,this.progressBar=void 0}var r=t.prototype;return r.init=function(t){this.root=t,this.root.active=!0,this.progressBar=this.root.getChildByPath("Bar/val").getComponent(s),this.progressBar.fillRange=0,this.progressText=this.root.getChildByPath("Text/val").getComponent(e),this.progressText.string="0%",this.setProgress(0)},r.setProgress=function(t){this.progressBar.fillRange=t,this.progressText.string=Math.floor(100*t)+"%"},t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/UiProp.ts",["cc","./Account.ts","./BuffAdd.ts","./RoleMgr.ts","./Sound.ts","./Ability.ts","./UiToast.ts","./UiMain.ts","./StringMgr.ts"],(function(t){var o,i,n,r,s,e,c,h,a,l,u,p;return{setters:[function(t){o=t.cclegacy,i=t.Input,n=t.Label},function(t){r=t.AccountPersist,s=t.Account},function(t){e=t.BuffAdd},function(t){c=t.RoleMgr},function(t){h=t.Sound},function(t){a=t.AbilityType},function(t){l=t.UiToast},function(t){u=t.UiMain},function(t){p=t.StringMgr}],execute:function(){o._RF.push({},"3bc40XkvA1MZKA+OWtSEgZ7","UiProp",void 0);t("UiProp",function(){function t(){this.root=void 0,this.lookFar=new d,this.attract=new d,this.shield=new d}var o=t.prototype;return o.init=function(t){this.root=t,this.lookFar.init(this.root.getChildByPath("LookFar")),this.lookFar.root.on(i.EventType.TOUCH_END,this.onClick_lookFar,this),this.attract.init(this.root.getChildByPath("Attract")),this.attract.root.on(i.EventType.TOUCH_END,this.onClick_attract,this),this.shield.init(this.root.getChildByPath("Shield")),this.shield.root.on(i.EventType.TOUCH_END,this.onClick_shield,this),this.refresh()},o.refresh=function(){var t=s.ins;this.lookFar.count.string=t.propLookFar.toString(),this.attract.count.string=t.propAttract.toString(),this.shield.count.string=t.propShield.toString()},o.onClick_shield=function(){h.ins.btnClick();var t=s.ins;t.propShield<=0?l.create(u.ins.root,p.get("PropEmpty")).show():(t.propShield--,r.save(),this.refresh(),e.add(c.ins.local,a.Shield))},o.onClick_lookFar=function(){h.ins.btnClick();var t=s.ins;t.propLookFar<=0?l.create(u.ins.root,p.get("PropEmpty")).show():(t.propLookFar--,r.save(),this.refresh(),e.add(c.ins.local,a.LookFar))},o.onClick_attract=function(){h.ins.btnClick();var t=s.ins;t.propAttract<=0?l.create(u.ins.root,p.get("PropEmpty")).show():(t.propAttract--,r.save(),this.refresh(),e.add(c.ins.local,a.Attract))},t}());var d=function(){function t(){this.root=void 0,this.count=void 0}return t.prototype.init=function(t){this.root=t,this.count=this.root.getComponentInChildren(n)},t}();o._RF.pop()}}}));

System.register("chunks:///_virtual/UiPropPrompt.ts",["cc","./Ability.ts","./TextureOriginalRatioSprite.ts","./StringMgr.ts"],(function(t){var i,o,e,r,c,n,s,a,h,p,u,l;return{setters:[function(t){i=t.cclegacy,o=t.UIOpacity,e=t.Sprite,r=t.UITransform,c=t.Label,n=t.Tween,s=t.tween,a=t.Vec3},function(t){h=t.AbilityIcon,p=t.AbilityType},function(t){u=t.TextureOriginalRatioSprite},function(t){l=t.StringMgr}],execute:function(){i._RF.push({},"4e02ewcc1ZCtYH3q5lNoRWm","UiPropPrompt",void 0),t("UiPropPrompt",function(){function t(){this.root=void 0,this.icon=void 0,this.text=void 0,this.iconSize=void 0,this.opacity=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.root.active=!1,this.opacity=this.root.getComponent(o),this.opacity.opacity=0,this.icon=this.root.getChildByPath("Icon").getComponent(e),this.iconSize=this.icon.getComponent(r).contentSize.clone(),this.text=this.root.getChildByPath("Text").getComponent(c)},i.refresh=function(t){this.icon.spriteFrame=h.getSpriteFrame(t),u.exe(this.icon,this.iconSize);var i="";t==p.LookFar?i="BuffDescrLookFar":t==p.ScoreAdd?i="BuffDescrScoreAdd":t==p.Shield?i="BuffDescrShield":t==p.Attract&&(i="BuffDescrAttract"),this.text.string=l.get(i)},i.show=function(){var t=this;n.stopAllByTarget(this.root),n.stopAllByTarget(this.opacity),this.root.active=!0,s(this.root).sequence(s(this.root).to(.25,{scale:new a(1.2,1.2)}),s(this.root).to(.25,{scale:new a(1,1)})).start(),s(this.opacity).sequence(s(this.opacity).to(.5,{opacity:255}),s(this.opacity).delay(1),s(this.opacity).to(.5,{opacity:0}),s(this.opacity).call((function(){t.root.active=!1}))).start()},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRanking.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiLoading.ts","./UiMain2.ts","./UiEffect.ts","./UiPopup.ts","./UiTabHeader.ts","./Sound.ts","./RankingDataGen.ts","./RankingData.ts","./Account.ts","./StatToday.ts"],(function(t){var i,n,o,e,a,s,r,l,h,c,g,u,f,v,m,d,k;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,o=t.Input,e=t.instantiate,a=t.resources,s=t.Label},function(t){r=t.UiLoading},function(t){l=t.UiMain},function(t){h=t.UiEffectPopup},function(t){c=t.UiPopup},function(t){g=t.UiTabHeader},function(t){u=t.Sound},function(t){f=t.RankingDataGen},function(t){v=t.RankingData,m=t.RankingDataItem},function(t){d=t.Account},function(t){k=t.StatToday}],execute:function(){n._RF.push({},"545c05ycnFDgKVE037VSmrO","UiRanking",void 0),t("UiRanking",function(){function t(){this.root=void 0,this.items=new Array,this.content=void 0,this.pf=void 0,this.local=new p}t.loadAndCreate=function(){var t=this;if(null==this.pf){var i=r.create(l.ins.root);a.load("Home/Ranking",(function(n,o){i.root.destroy(),t.pf=o,t.create()}))}else this.create()},t.create=function(i){void 0===i&&(i=null);var n=e(this.pf),o=new t;return null==i&&(i=l.ins.root),n.setParent(i,!1),h.show(n),o.init(n),o};var i=t.prototype;return i.init=function(t){this.root=t,c.create(this.root,!1);var i=new g;i.init(this.root.getChildByPath("TabHeader")),i.show(0),i.items[0].root.on(o.EventType.TOUCH_END,this.onClick_1,this),i.items[1].root.on(o.EventType.TOUCH_END,this.onClick_2,this),this.content=this.root.getChildByPath("sv/view/content"),this.local.init(this.root.getChildByPath("Local")),this.local.name.string=d.ins.nickname.toString(),this.local.frame.active=!0,this.setItemCount(20),f.exe(),this.showScore()},i.setItemCount=function(t){for(var i=0;i<t;++i){var n=new p;n.init(e(this.local.root)),this.items.push(n),n.root.active=!0,n.root.setParent(this.content,!1),n.number.string=(i+1).toString(),n.setRankingFlag(i)}},i.refreshList=function(t){for(var i=0;i<t.length&&i<this.items.length;++i){var n=t[i],o=this.items[i];o.name.string=n.name,o.val.string=n.val.toString(),o.frame.active=!1}},i.showScore=function(){var t=v.ins.score.slice(),i=new m;i.name=d.ins.nickname,i.val=k.ins.total.score;var n=f.sortInsert(i,t);this.refreshList(t),-1!=n&&(this.items[n].frame.active=!0),this.local.name.string=i.name,this.local.val.string=i.val.toString(),this.local.number.string=-1==n?"未上榜":(n+1).toString(),this.local.setRankingFlag(n)},i.showKill=function(){var t=v.ins.kill.slice(),i=new m;i.name=d.ins.nickname,i.val=k.ins.total.killCount;var n=f.sortInsert(i,t);this.refreshList(t),-1!=n&&(this.items[n].frame.active=!0),this.local.name.string=i.name,this.local.val.string=i.val.toString(),this.local.number.string=-1==n?"未上榜":(n+1).toString(),this.local.setRankingFlag(n)},i.onClick_1=function(){u.ins.btnClick(),this.showScore()},i.onClick_2=function(){u.ins.btnClick(),this.showKill()},t}()).pf=null;var p=function(){function t(){this.root=void 0,this.frame=void 0,this.number=void 0,this.name=void 0,this.rankingFlag=void 0,this.val=void 0}var n=t.prototype;return n.init=function(t){this.root=t,this.number=this.root.getChildByPath("Number/val").getComponent(s),this.name=this.root.getChildByPath("Name").getComponent(s),this.rankingFlag=this.root.getChildByPath("RankingFlag");for(var n,o=i(this.rankingFlag.children);!(n=o()).done;){n.value.active=!1}this.val=this.root.getChildByPath("Val").getComponent(s),this.frame=this.root.getChildByPath("Frame"),this.frame.active=!1},n.setRankingFlag=function(t){t<=2&&t>=0?this.rankingFlag.children[t].active=!0:null!=this.rankingFlag&&(this.rankingFlag.destroy(),this.rankingFlag=null)},t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/UiRanking2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RoleMgr.ts","./UiEventNotification.ts"],(function(t){var i,e,o,n,s,r,h;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,o=t.tween,n=t.Tween,s=t.Label},function(t){r=t.RoleMgr},function(t){h=t.UiEventNotification}],execute:function(){e._RF.push({},"e82f5k7NzJFRrMRFXDHaz2f","UiRanking",void 0),t("UiRanking",function(){function t(){this.roles=new Array,this.root=void 0,this.items=new Array,this.itemLocal=new a,this.localIdxLast=Number.MAX_VALUE}var e=t.prototype;return e.init=function(t){this.root=t;for(var i=this.root.getChildByPath("Main/List"),e=0;e<i.children.length;++e){var o=new a;this.items.push(o),o.init(i.children[e]),o.nickname.string="",o.score.string="0",o.number.string=(e+1).toString()}this.itemLocal.init(this.root.getChildByPath("Local/Item")),this.itemLocal.nickname.string="",this.itemLocal.score.string="0"},e.initRoles=function(){this.roles.splice(0,this.roles.length);for(var t,e=i(r.ins.all);!(t=e()).done;){var o=t.value;this.roles.push(o)}},e.startAutoRefresh=function(){var t=this;this.stopAutoRefresh(),o(this.root).sequence(o(this.root).delay(1),o(this.root).call((function(){t.refresh()}))).repeatForever().start()},e.stopAutoRefresh=function(){n.stopAllByTarget(this.root)},e.refresh=function(){this.sort();for(var t=0;t<this.roles.length&&t<this.items.length;++t){var i=this.items[t],e=this.roles[t];i.nickname.string=e.playerInfo.nickname,i.score.string=e.stat.score.toString()}this.refreshLocal()},e.refreshLocal=function(){var t=r.ins.local,i=this.roles.indexOf(t);this.itemLocal.nickname.string=t.view.followed.nickname.string,this.itemLocal.score.string=t.stat.score.toString(),this.itemLocal.number.string=(i+1).toString(),this.localIdxLast!=i&&(this.localIdxLast=i,9==i?h.ins.showTop():0==i&&h.ins.showBecomeTopOne())},e.sort=function(){this.roles.sort((function(t,i){return t.stat.score>i.stat.score?-1:t.stat.score<i.stat.score?1:0}))},t}()).ins=null;var a=t("UiRankingItem",function(){function t(){this.root=void 0,this.number=void 0,this.nickname=void 0,this.score=void 0}return t.prototype.init=function(t){this.root=t,this.number=this.root.getChildByPath("Number").getComponent(s),this.nickname=this.root.getChildByPath("Nickname").getComponent(s),this.score=this.root.getChildByPath("Score").getComponent(s)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UiRankingBtn.ts",["cc","./Sound.ts","./SocialUserInfo.ts","./Login.ts","./UiDialog.ts","./UiMain2.ts","./UiEffect.ts","./UiRanking.ts"],(function(t){var n,i,o,s,e,a,c,r,l,f,u;return{setters:[function(t){n=t.cclegacy,i=t.Input,o=t.sys,s=t.UITransform},function(t){e=t.Sound},function(t){a=t.SocialUserInfo},function(t){c=t.Login},function(t){r=t.UiDialog},function(t){l=t.UiMain},function(t){f=t.UiEffectPopup},function(t){u=t.UiRanking}],execute:function(){n._RF.push({},"4b966/bTp1Hw6vVvhWzfE/+","UiRankingBtn",void 0);t("UiRankingBtn",function(){function t(){this.root=void 0,this.classificationBtn=new h}var n=t.prototype;return n.init=function(t){this.root=t,this.root.on(i.EventType.TOUCH_END,this.onClick,this),this.classificationBtn.init(this.root.getChildByPath("Btns"));var n=this.classificationBtn.root;this.Offset=n.position.clone(),n.setParent(this.root.parent.parent,!0)},n.onClick=function(){e.ins.btnClick(),o.platform,u.loadAndCreate()},n.onClick_Tt=function(){null!=a.ins?tt.getImRankList({relationType:"default",dataType:1,rankType:"day",suffix:"",rankTitle:"得分榜",zoneId:"Score",success:function(t){console.log("getImRankData success res: "+t)},fail:function(t){r.show("显示排行榜失败。",l.ins.root),console.log("getImRankData fail res: "+t.errMsg)}}):r.show("使用排行榜需要先登录哦。",l.ins.root).btnOk.on(i.EventType.TOUCH_END,(function(){c.exe()}))},t}());var h=t("UiRankingClassificationBtn",function(){function t(){this.root=void 0,this.mask=void 0}var n=t.prototype;return n.init=function(t){var n=this;this.root=t,this.root.active=!1,this.mask=this.root.getChildByPath("mask"),this.mask.getComponent(s).setContentSize(3e3,3e3),this.mask.on(i.EventType.TOUCH_END,(function(){e.ins.btnClick(),f.hide(n.root)}));var o=this.root.getChildByPath("List/Score");o.on(i.EventType.TOUCH_END,this.onClick_Score,this),(o=this.root.getChildByPath("List/Kill")).on(i.EventType.TOUCH_END,this.onClick_Kill,this)},n.show=function(){f.show(this.root)},n.onClick_Score=function(){(e.ins.btnClick(),null!=a.ins)?tt.getImRankList({relationType:"default",dataType:1,rankType:"day",suffix:"",rankTitle:"得分榜",zoneId:"Score",success:function(t){console.log("getImRankData success res: "+t)},fail:function(t){r.show("显示排行榜失败。",l.ins.root),console.log("getImRankData fail res: "+t.errMsg)}}):r.show("使用排行榜需要先登录哦。",l.ins.root).btnOk.on(i.EventType.TOUCH_END,(function(){c.exe()}))},n.onClick_Kill=function(){(e.ins.btnClick(),null!=a.ins)?tt.getImRankList({relationType:"default",dataType:1,rankType:"day",suffix:"",rankTitle:"击杀榜",zoneId:"Kill",success:function(t){console.log("getImRankData success res: "+t)},fail:function(t){r.show("显示排行榜失败。",l.ins.root),console.log("getImRankData fail res: "+t.errMsg)}}):r.show("使用排行榜需要先登录哦。",l.ins.root).btnOk.on(i.EventType.TOUCH_END,(function(){c.exe()}))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UiRevive.ts",["cc","./ResMgr2.ts","./UiMain.ts","./RoleMgr.ts","./RoleDie.ts","./Sound.ts","./UiEffect.ts","./Settle.ts","./MoneySub.ts","./UiToast.ts","./Account.ts","./StringMgr.ts","./UiCircleProgressCountdown.ts","./Ad.ts"],(function(t){var n,o,i,e,s,r,c,u,h,d,a,C,v,l,f,y,g,w,p,E,M;return{setters:[function(t){n=t.cclegacy,o=t.Vec3,i=t.UITransform,e=t.Size,s=t.Input,r=t.Label,c=t.instantiate},function(t){u=t.ResMgr},function(t){h=t.UiMain},function(t){d=t.RoleMgr},function(t){a=t.RoleRevive},function(t){C=t.Sound},function(t){v=t.UiEffectPopup},function(t){l=t.Settle},function(t){f=t.MoneySub},function(t){y=t.UiToast},function(t){g=t.Account,w=t.AccountPersist},function(t){p=t.StringMgr},function(t){E=t.UiCircleProgressCountdown},function(t){M=t.Ad}],execute:function(){n._RF.push({},"6d2297tnrdOiKKYkr0GDtTb","UiRevive",void 0);var R=t("UiRevive",function(){function t(){this.root=void 0,this.countdown=new E}t.createIns=function(){var n=u.ins.ui.getChildByPath("Revive"),o=c(n),i=new t;return i.init(o),o.setParent(h.ins.root,!1),v.show(o),this.ins=i,i},t.destroyIns=function(){if(null!=this.ins){var t=this.ins;t.countdown.stopCountdown(),t.root.destroy(),this.ins=null}};var n=t.prototype;return n.init=function(n){this.root=n,this.root.position=o.ZERO,this.root.getChildByPath("mask").getComponent(i).setContentSize(new e(3e4,3e4)),this.countdown.init(this.root.getChildByPath("Countdown")),this.countdown.startCountdown(),this.countdown.onTimeout=this.onClick_End.bind(this),this.root.getChildByPath("End").on(s.EventType.TOUCH_END,this.onClick_End,this),this.root.getChildByPath("Btns/btnAd").on(s.EventType.TOUCH_END,this.onClick_Ad,this);var c=this.root.getChildByPath("Btns/btnMoney");c.getChildByPath("MoneyOwned").getComponent(r).string="拥有金币："+g.ins.money;var u=200*Math.pow(2,t.counter);c.getChildByPath("CostMoney").getComponent(r).string="x"+u,c.on(s.EventType.TOUCH_END,this.onClick_Money.bind(this,u),this);var h=this.root.getChildByPath("Btns/btnCard");h.on(s.EventType.TOUCH_END,this.onClick_Card,this),g.ins.resurrectionCard>0?(h.active=!0,c.active=!1):(h.active=!1,c.active=!0)},n.onClick_Card=function(){var n=g.ins;n.resurrectionCard<=0?y.show(h.ins.root,p.get("ResurrectionCardNotEnough")):(n.resurrectionCard--,w.save(),t.counter++,t.destroyIns(),this.revive())},n.onClick_Money=function(n){C.ins.btnClick(),0!=f.sub(n)?(t.counter++,t.destroyIns(),this.revive()):y.show(h.ins.root,p.get("MoneyNotEnough2"))},n.onClick_Ad=function(){var n=this;C.ins.btnClick(),this.countdown.pause(),M.ins.showRewardedVideo((function(){t.destroyIns(),n.revive()}),(function(){n.countdown.resume()}))},n.revive=function(){var t=d.ins.local;a.exe(t)},n.onClick_End=function(){C.ins.btnClick(),this.countdown.stopCountdown(),this.root.destroy(),l.exe()},t}());R.ins=null,R.counter=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/UiRewardGet.ts",["cc","./UiEffect.ts","./UiMain2.ts","./Sound.ts","./ResMgr.ts","./TextureOriginalRatioSprite.ts","./Ad.ts"],(function(t){var i,n,e,o,r,s,h,a,d,c,u,l,f,g;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.UITransform,o=t.Sprite,r=t.Label,s=t.tween,h=t.Vec3,a=t.instantiate},function(t){d=t.UiEffectPopup},function(t){c=t.UiMain},function(t){u=t.Sound},function(t){l=t.ResMgr},function(t){f=t.TextureOriginalRatioSprite},function(t){g=t.Ad}],execute:function(){i._RF.push({},"33b05fAmfxOC5+aXVUSBQmR","UiRewardGet",void 0),t("UiRewardGet",function(){function t(){this.rewardId=void 0,this.rewardCount=void 0,this.rewardArg=void 0,this.root=void 0,this.icon=void 0,this.count=void 0,this.ad=void 0,this.btnOK=void 0}t.create=function(i,n,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var r=a(this.pf),s=new t;return null==o&&(o=c.ins.root),r.setParent(o,!1),d.show(r),u.ins.getReward(),s.init(r),s.refresh(i,n,e),g.ins.hideBanner(),s};var i=t.prototype;return i.init=function(t){var i=this;this.root=t,this.root.getChildByPath("btnClose").on(n.EventType.TOUCH_END,(function(){u.ins.btnClick(),i.root.destroy()})),this.root.getChildByPath("mask").getComponent(e).setContentSize(3e3,3e3),this.icon=this.root.getChildByPath("Icon").getComponent(o),this.count=this.root.getChildByPath("Count").getComponent(r),this.ad=this.root.getChildByPath("Ad"),this.btnOK=this.root.getChildByPath("btnOK"),this.btnOK.on(n.EventType.TOUCH_END,this.onClick_OK,this);var a=this.root.getChildByPath("Light/2");s(a).by(5,{eulerAngles:new h(0,0,360)}).repeatForever().start(),this.ad.active=!0,this.btnOK.active=!1},i.refresh=function(t,i,n){void 0===n&&(n=null),this.rewardId=t,this.rewardCount=i,this.rewardArg=n;var e=null;e="Role"==t?l.ins.roleIcon.getChildByPath(n):"Tail"==t?l.ins.tailIcon.getChildByPath(n):l.ins.Icon.getChildByPath(t),this.icon.spriteFrame=e.getComponent(o).spriteFrame,f.exe(this.icon),this.count.string="x"+i.toString()},i.onClick_OK=function(){u.ins.btnClick(),this.root.destroy()},t}()).pf=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRole.ts",["cc","./CfgRole.ts","./Sound.ts","./RoleBooth.ts","./UiMargin.ts","./Account.ts","./UiRoleAttribute.ts","./UiRoleGet.ts","./UiRoleList.ts","./UiRoleTailList.ts","./UiRoleTailGet.ts","./UiRoleTab.ts"],(function(t){var i,e,o,s,n,l,h,a,r,u,c,R,f,U,g,d;return{setters:[function(t){i=t.cclegacy,e=t.Input,o=t.Label,s=t.instantiate},function(t){n=t.CfgRole},function(t){l=t.Sound},function(t){h=t.RoleBooth,a=t.RoleBoothOp},function(t){r=t.UiMargin},function(t){u=t.Account},function(t){c=t.UiRoleAttribute},function(t){R=t.UiRoleGet},function(t){f=t.UiRoleList},function(t){U=t.UiRoleTailList},function(t){g=t.UiRoleTailGet},function(t){d=t.UiRoleTab}],execute:function(){i._RF.push({},"db1cbJxPsVClLjMvJ2zN43F","UiRole",void 0);var C=t("UiRole",function(){function t(){this.root=void 0,this.name=void 0,this.roleList=new f,this.roleGet=new R,this.attribute=new c,this.tailList=new U,this.tailGet=new g,this.tab=new d}t.create=function(i){var e=s(this.pf),o=new t;return o.init(e),e.setParent(i),o.show(),this.ins=o,o};var i=t.prototype;return i.init=function(t){this.root=t,this.root.getChildByPath("btnClose").on(e.EventType.TOUCH_END,this.onClick_Close,this),this.name=this.root.getChildByPath("Name/val").getComponent(o),this.name.string=n.data.get(u.ins.roleUsing).name,this.roleList.uiRole=this,this.roleList.init(this.root.getChildByPath("RoleSelectList")),this.roleGet.uiRole=this,this.roleGet.init(this.root.getChildByPath("RoleGet")),this.roleGet.refresh(),this.attribute.init(this.root.getChildByPath("Attribute")),this.tailList.uiRole=this,this.tailList.init(this.root.getChildByPath("TailList")),this.tailGet.uiRole=this,this.tailGet.init(this.root.getChildByPath("TailGet")),this.tailGet.refresh(),this.tailGet.root.active=!1,this.tab.uiRole=this,this.tab.init(this.root.getChildByPath("TabHeader"))},i.onClick_Close=function(){l.ins.btnClick(),r.ins.root.active=!0,this.root.destroy(),t.ins=null,u.ins.roleUsing!=h.ins.role.id&&a.show(u.ins.roleUsing),u.ins.tailUsing!=h.ins.tailId&&a.showTail(u.ins.tailUsing)},i.show=function(){this.root.active=!0},t}());C.ins=null,C.pf=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleAttribute.ts",["cc","./CfgRole.ts","./Account.ts","./Fps.ts"],(function(t){var i,e,n,s,r,o;return{setters:[function(t){i=t.cclegacy,e=t.Label,n=t.Sprite},function(t){s=t.CfgRole},function(t){r=t.Account},function(t){o=t.Fps}],execute:function(){i._RF.push({},"35e9fLxEsVD2ZAOjvkasYbk","UiRoleAttribute",void 0);t("UiRoleAttribute",function(){function t(){this.root=void 0,this.startLen=new a,this.speed=new a,this.atractRadius=new a,this.atractDuration=new a,this.shieldDuration=new a,this.ScoreAddDuration=new a}var i=t.prototype;return i.init=function(t){this.root=t;var i=this.root.getChildByPath("List").children;this.startLen.init(i[0]),this.startLen.name.string="初始长度",this.speed.init(i[1]),this.speed.name.string="行走速度",this.atractDuration.init(i[2]),this.atractDuration.name.string="磁铁时间",this.atractRadius.init(i[3]),this.atractRadius.name.string="磁铁吸收范围",this.shieldDuration.init(i[4]),this.shieldDuration.name.string="护盾时间",this.ScoreAddDuration.init(i[5]),this.ScoreAddDuration.name.string="得分加成",this.setCurrent()},i.setCurrent=function(){var t=r.ins.roleUsing;this.refresh(t)},i.refresh=function(t){var i=s.data.get(t);this.startLen.val.fillRange=i.InitialLen/15,this.speed.val.fillRange=this.getProgress(o.speedPerSecondToSpeedPerFrame(3),o.speedPerSecondToSpeedPerFrame(10),i.WalkSpeed),this.atractRadius.val.fillRange=this.getProgress(1,4,i.AttractRadiusMultiple),this.atractDuration.val.fillRange=this.getProgress(o.secondToFrame(5),o.secondToFrame(30),i.AttractDuration),this.shieldDuration.val.fillRange=this.getProgress(o.secondToFrame(5),o.secondToFrame(30),i.ShieldDuration),this.ScoreAddDuration.val.fillRange=this.getProgress(o.secondToFrame(5),o.secondToFrame(30),i.scoreAddDuration)},i.getProgress=function(t,i,e){return(e-t)/(i-t)},t}());var a=function(){function t(){this.root=void 0,this.name=void 0,this.val=void 0}return t.prototype.init=function(t){this.root=t,this.name=this.root.getChildByPath("Name").getComponent(e),this.val=this.root.getChildByPath("val").getComponent(n)},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleFollowed.ts",["cc","./ResMgr2.ts"],(function(t){var n,i,o,e;return{setters:[function(t){n=t.cclegacy,i=t.Label,o=t.instantiate},function(t){e=t.ResMgr}],execute:function(){n._RF.push({},"9963d3u305PnZc0CTKDC8F8","UiRoleFollowed",void 0);t("UiRoleFollowed",function(){function t(){this.root=void 0,this.nickname=void 0}return t.create=function(){var n,i=e.ins.ui.getChildByPath("FoleFollowed"),r=o(i),s=new t;return s.init(r),r.setParent(null==l||null==(n=l.ins)?void 0:n.root,!1),s},t.prototype.init=function(t){this.root=t,this.nickname=this.root.getChildByName("Nickname").getComponent(i),this.nickname.string=""},t}());var l=t("UiRoleFollowedLayer",(function(){this.root=void 0}));l.ins=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleGet.ts",["cc","./Sound.ts","./Account.ts","./UiMoney.ts","./CfgRoleStore.ts","./UiItem.ts","./MoneySub.ts","./UiToast.ts","./UiMain2.ts","./CfgRole.ts","./Vibrate.ts"],(function(t){var i,e,s,n,o,h,c,l,a,r,u,d,f,g;return{setters:[function(t){i=t.cclegacy,e=t.Input,s=t.Label},function(t){n=t.Sound},function(t){o=t.Account,h=t.AccountPersist},function(t){c=t.UiMoney},function(t){l=t.CfgRoleStore},function(t){a=t.UiTextItem},function(t){r=t.MoneySub},function(t){u=t.UiToast},function(t){d=t.UiMain},function(t){f=t.CfgRole},function(t){g=t.Vibrate}],execute:function(){i._RF.push({},"baec2VpurJBOI64Ci9iF+wk","UiRoleGet",void 0);t("UiRoleGet",function(){function t(){this.uiRole=null,this.root=void 0,this.using=void 0,this.btnUse=void 0,this.btnGet=void 0,this.text=void 0,this.costMoney=new a,this.cfgItem=null}var i=t.prototype;return i.init=function(t){this.root=t,this.using=this.root.getChildByPath("Using"),this.btnUse=this.root.getChildByPath("btnUse"),this.btnUse.on(e.EventType.TOUCH_END,this.onClick_Use,this),this.btnGet=this.root.getChildByPath("btnGet"),this.btnGet.on(e.EventType.TOUCH_END,this.onClick_Get,this),this.text=this.root.getChildByPath("Way").getComponentInChildren(s),this.root.getChildByPath("Cost").active=!0,this.costMoney.init(this.root.getChildByPath("Cost/Money"))},i.showUsing=function(){this.hideAll(),this.using.active=!0},i.showBtnUse=function(){this.hideAll(),this.btnUse.active=!0},i.showGet=function(){var t=this.uiRole.roleList.sl.itemSelected.data;this.cfgItem=l.data.find((function(i){return i.id==t})),"DailyCheckin"!=this.cfgItem.way?(this.hideAll(),this.btnGet.active=!0,this.cfgItem.costMoney>=0&&(this.costMoney.root.active=!0,this.costMoney.val.string=this.cfgItem.costMoney.toString())):this.showText("通过每日签到获取")},i.showText=function(t){this.hideAll(),this.text.node.parent.active=!0,this.text.string=t},i.hideAll=function(){this.using.active=!1,this.btnUse.active=!1,this.btnGet.active=!1,this.costMoney.root.active=!1,this.text.node.parent.active=!1},i.refresh=function(){var t=o.ins,i=this.uiRole.roleList.sl.itemSelected.data;0==t.rolesOwned.has(i)?this.showGet():i==o.ins.roleUsing?this.showUsing():this.showBtnUse()},i.onClick_Use=function(){n.ins.btnClick(),this.showUsing(),o.ins.roleUsing=this.uiRole.roleList.sl.itemSelected.data,h.save()},i.onClick_Get=function(){if(n.ins.btnClick(),0!=r.subDialog(this.cfgItem.costMoney)){var t=this.uiRole.roleList.sl.itemSelected.data;o.ins.rolesOwned.add(t),h.save(),this.refresh(),this.uiRole.roleList.refreshLock(),c.ins.refresh();var i="获得新角色："+f.data.get(t).name,e=u.create(d.ins.root,i);e.widget.bottom=250,e.widget.updateAlignment(),e.show(),g.ins.exe(4)}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgRole.ts","./Account.ts","./RoleBooth.ts","./ResMgr.ts","./UiScrollList.ts","./CfgRoleStore.ts","./TextureOriginalRatioSprite.ts"],(function(t){var e,i,o,n,s,r,l,a,c,u,h;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.tween,n=t.Sprite},function(t){s=t.CfgRole},function(t){r=t.Account},function(t){l=t.RoleBoothOp},function(t){a=t.ResMgr},function(t){c=t.UiScrollList},function(t){u=t.CfgRoleStore},function(t){h=t.TextureOriginalRatioSprite}],execute:function(){i._RF.push({},"2d24eMmyqhAhZMfuFv2YJ0Y","UiRoleList",void 0);t("UiRoleList",function(){function t(){this.uiRole=void 0,this.sl=new c}var i=t.prototype;return i.init=function(t){var i=this;this.sl.init(t);for(var n,s=e(u.data);!(n=s()).done;){var l=n.value,a=this.sl.addItem();a.data=l.id,this.refreshItem(a)}var c=r.ins.roleUsing,h=this.sl.items.find((function(t){return t.data==c}));this.sl.setItemSelected(h),o(this).delay(.01).call((function(){i.sl.scrollToCurrent(0)})).start(),this.sl.onChangeSelect=this.onChangeSelect.bind(this),this.refreshLock()},i.refreshItem=function(t){var e,i=t.data,o=null==(e=a.ins.roleIcon.getChildByPath(i))||null==(e=e.getComponent(n))?void 0:e.spriteFrame;null!=o&&(t.icon.spriteFrame=o,h.exe(t.icon)),t.name.string=i,t.name.node.active=!1},i.refreshLock=function(){for(var t,i=r.ins,o=e(this.sl.items);!(t=o()).done;){var n=t.value,s=n.data;n.lock.active=!i.rolesOwned.has(s)}},i.onChangeSelect=function(t){var e=t.data;l.show(e),this.uiRole.roleGet.refresh(),this.uiRole.roleGet.root.active=!0,this.uiRole.tailGet.root.active=!1,this.uiRole.name.string=s.data.get(e).name,this.uiRole.tab.showHeaderAndPage(0),this.uiRole.attribute.refresh(e)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiTabHeader.ts","./Sound.ts"],(function(t){var e,i,o,s,a;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.Input},function(t){s=t.UiTabHeader},function(t){a=t.Sound}],execute:function(){i._RF.push({},"55fc6rd1ANBUb80xFz32lP7","UiRoleTab",void 0);t("UiRoleTab",function(){function t(){this.uiRole=null,this.root=void 0,this.header=new s,this.pages=new Array}var i=t.prototype;return i.init=function(t){var e=this;this.root=t,this.header.init(this.root);for(var i=function(){var t=s;e.header.items[s].off.on(o.EventType.TOUCH_END,(function(){e.onClick_HeaderItem(t)}))},s=0;s<this.header.items.length;++s)i();this.header.items[0].setState(!0),this.pages.push(this.uiRole.attribute.root),this.pages.push(this.uiRole.tailList.root),this.showPage(0)},i.onClick_HeaderItem=function(t){a.ins.btnClick(),this.showPage(t),0==t?(this.uiRole.roleGet.root.active=!0,this.uiRole.tailGet.root.active=!1):1==t&&(this.uiRole.roleGet.root.active=!1,this.uiRole.tailGet.root.active=!0)},i.showPage=function(t){for(var i,o=e(this.pages);!(i=o()).done;){i.value.active=!1}this.pages[t].active=!0},i.showHeaderAndPage=function(t){this.header.show(t),this.showPage(t)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleTailGet.ts",["cc","./Sound.ts","./Account.ts","./UiItem.ts","./MoneySub.ts","./CfgTailStore.ts","./UiToast.ts","./UiMain2.ts","./UiMoney.ts","./Vibrate.ts"],(function(t){var i,e,s,n,o,h,c,a,l,u,r,d,f;return{setters:[function(t){i=t.cclegacy,e=t.Input,s=t.Label},function(t){n=t.Sound},function(t){o=t.Account,h=t.AccountPersist},function(t){c=t.UiTextItem},function(t){a=t.MoneySub},function(t){l=t.CfgTailStore},function(t){u=t.UiToast},function(t){r=t.UiMain},function(t){d=t.UiMoney},function(t){f=t.Vibrate}],execute:function(){i._RF.push({},"7c8f3Avs4xEOIfOD/0Bd22k","UiRoleTailGet",void 0);t("UiRoleTailGet",function(){function t(){this.uiRole=null,this.root=void 0,this.using=void 0,this.btnUse=void 0,this.btnGet=void 0,this.text=void 0,this.costMoney=new c,this.cfgItem=null}var i=t.prototype;return i.init=function(t){this.root=t,this.using=this.root.getChildByPath("Using"),this.btnUse=this.root.getChildByPath("btnUse"),this.btnUse.on(e.EventType.TOUCH_END,this.onClick_Use,this),this.btnGet=this.root.getChildByPath("btnGet"),this.btnGet.on(e.EventType.TOUCH_END,this.onClick_Get,this),this.root.getChildByPath("Cost").active=!0,this.costMoney.init(this.root.getChildByPath("Cost/Money")),this.text=this.root.getChildByPath("Way").getComponentInChildren(s)},i.showUsing=function(){this.hideAll(),this.using.active=!0},i.showBtnUse=function(){this.hideAll(),this.btnUse.active=!0},i.showGet=function(){this.hideAll(),this.btnGet.active=!0;var t=this.uiRole.tailList.sl.itemSelected.data;this.cfgItem=l.data.find((function(i){return i.id==t})),this.cfgItem.costMoney>=0&&(this.costMoney.root.active=!0,this.costMoney.val.string=this.cfgItem.costMoney.toString())},i.hideAll=function(){this.using.active=!1,this.btnUse.active=!1,this.btnGet.active=!1,this.costMoney.root.active=!1,this.text.node.parent.active=!1},i.refresh=function(){var t=o.ins,i=this.uiRole.tailList.sl.itemSelected.data;0==t.tailsOwned.has(i)?this.showGet():i==o.ins.tailUsing?this.showUsing():this.showBtnUse()},i.onClick_Use=function(){n.ins.btnClick(),this.showUsing(),o.ins.tailUsing=this.uiRole.tailList.sl.itemSelected.data,h.save()},i.onClick_Get=function(){if(n.ins.btnClick(),0!=a.subDialog(this.cfgItem.costMoney)){var t=this.uiRole.tailList.sl.itemSelected.data;o.ins.tailsOwned.add(t),this.refresh(),this.uiRole.tailList.refreshLock(),d.ins.refresh();var i=u.create(r.ins.root,"获得新尾巴");i.widget.bottom=250,i.widget.updateAlignment(),i.show(),f.ins.exe(4)}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiRoleTailList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UiScrollList.ts","./Account.ts","./CfgTailStore.ts","./ResMgr.ts","./RoleBooth.ts","./TextureOriginalRatioSprite.ts"],(function(t){var e,i,o,n,s,r,l,a,c;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.Sprite},function(t){n=t.UiScrollList},function(t){s=t.Account},function(t){r=t.CfgTailStore},function(t){l=t.ResMgr},function(t){a=t.RoleBoothOp},function(t){c=t.TextureOriginalRatioSprite}],execute:function(){i._RF.push({},"ef0f7W5yMBP9JQUlv6nNLJt","UiRoleTailList",void 0);t("UiRoleTailList",function(){function t(){this.uiRole=void 0,this.root=void 0,this.sl=new n}var i=t.prototype;return i.init=function(t){this.root=t,this.sl.init(t);for(var i,o=e(r.data.values());!(i=o()).done;){var n=i.value,l=this.sl.addItem();l.data=n.id,this.refreshItem(l)}var a=s.ins.tailUsing,c=this.sl.items.find((function(t){return t.data==a}));null==c&&(c=this.sl.items[0]),this.sl.setItemSelected(c),this.sl.onChangeSelect=this.onChangeSelect.bind(this),this.refreshLock()},i.refreshItem=function(t){var e,i=t.data,n=null==(e=l.ins.tailIcon.getChildByPath(i))||null==(e=e.getComponent(o))?void 0:e.spriteFrame;null!=n&&(t.icon.spriteFrame=n,c.exe(t.icon)),t.name.string=i,t.name.node.destroy()},i.refreshLock=function(){for(var t,i=s.ins,o=e(this.sl.items);!(t=o()).done;){var n=t.value,r=n.data;n.lock.active=!i.tailsOwned.has(r)}},i.onChangeSelect=function(t){this.uiRole.tailGet.refresh(),this.uiRole.roleGet.root.active=!1,this.uiRole.tailGet.root.active=!0;var e=t.data;a.showTail(e)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiScrollList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Sound.ts"],(function(t){var e,i,o,s,n,h,c,l,r,d,a;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.Layout,s=t.ScrollView,n=t.Input,h=t.instantiate,c=t.Vec2,l=t.Sprite,r=t.Label,d=t.Vec3},function(t){a=t.Sound}],execute:function(){i._RF.push({},"b57c06Jh+JFaKIcVhifOK+3","UiScrollList",void 0);t("UiScrollList",function(){function t(){this.onChangeSelect=void 0,this.root=void 0,this.content=void 0,this.layout=void 0,this.itemPf=void 0,this.items=new Array,this.sv=void 0,this.itemSelected=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.content=this.root.getChildByPath("sv/view/content"),this.layout=this.content.getComponent(o),this.itemPf=this.content.getChildByPath("item"),this.itemPf.active=!1,this.sv=this.root.getChildByPath("sv").getComponent(s),this.root.getChildByPath("btnPrev").on(n.EventType.TOUCH_END,this.onClick_Prev,this),this.root.getChildByPath("btnNext").on(n.EventType.TOUCH_END,this.onClick_Next,this),this.initList()},i.initList=function(){},i.addItem=function(){var t=this,e=h(this.itemPf);e.setParent(this.content,!1),e.active=!0;var i=new v;return i.init(e),this.items.push(i),i.root.on(n.EventType.TOUCH_END,(function(){t.selectItem(i)})),i},i.selectItem=function(t){var e;1!=t.isSelected&&(this.setItemSelected(t),a.ins.btnClick(),null==(e=this.onChangeSelect)||e.call(this,t))},i.setItemSelected=function(t){for(var i,o=e(this.items);!(i=o()).done;){i.value.setSelected(!1)}t.setSelected(!0),this.itemSelected=t},i.onClick_Prev=function(){var t=this.items.findIndex((function(t){return 1==t.isSelected}));if(0!=t){t--;var e=this.items[t];this.selectItem(e),this.scrollToCurrent()}},i.onClick_Next=function(){var t=this.items.findIndex((function(t){return 1==t.isSelected}));if(!(t>=this.items.length-1)){t++;var e=this.items[t];this.selectItem(e),this.scrollToCurrent()}},i.scrollToCurrent=function(t){void 0===t&&(t=.2);var e=this.items.indexOf(this.itemSelected);if(e<2)this.sv.scrollToTop(t);else if(e>=this.items.length-2)this.sv.scrollToBottom(t);else{var i=this.itemSelected.root.position.y-this.items[2].root.position.y;i=Math.abs(i),this.sv.scrollToOffset(new c(0,80+i),t)}},t}());var v=t("UiScrollListItem",function(){function t(){this.data=void 0,this.root=void 0,this.icon=void 0,this.name=void 0,this.bgSelected=void 0,this.lock=void 0,this.isSelected=!1}var e=t.prototype;return e.init=function(t){this.root=t,this.bgSelected=this.root.getChildByPath("bgSelected"),this.bgSelected.active=!1,this.icon=this.root.getChildByPath("Icon").getComponent(l),this.name=this.root.getChildByPath("Name").getComponent(r),this.lock=this.root.getChildByPath("Lock")},e.setSelected=function(t){if(this.bgSelected.active=t,0==t)return this.root.scale=d.ONE,void(this.isSelected=!1);this.root.scale=new d(1.1,1.1,1.1),this.isSelected=!0},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiSettings.ts",["cc","./Sound.ts","./UiSwitch.ts","./AudioSettingsPersist.ts","./Bgm.ts","./UiEffect.ts","./Vibrate.ts","./Ad.ts","./UiPopup.ts"],(function(t){var i,n,e,s,o,c,u,r,a,h,f,d,l,b;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.resources,s=t.instantiate,o=t.Vec3},function(t){c=t.Sound},function(t){u=t.UiSwitch},function(t){r=t.AudioSettingsPersist},function(t){a=t.Bgm},function(t){h=t.UiEffectPopup},function(t){f=t.Vibrate,d=t.VibratePersist},function(t){l=t.Ad},function(t){b=t.UiPopup}],execute:function(){i._RF.push({},"39f1cil2Y5BJZYdk8khjcKu","UiSettings",void 0);t("UiSettings",function(){function t(){this.root=null,this.btnNewGame=null}t.create=function(i){e.load("Common/Settings",(function(n,e){var c=s(e),u=new t;return c.setParent(i,!1),c.position=o.ZERO,h.show(c),u.init(c),l.ins.showInterstitial(),u}))};var i=t.prototype;return i.init=function(t){this.root=t,b.create(this.root,!1),this.initAudio(),this.initVibrate()},i.initVibrate=function(){var t=new u;t.init(this.root.getChildByPath("Btns/Vibrate/Switch")),t.isOn=f.ins.enabled,t.root.on(n.EventType.TOUCH_END,(function(){c.ins.btnClick(),f.ins.enabled=t.isOn,d.save(),1==f.ins.enabled&&f.ins.exe(1)}))},i.initAudio=function(){var t=new u;t.init(this.root.getChildByPath("Btns/Sound/Switch")),t.isOn=c.ins.enabled,t.root.on(n.EventType.TOUCH_END,(function(){c.ins.enabled=t.isOn,r.save(),c.ins.btnClick()}));var i=new u;i.init(this.root.getChildByPath("Btns/Music/Switch")),i.isOn=a.ins.enabled,i.root.on(n.EventType.TOUCH_END,(function(){a.ins.enabled=i.isOn,r.save(),c.ins.btnClick(),1==i.isOn&&a.ins.home()}))},i.show=function(){this.root.active=!0,h.show(this.root)},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiSettle.ts",["cc","./ResMgr2.ts","./UiMain.ts","./RoleMgr.ts","./UiRanking2.ts","./Sound.ts","./UiEffect.ts","./Share.ts","./Ad.ts","./Account.ts"],(function(t){var n,i,o,e,s,r,a,h,c,l,u,f,d,g,C,v,y,p;return{setters:[function(t){n=t.cclegacy,i=t.Vec3,o=t.UITransform,e=t.Size,s=t.Input,r=t.director,a=t.instantiate,h=t.Label},function(t){c=t.ResMgr},function(t){l=t.UiMain},function(t){u=t.RoleMgr},function(t){f=t.UiRanking},function(t){d=t.Sound},function(t){g=t.UiEffectPopup},function(t){C=t.Share},function(t){v=t.Ad},function(t){y=t.AccountPersist,p=t.Account}],execute:function(){n._RF.push({},"8c499EsZLpD0Ytm1c76hZDv","UiSettle",void 0);t("UiSettle",function(){function t(){this.root=void 0}t.create=function(){var n=c.ins.ui.getChildByPath("Settle-001"),i=a(n),o=new t;return o.init(i),o.refresh(),i.setParent(l.ins.root,!1),g.show(i),o};var n=t.prototype;return n.init=function(t){this.root=t,this.root.position=i.ZERO,this.root.getChildByPath("mask").getComponent(o).setContentSize(new e(3e4,3e4));var n=this.root.getChildByPath("btns/btnAgain");n.on(s.EventType.TOUCH_END,this.onClick_Again,this),(n=this.root.getChildByPath("btns/btnBack")).on(s.EventType.TOUCH_END,this.onClick_Home,this),(n=this.root.getChildByPath("btnShare")).on(s.EventType.TOUCH_END,(function(){d.ins.btnClick(),C.exe()}))},n.onClick_Again=function(){d.ins.btnClick(),r.loadScene("Game")},n.onClick_Home=function(){d.ins.btnClick(),r.loadScene("Home")},n.refresh=function(){(new m).init(this.root.getChildByPath("List"))},t}());var m=function(){function t(){this.root=void 0}var n=t.prototype;return n.init=function(t){this.root=t,this.refresh();var n=new S;n.init(this.root.getChildByPath("Money")),n.refresh()},n.refresh=function(){var t=u.ins.local,n=this.root.getChildByPath("Score/val").getComponent(h);n.string=t.stat.score.toString(),(n=this.root.getChildByPath("Kill/val").getComponent(h)).string=t.stat.killCount.toString(),f.ins.sort();var i=(f.ins.roles.indexOf(t)+1).toString();(n=this.root.getChildByPath("Ranking/val").getComponent(h)).string=i},t}(),S=function(){function t(){this.root=void 0,this.btnAd=void 0}var n=t.prototype;return n.init=function(t){this.root=t,this.btnAd=this.root.getChildByPath("btnAd"),this.btnAd.on(s.EventType.TOUCH_END,this.onClick_Ad,this),0==u.ins.local.stat.moneyVal&&this.btnAd.destroy()},n.onClick_Ad=function(){var t=this;d.ins.btnClick(),v.ins.showRewardedVideo((function(){t.btnAd.destroy();var n=u.ins.local;p.ins.money+=n.stat.moneyVal,y.save(),t.root.getChildByPath("val").getComponent(h).string="+"+2*n.stat.moneyVal}))},n.refresh=function(){var t=u.ins.local;this.root.getChildByPath("val").getComponent(h).string="+"+t.stat.moneyVal},t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/UiShop.ts",["cc","./UiMain2.ts","./UiEffect.ts","./UiPopup.ts","./ResMgr.ts","./TextureOriginalRatioSprite.ts","./RewardGet.ts","./Sound.ts","./MoneySub.ts","./UiMoney.ts","./StringMgr.ts","./Ad.ts","./CfgShop.ts"],(function(t){var i,n,o,e,s,r,h,c,u,f,g,a,l,p,d,C,v;return{setters:[function(t){i=t.cclegacy,n=t.Input,o=t.instantiate,e=t.Label,s=t.Sprite},function(t){r=t.UiMain},function(t){h=t.UiEffectPopup},function(t){c=t.UiPopup},function(t){u=t.ResMgr},function(t){f=t.TextureOriginalRatioSprite},function(t){g=t.RewardGet},function(t){a=t.Sound},function(t){l=t.MoneySub},function(t){p=t.UiMoney},function(t){d=t.StringMgr},function(t){C=t.Ad},function(t){v=t.CfgShop}],execute:function(){i._RF.push({},"5d0baWEOmVHooNzhpWaey8z","UiShop",void 0),t("UiShop",function(){function t(){this.root=void 0,this.items=new Array}return t.create=function(i){void 0===i&&(i=null),null==v.ins&&(v.ins=new v);var n=o(this.pf),e=new t;return null==i&&(i=r.ins.root),n.setParent(i,!1),h.show(n),e.init(n),e},t.prototype.init=function(t){this.root=t,C.ins.showBanner(),c.create(this.root,!1).btnClose.on(n.EventType.TOUCH_END,(function(){C.ins.hideBanner()}));for(var i=this.root.getChildByPath("List").children,o=0;o<i.length;++o){var e=new y;e.init(i[o]),this.items.push(e),e.cfg=v.ins.data[o],e.refreh()}},t}()).pf=null;var y=function(){function t(){this.cfg=null,this.root=void 0,this.title=void 0,this.icon=void 0,this.count=void 0,this.cost=void 0,this.btn=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.title=this.root.getChildByPath("Title").getComponent(e),this.icon=this.root.getChildByPath("Icon").getComponent(s),this.count=this.root.getChildByPath("Count").getComponent(e),this.cost=this.root.getChildByPath("btn/Cost").getComponent(e),this.btn=this.root.getChildByPath("btn"),this.btn.on(n.EventType.TOUCH_END,this.onClick_btn,this)},i.refreh=function(){this.title.string=d.get("ArticleName_"+this.cfg.id);var t=u.ins.Icon.getChildByPath(this.cfg.id);this.icon.spriteFrame=t.getComponent(s).spriteFrame,f.exe(this.icon),this.count.string="x"+this.cfg.count.toString(),this.cost.string="x"+this.cfg.price.toString()},i.onClick_btn=function(){a.ins.btnClick(),0!=l.subDialog(this.cfg.price)&&(p.ins.refreshRolling(),g.exe(this.cfg.id,this.cfg.count,null,!1))},t}();i._RF.pop()}}}));

System.register("chunks:///_virtual/UiSwitch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,o;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy,o=t.Input}],execute:function(){n._RF.push({},"b91edvneg5JQahBpj7AS/7Z","UiSwitch",void 0);t("UiSwitch",function(){function t(){this.root=void 0,this.on=void 0,this.off=void 0}return t.prototype.init=function(t){var i=this;this.root=t,this.on=this.root.getChildByPath("On"),this.off=this.root.getChildByPath("Off"),this.isOn=!0,this.root.on(o.EventType.TOUCH_END,(function(){i.isOn=!i.isOn}),this)},i(t,[{key:"isOn",get:function(){return this.on.active},set:function(t){this.on.active=t,this.off.active=!t}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UiTabHeader.ts",["cc"],(function(t){var i,o;return{setters:[function(t){i=t.cclegacy,o=t.Input}],execute:function(){i._RF.push({},"16558amq05OVquXAPS2+/mk","UiTabHeader",void 0);t("UiTabHeader",function(){function t(){this.root=void 0,this.items=new Array}var i=t.prototype;return i.init=function(t){var i=this;this.root=t;for(var n=this.root.children,s=function(){var t=new e;t.init(n[r]),i.items.push(t);var s=r;t.off.on(o.EventType.TOUCH_END,(function(){i.show(s)}))},r=0;r<n.length;++r)s()},i.show=function(t){for(var i=0;i<this.items.length;++i)this.items[i].setState(!1);this.items[t].setState(!0)},t}());var e=t("UiTabHeaderItem",function(){function t(){this.root=void 0,this.on=void 0,this.off=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.on=this.root.getChildByPath("On"),this.off=this.root.getChildByPath("Off"),this.setState(!1)},i.setState=function(t){this.on.active=t,this.off.active=!t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiTask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DailyTaskDataGen.ts","./DailyTaskData.ts","./DailyTaskHelper.ts","./UiEffect.ts","./StatToday.ts"],(function(t){var e,s,r,i,o,a,n,h,l,c,u;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,r=t.Sprite,i=t.Label,o=t.tween,a=t.Tween},function(t){n=t.DailyTaskDataGen},function(t){h=t.DailyTaskData},function(t){l=t.DailyTaskHelper},function(t){c=t.UiEffectPopup},function(t){u=t.StatTodayUpdate}],execute:function(){s._RF.push({},"f570c2mXGxPXphh6dyGMfPj","UiTask",void 0),t("UiTask",function(){function t(){this.root=void 0,this.text=void 0,this.bar=void 0,this.percent=void 0,this.taskId=null}var s=t.prototype;return s.init=function(t){var e=this;this.root=t,this.bar=this.root.getChildByPath("Bar/val").getComponent(r),this.bar.fillRange=0,this.percent=this.root.getChildByPath("Percent").getComponent(i),this.percent.string="0%",this.text=this.root.getChildByPath("Text").getComponent(i),this.text.string="",n.todayGen(),this.root.active=!1,this.taskId=this.getTask(),null==this.taskId?this.root.active=!1:o(this.root).delay(.1).call((function(){e.root.active=!0,c.show(e.root),e.text.string=l.getDescr(e.taskId),e.refresh(),e.startAutoRefresh()})).start()},s.startAutoRefresh=function(){var t=this;o(this.root).sequence(o(this.root).delay(1),o(this.root).call((function(){t.refresh()}))).repeatForever().start()},s.refresh=function(){if(null!=this.taskId&&(u.update(),!(this.refreshProgress()<1))){if(this.taskId=this.getTask(),null==this.taskId)return c.hide(this.root),void a.stopAllByTarget(this.root);this.refreshProgress(),this.text.string=l.getDescr(this.taskId)}},s.refreshProgress=function(){var t=l.getProgressPercent2(this.taskId);return this.bar.fillRange=t,this.percent.string=Math.floor(100*t)+"%",t},s.getTask=function(){for(var t,s=e(h.ins.items);!(t=s()).done;){var r=t.value;if(l.getProgressPercent(r.taskId)<1)return r.taskId}return null},t}()).ins=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/UiTextPrompt.ts",["cc","./ResMgr2.ts"],(function(t){var i,o,e,s,n,r,c,h,a;return{setters:[function(t){i=t.cclegacy,o=t.Label,e=t.UIOpacity,s=t.Vec3,n=t.Widget,r=t.Tween,c=t.tween,h=t.instantiate},function(t){a=t.ResMgr}],execute:function(){i._RF.push({},"59cbdROagVPsoV3hNevT32p","UiTextPrompt",void 0);t("UiTextPrompt",function(){function t(){this.root=void 0,this.text=void 0,this.opacity=void 0,this.widget=void 0}t.show=function(t,i){this.create(t,i).show()},t.create=function(i,o){var e=new t,s=a.ins.ui.getChildByPath("TextPrompt"),n=h(s);return e.init(n),e.root.setParent(i),e.text.string=o,e.widget.updateAlignment(),e};var i=t.prototype;return i.init=function(t){this.root=t,this.text=this.root.getComponentInChildren(o),this.opacity=this.root.getComponent(e),this.root.position=s.ZERO,this.widget=this.root.getComponent(n),this.widget.isAlignBottom=!0,this.widget.bottom=200},i.show=function(){var t=this;this.widget.enabled=!1,r.stopAllByTarget(this.root),r.stopAllByTarget(this.opacity),this.root.active=!0;var i=this.root.position.subtract3f(0,50,0);this.root.position=i,c(this.root).sequence(c(this.root).by(.3,{position:new s(0,50)}),c(this.root).delay(1),c(this.root).by(.3,{position:new s(0,50)})).start(),this.opacity.opacity=0,c(this.opacity).sequence(c(this.opacity).to(.3,{opacity:255}),c(this.opacity).delay(1),c(this.opacity).to(.3,{opacity:0}),c(this.opacity).call((function(){t.root.active=!1}))).start()},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UiToast.ts",["cc"],(function(t){var i,o,e,s,n,r,a,c;return{setters:[function(t){i=t.cclegacy,o=t.Label,e=t.UIOpacity,s=t.Vec3,n=t.Widget,r=t.Tween,a=t.tween,c=t.instantiate}],execute:function(){i._RF.push({},"e0f36H9LbZERq5K6Z8NBStN","UiToast",void 0),t("UiToast",function(){function t(){this.root=void 0,this.text=void 0,this.opacity=void 0,this.widget=void 0}t.show=function(t,i){var o=this.create(t,i);return o.show(),o},t.create=function(i,o){var e=new t,s=c(this.pf);return e.init(s),e.root.setParent(i),e.text.string=o,e.widget.updateAlignment(),e};var i=t.prototype;return i.init=function(t){this.root=t,this.text=this.root.getComponentInChildren(o),this.opacity=this.root.getComponent(e),this.root.position=s.ZERO,this.widget=this.root.getComponent(n),this.widget.isAlignBottom=!0,this.widget.bottom=200},i.show=function(){var t=this;this.widget.enabled=!1,r.stopAllByTarget(this.root),r.stopAllByTarget(this.opacity),this.root.active=!0;var i=this.root.position.subtract3f(0,50,0);this.root.position=i,a(this.root).sequence(a(this.root).by(.3,{position:new s(0,50)}),a(this.root).delay(1),a(this.root).by(.3,{position:new s(0,50)})).start(),this.opacity.opacity=0,a(this.opacity).sequence(a(this.opacity).to(.3,{opacity:255}),a(this.opacity).delay(1),a(this.opacity).to(.3,{opacity:0}),a(this.opacity).call((function(){t.root.active=!1}))).start()},t}()).pf=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiTouchRole.ts",["cc","./RoleBooth.ts","./UiMargin.ts"],(function(o){var t,n,e;return{setters:[function(o){t=o.cclegacy,n=o.Input},function(o){e=o.RoleBooth},null],execute:function(){t._RF.push({},"2b50dKXRgVMe50vkYKIV6nv","UiTouchRole",void 0);o("UiTouchRole",function(){function o(){this.root=void 0,this.ea=void 0}var t=o.prototype;return t.init=function(o){this.root=o,this.root.on(n.EventType.TOUCH_START,this.onTouchStart,this),this.root.on(n.EventType.TOUCH_MOVE,this.onTouchMove,this),this.root.on(n.EventType.TOUCH_END,this.onTouchEnd,this),this.root.on(n.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},t.onTouchStart=function(o){o.getUILocation();this.ea=e.ins.role.view.root.eulerAngles.clone()},t.onTouchMove=function(o){var t=o.getUIStartLocation(),n=.6*(o.getUILocation().x-t.x),i=this.ea.clone().add3f(0,n,0);e.ins.role.view.root.eulerAngles=i},t.onTouchEnd=function(o){},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/UiTtSidebarReward.ts",["cc","./UiMain2.ts","./UiEffect.ts","./UiLoading.ts","./UiPopup.ts","./Sound.ts","./RewardGet.ts","./TtSidebarData.ts","./UiTtSidebarRewardBtn.ts"],(function(t){var i,n,e,o,r,s,a,c,u,d,f,l;return{setters:[function(t){i=t.cclegacy,n=t.Input,e=t.resources,o=t.instantiate},function(t){r=t.UiMain},function(t){s=t.UiEffectPopup},function(t){a=t.UiLoading},function(t){c=t.UiPopup},function(t){u=t.Sound},function(t){d=t.RewardGet},function(t){f=t.TtSidebarDataPersist},function(t){l=t.UiTtSidebarRewardBtn}],execute:function(){i._RF.push({},"b8276UkMqlMN69uCix8sV0e","UiTtSidebarReward",void 0);var h=t("UiTtSidebarReward",function(){function t(){this.root=void 0}t.loadAndCreate=function(){var t=this;if(null==this.pf){var i=a.create(r.ins.root);e.load("Home/TtSidebarReward",(function(n,e){i.root.destroy(),t.pf=e,t.create()}))}else this.create()},t.create=function(i){void 0===i&&(i=null);var n=o(this.pf),e=new t;return null==i&&(i=r.ins.root),n.setParent(i,!1),s.show(n),e.init(n),e};var i=t.prototype;return i.init=function(i){this.root=i,c.create(this.root,!1);var e=this.root.getChildByPath("Btns/btnGo");e.on(n.EventType.TOUCH_END,this.onClick_Go,this);var o=this.root.getChildByPath("Btns/btnGetReward");o.on(n.EventType.TOUCH_END,this.onClick_Get,this);var r=t.isFromSidebar;e.active=!r,o.active=r},i.onClick_Get=function(){u.ins.btnClick(),this.root.destroy(),d.exe("Money",10,null,!1),f.save(),l.ins.root.destroy(),l.ins=null},i.onClick_Go=function(){u.ins.btnClick(),this.root.destroy(),tt.navigateToScene({scene:"sidebar",success:function(t){console.log("navigate to scene success")},fail:function(t){console.log("navigate to scene fail: ",t)}})},t}());h.isFromSidebar=!1,h.pf=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/UiTtSidebarRewardBtn.ts",["cc","./Sound.ts","./UiTtSidebarReward.ts","./TtSidebarData.ts"],(function(t){var i,e,n,c,o,s,a;return{setters:[function(t){i=t.cclegacy,e=t.Input,n=t.sys},function(t){c=t.Sound},function(t){o=t.UiTtSidebarReward},function(t){s=t.TtSidebarDataPersist,a=t.TtSidebarData}],execute:function(){i._RF.push({},"3739d2IedVFqLKdhWF52/Ml","UiTtSidebarRewardBtn",void 0),t("UiTtSidebarRewardBtn",function(){function t(){this.root=void 0}var i=t.prototype;return i.init=function(t){this.root=t,this.check(),this.root.on(e.EventType.TOUCH_END,(function(){c.ins.btnClick(),o.loadAndCreate()}))},i.check=function(){var t=this;n.platform==n.Platform.BYTEDANCE_MINI_GAME?(s.load(),1!=a.ins.flag?tt.checkScene({scene:"sidebar",success:function(i){console.log("check scene success: ",i.isExist),t.root.active=i.isExist},fail:function(t){console.log("check scene fail:",t)}}):this.root.active=!1):this.root.active=!1},t}()).ins=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/VectorCalc.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"17138raFEtBipUXrLDl56tf","VectorCalc",void 0);t("VectorCalc",function(){function t(){}return t.angle=function(t,n,a,c){var r=Math.atan2(c,a)-Math.atan2(n,t);return r<0&&(r+=2*Math.PI),r>Math.PI&&(r=-(2*Math.PI-r)),r},t.rotate=function(t,n){var a=t.clone();return a.x=t.x*Math.cos(n)-t.z*Math.sin(n),a.z=t.x*Math.sin(n)+t.z*Math.cos(n),a},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Vibrate.ts",["cc","./WxHelper.ts"],(function(t){var n,e,r;return{setters:[function(t){n=t.cclegacy,e=t.sys},function(t){r=t.WxHelper}],execute:function(){n._RF.push({},"4d7b85qorBADKZVrdu8iU5b","Vibrate",void 0);var i=t("Vibrate",function(){function t(){this.enabled=!0}var n=t.prototype;return n.exe=function(t){if(0!=this.enabled)switch(e.platform){case e.Platform.WECHAT_GAME:this.wx(t);break;case e.Platform.BYTEDANCE_MINI_GAME:this.tt(t)}},n.wx=function(t){t<=0||(t<=3?r.vibrateShort(t):t>3&&r.vibrateLong())},n.tt=function(t){function n(n){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(t){t<=0||(t<=3?tt.vibrateShort():t>3&&tt.vibrateLong())})),t}());i.ins=null;t("VibratePersist",function(){function t(){}return t.load=function(){var t=e.localStorage.getItem("Vibrate");null!=t&&""!=t&&(i.ins.enabled="1"==t)},t.save=function(){e.localStorage.setItem("Vibrate",1==i.ins.enabled?"1":"0")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WeightProbability.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"6eb6ddHrVZHsYivtr6Toae5","WeightProbability",void 0);t("WeightProbabilityItem",(function(){this.name=void 0,this.probability=void 0})),t("WeightProbability",function(){function t(){this.weightCount=0,this.data=new Array}var i=t.prototype;return i.init=function(t){this.weightCount=0,this.data.splice(0,this.data.length);for(var i=0;i<t.length;++i){var n=t[i],a={};a.min=this.weightCount,a.max=this.weightCount+n.probability,a.id=n.name,this.data.push(a),this.weightCount+=n.probability}},i.add=function(t,i){var n={};n.min=this.weightCount,n.max=this.weightCount+i,n.id=t,this.data.push(n),this.weightCount+=i},i.get=function(){for(var i=null,n=t.rangeInt(0,this.weightCount-1),a=0;a<this.data.length;++a){var h=this.data[a];h.min<=n&&n<h.max&&(i=h.id)}return i},i.clear=function(){this.data.splice(0,this.data.length),this.weightCount=0},t.rangeInt=function(t,i){return Math.floor(Math.random()*(i+1-t))+t},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/WorldNode.ts",["cc"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy,i=t.find}],execute:function(){n._RF.push({},"2c9b2a7zZpPYYonAPUr7uW7","WorldNode",void 0);var o=t("WorldNode",(function(){this.root=null,this.entity=void 0,this.map=void 0}));o.ins=null;t("WorldNodeInit",function(){function t(){}return t.exe=function(){o.ins=new o,o.ins.root=i("World"),o.ins.entity=o.ins.root.getChildByPath("Entity"),o.ins.map=o.ins.root.getChildByPath("Map")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/WxHelper.ts",["cc"],(function(e){var t,r;return{setters:[function(e){t=e.cclegacy,r=e.sys}],execute:function(){t._RF.push({},"3050f/P0WVAkJYDMu7R8KQi","WxHelper",void 0);e("WxHelper",function(){function e(){}return e.enableShareMenu=function(){r.platform==r.Platform.WECHAT_GAME&&wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})},e.vibrateShort=function(e){if(r.platform==r.Platform.WECHAT_GAME){var t="light";1==e?t="light":2==e?t="medium":e>=3&&(t="heavy"),wx.vibrateShort({type:t})}},e.vibrateLong=function(){r.platform==r.Platform.WECHAT_GAME&&wx.vibrateLong()},e}());t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});